<view class="container"><view wx:if="{{a}}" class="step"><text class="title">为你的习惯起个名字</text><input class="habit-input" type="text" maxlength="20" placeholder="设定一个可执行的习惯" value="{{b}}" bindinput="{{c}}"/><view class="input-footer"><text class="counter">{{d}}/20</text><text class="input-tip">点击下方习惯卡片自动填充，左右滑动查看更多</text></view><input class="habit-input flag-input" type="text" maxlength="25" placeholder="设定一个目标宣言（选填）" value="{{e}}" bindinput="{{f}}"/><view class="input-footer"><text class="counter">{{g}}/25</text></view><button class="next-button" bindtap="{{h}}">下一步</button><scroll-view class="theme-suggestions-container" scroll-y bounces="{{false}}" enhanced="{{true}}" show-scrollbar="{{false}}"><view wx:for="{{i}}" wx:for-item="themeGroup" wx:key="c" class="habit-suggestions theme-suggestions"><text class="suggestion-title">{{themeGroup.a}}</text><scroll-view scroll-x bounces="{{false}}" class="suggestion-scroll" enhanced="{{true}}" show-scrollbar="{{false}}"><view class="suggestion-cards"><view wx:for="{{themeGroup.b}}" wx:for-item="habit" wx:key="c" class="{{['suggestion-card', 'theme-card', habit.d && 'active']}}" bindtap="{{habit.e}}"><view class="card-content"><text class="card-title">{{habit.a}}</text><text class="card-flag">{{habit.b}}</text></view></view></view></scroll-view></view></scroll-view></view><view wx:if="{{j}}" class="step step-category"><view class="step-header"><view class="back-button" bindtap="{{k}}"><text class="back-arrow">←</text></view><text class="habit-name">为"{{l}}"</text></view><text class="title">选择一个习惯类别</text><view class="search-row"><input class="search-input" type="text" placeholder="搜索习惯" confirm-type="search" value="{{m}}" bindinput="{{n}}"/><view class="icon-settings" bindtap="{{q}}"><view class="icon-preview" style="{{'background-color:' + p}}"><text class="emoji">{{o}}</text></view><text class="settings-tip">自定义</text></view></view><text class="emoji-tip">已根据习惯名称自动匹配图标：{{r}}</text><view wx:if="{{s}}" class="settings-modal"><view class="modal-content"><view class="settings-preview"><view class="preview-box" style="{{'background-color:' + v}}"><text class="preview-emoji">{{t}}</text></view></view><view class="settings-section"><text class="section-title">自定义图标</text><block wx:if="{{r0}}"><textarea class="emoji-input" maxlength="4" placeholder="请输入emoji表情" bindinput="{{w}}" value="{{x}}"/></block></view><view class="settings-section"><text class="section-title">自定义颜色</text><view class="color-input-row"><input class="color-input" type="text" placeholder="#RRGGBB" bindinput="{{y}}" value="{{z}}"/><view class="custom-color-preview" style="{{'background-color:' + A}}"/></view></view><view class="settings-section"><view class="preset-colors"><view wx:for="{{B}}" wx:for-item="color" wx:key="c" class="{{['color-item', color.d && 'active']}}" bindtap="{{color.e}}"><view class="color-preview" style="{{'background-color:' + color.a}}"/><text class="color-name">{{color.b}}</text></view></view></view><view class="modal-footer"><view class="modal-buttons"><text class="reset-btn" bindtap="{{C}}">重置</text><text class="cancel-btn" bindtap="{{D}}">取消</text><text class="save-btn" bindtap="{{E}}">确定</text></view></view></view></view><button class="complete-button" bindtap="{{F}}">完成</button><scroll-view class="categories-container" scroll-y bounces="{{false}}" enhanced="{{true}}" show-scrollbar="{{false}}"><view wx:for="{{G}}" wx:for-item="categoryGroup" wx:key="e" class="category-group" hidden="{{!categoryGroup.f}}"><view class="group-header"><text class="group-title">{{categoryGroup.a}}</text><view wx:if="{{categoryGroup.b}}" class="group-actions"><view class="lucky-button" bindtap="{{categoryGroup.c}}"><text class="lucky-text">试试手气</text><text class="lucky-icon">🎲</text></view></view></view><view class="categories"><view wx:for="{{categoryGroup.d}}" wx:for-item="category" wx:key="c" class="{{['category-item', category.d && 'active']}}" bindtap="{{category.e}}"><text class="emoji-icon">{{category.a}}</text><text class="label">{{category.b}}</text></view></view></view></scroll-view></view><view wx:if="{{H}}" class="step"><text class="title">设置每日提醒时间</text><text class="subtitle">通过每日提醒，保持你的习惯不间断。</text><view class="time-picker"><picker mode="time" value="{{K}}" bindchange="{{L}}"><view class="time-display"><text class="time">{{I}}</text><text class="period">{{J}}</text></view></picker></view><button class="save-button" bindtap="{{M}}">保存提醒</button><text class="skip-link" bindtap="{{N}}">稍后再说</text></view></view>