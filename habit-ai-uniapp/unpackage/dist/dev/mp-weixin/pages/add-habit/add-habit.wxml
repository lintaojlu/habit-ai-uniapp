<view class="container"><view wx:if="{{a}}" class="step"><text class="title">为你的习惯起个名字</text><input class="habit-input" type="text" maxlength="20" placeholder="设定一个可执行的习惯" value="{{b}}" bindinput="{{c}}"/><view class="input-footer"><text class="counter">{{d}}/20</text></view><input class="habit-input flag-input" type="text" maxlength="25" placeholder="设定一个目标宣言（选填）" value="{{e}}" bindinput="{{f}}"/><view class="input-footer"><text class="counter">{{g}}/25</text></view><view class="reminder-times"><text class="reminder-title">设置提醒时间</text><view class="reminder-list"><view wx:for="{{h}}" wx:for-item="time" wx:key="f" class="reminder-item"><picker mode="time" value="{{time.c}}" bindchange="{{time.d}}" class="time-picker"><view class="time-display"><text class="time">{{time.a}}</text><text class="period">{{time.b}}</text></view></picker><text class="delete-time" bindtap="{{time.e}}">×</text></view></view><view wx:if="{{i}}" class="add-time" bindtap="{{j}}"><text class="add-icon">+</text><text class="add-text">添加提醒时间</text></view></view><button class="next-button" bindtap="{{k}}">下一步</button></view><view wx:if="{{l}}" class="step step-category"><view class="step-header"><view class="back-button" bindtap="{{m}}"><text class="back-arrow">←</text></view><text class="habit-name">为"{{n}}"</text></view><text class="title">选择一个习惯类别</text><view class="search-row"><input class="search-input" type="text" placeholder="搜索习惯" confirm-type="search" value="{{o}}" bindinput="{{p}}"/><view class="icon-settings" bindtap="{{s}}"><view class="icon-preview" style="{{'background-color:' + r}}"><text class="emoji">{{q}}</text></view><text class="settings-tip">自定义</text></view></view><text class="emoji-tip">已根据习惯名称自动匹配图标：{{t}}</text><view wx:if="{{v}}" class="settings-modal"><view class="modal-content"><view class="settings-preview"><view class="preview-box" style="{{'background-color:' + x}}"><text class="preview-emoji">{{w}}</text></view></view><view class="settings-section"><text class="section-title">自定义图标</text><block wx:if="{{r0}}"><textarea class="emoji-input" maxlength="4" placeholder="请输入emoji表情" bindinput="{{y}}" value="{{z}}"/></block></view><view class="settings-section"><text class="section-title">自定义颜色</text><view class="color-input-row"><input class="color-input" type="text" placeholder="#RRGGBB" bindinput="{{A}}" value="{{B}}"/><view class="custom-color-preview" style="{{'background-color:' + C}}"/></view></view><view class="settings-section"><view class="preset-colors"><view wx:for="{{D}}" wx:for-item="color" wx:key="c" class="{{['color-item', color.d && 'active']}}" bindtap="{{color.e}}"><view class="color-preview" style="{{'background-color:' + color.a}}"/><text class="color-name">{{color.b}}</text></view></view></view><view class="modal-footer"><view class="modal-buttons"><text class="reset-btn" bindtap="{{E}}">重置</text><text class="cancel-btn" bindtap="{{F}}">取消</text><text class="save-btn" bindtap="{{G}}">确定</text></view></view></view></view><button class="complete-button" bindtap="{{H}}">完成</button><scroll-view class="categories-container" scroll-y bounces="{{false}}" enhanced="{{true}}" show-scrollbar="{{false}}"><view wx:for="{{I}}" wx:for-item="categoryGroup" wx:key="e" class="category-group" hidden="{{!categoryGroup.f}}"><view class="group-header"><text class="group-title">{{categoryGroup.a}}</text><view wx:if="{{categoryGroup.b}}" class="group-actions"><view class="lucky-button" bindtap="{{categoryGroup.c}}"><text class="lucky-text">试试手气</text><text class="lucky-icon">🎲</text></view></view></view><view class="categories"><view wx:for="{{categoryGroup.d}}" wx:for-item="category" wx:key="c" class="{{['category-item', category.d && 'active']}}" bindtap="{{category.e}}"><text class="emoji-icon">{{category.a}}</text><text class="label">{{category.b}}</text></view></view></view></scroll-view></view><view wx:if="{{J}}" class="step"><text class="title">设置每日提醒时间</text><text class="subtitle">通过每日提醒，保持你的习惯不间断。</text><view class="time-picker"><picker mode="time" value="{{M}}" bindchange="{{N}}"><view class="time-display"><text class="time">{{K}}</text><text class="period">{{L}}</text></view></picker></view><button class="save-button" bindtap="{{O}}">保存提醒</button><text class="skip-link" bindtap="{{P}}">稍后再说</text></view></view>