{"version":3,"file":"conv-card.js","sources":["components/conv-card.vue","/Users/linsir/Experiments/uni-app/habit-ai-uniapp/habit-ai-uniapp/components/conv-card.vue?type=component"],"sourcesContent":["<template>\n  <view class=\"conv-card-container\" v-if=\"show\" @tap=\"handleContainerClick\" @touchstart=\"handleTouchStart\" @touchmove=\"handleTouchMove\" @touchend=\"handleTouchEnd\">\n    <view class=\"conv-card\" :class=\"[\n      show && 'slide-in',\n      isClosingDown && 'slide-out-down',\n      isDragging && 'dragging'\n    ]\" :style=\"dragStyle\" @tap.stop>\n      <!-- Êó•ÊúüÊòæÁ§∫ -->\n      <view class=\"conv-date\">{{ formattedDate }}</view>\n\n      <!-- ÂØπËØùÂÜÖÂÆπÂå∫Âüü -->\n      <view class=\"conv-content\">\n        <view class=\"chat-message\">\n          <view class=\"avatar\">{{ emoji }}</view>\n          <view class=\"chat-bubble\">\n            <text class=\"message-text\">{{ content }}</text>\n          </view>\n        </view>\n      </view>\n\n      <!-- Â∫ïÈÉ®ÊèêÁ§∫ -->\n      <view class=\"swipe-hint\">\n        <text class=\"hint-text\">‰∏ãÊªëÂÖ≥Èó≠</text>\n        <text class=\"arrow-icon\">‚Üì</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  name: 'ConvCard',\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    emoji: {\n      type: String,\n      default: 'ü§ñ'\n    },\n    content: {\n      type: String,\n      default: ''\n    }\n  },\n\n  data() {\n    return {\n      isClosingDown: false,\n      isDragging: false,\n      startY: 0,\n      currentY: 0\n    }\n  },\n\n  computed: {\n    formattedDate() {\n      const now = new Date()\n      const year = now.getFullYear()\n      const month = now.getMonth() + 1\n      const date = now.getDate()\n      const weekDays = ['Âë®Êó•', 'Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠']\n      const weekDay = weekDays[now.getDay()]\n      return `${year}Âπ¥${month}Êúà${date}Êó• ${weekDay}`\n    },\n\n    dragStyle() {\n      if (!this.isDragging) return {}\n      const translateY = Math.max(0, this.currentY - this.startY)\n      return {\n        transform: `translateY(${translateY}px)`,\n        transition: 'none'\n      }\n    }\n  },\n\n  methods: {\n    handleTouchStart(e) {\n      this.startY = e.touches[0].clientY\n      this.isDragging = true\n      e.stopPropagation()\n    },\n\n    handleTouchMove(e) {\n      if (!this.isDragging) return\n      this.currentY = e.touches[0].clientY\n      e.preventDefault()\n      e.stopPropagation()\n    },\n\n    handleTouchEnd(e) {\n      if (!this.isDragging) return\n      const dragDistance = this.currentY - this.startY\n      if (dragDistance > 100) {\n        this.closeCard()\n      }\n      this.isDragging = false\n      this.startY = 0\n      this.currentY = 0\n      e.stopPropagation()\n    },\n\n    closeCard() {\n      this.isClosingDown = true\n      setTimeout(() => {\n        this.$emit('updateShow', false)\n        this.isClosingDown = false\n      }, 500)\n    }\n  }\n}\n</script>\n\n<style>\n.conv-card-container {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0,0,0,.3);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: opacity .3s ease;\n  touch-action: none;\n}\n\n.conv-card {\n  width: 85%;\n  max-width: 650rpx;\n  background: rgba(44,44,46,.8);\n  backdrop-filter: blur(20px);\n  border-radius: 32rpx;\n  border: 1px solid hsla(0,0%,100%,.15);\n  padding: 40rpx 30rpx;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  opacity: 0;\n  transform: translateY(100%);\n  box-shadow: 0 8rpx 32rpx rgba(0,0,0,.2);\n}\n\n.conv-date {\n  background: hsla(0,0%,100%,.1);\n  border-radius: 20rpx;\n  color: hsla(0,0%,100%,.7);\n  font-size: 24rpx;\n  font-weight: 500;\n  padding: 6rpx 16rpx;\n  position: absolute;\n  left: 24rpx;\n  top: 24rpx;\n}\n\n.conv-content {\n  margin: 60rpx 0 30rpx;\n  width: 100%;\n}\n\n.chat-message {\n  display: flex;\n  align-items: flex-start;\n  gap: 20rpx;\n  padding: 0 10rpx;\n}\n\n.avatar {\n  flex-shrink: 0;\n  width: 80rpx;\n  height: 80rpx;\n  background: rgba(255,159,10,.15);\n  border: 1px solid rgba(255,159,10,.2);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 40rpx;\n  box-shadow: 0 4rpx 12rpx rgba(255,159,10,.1);\n}\n\n.chat-bubble {\n  position: relative;\n  flex: 1;\n  background: rgba(255,159,10,.15);\n  border: 1px solid rgba(255,159,10,.2);\n  border-radius: 24rpx;\n  padding: 24rpx;\n  box-shadow: 0 4rpx 12rpx rgba(255,159,10,.1);\n}\n\n.chat-bubble::before {\n  content: '';\n  position: absolute;\n  left: -16rpx;\n  top: 24rpx;\n  border: 8rpx solid transparent;\n  border-right-color: rgba(255,159,10,.15);\n}\n\n.bubble-title {\n  color: #ff9f0a;\n  font-size: 32rpx;\n  font-weight: 600;\n  margin-bottom: 20rpx;\n}\n\n.bubble-list {\n  color: hsla(0,0%,100%,.9);\n}\n\n.bubble-item {\n  font-size: 28rpx;\n  line-height: 1.6;\n  margin-bottom: 16rpx;\n  padding-left: 16rpx;\n}\n\n.bubble-item:last-child {\n  margin-bottom: 0;\n}\n\n.swipe-hint {\n  align-items: center;\n  animation: floatAnimation 2s ease-in-out infinite;\n  color: hsla(0,0%,100%,.6);\n  display: flex;\n  flex-direction: column;\n  margin-top: 20rpx;\n}\n\n.swipe-hint .hint-text {\n  font-size: 24rpx;\n  margin-bottom: 8rpx;\n}\n\n.swipe-hint .arrow-icon {\n  font-size: 32rpx;\n  opacity: .8;\n}\n\n.conv-card.slide-in {\n  animation: slideIn .5s cubic-bezier(.4,0,.2,1) forwards;\n}\n\n.conv-card.slide-out-down {\n  animation: slideOutDown .5s cubic-bezier(.4,0,.2,1) forwards;\n}\n\n@keyframes slideIn {\n  0% {\n    opacity: 0;\n    transform: translateY(100%);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes slideOutDown {\n  0% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n  100% {\n    opacity: 0;\n    transform: translateY(100%);\n  }\n}\n\n@keyframes floatAnimation {\n  0%, 100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-10rpx);\n  }\n}\n\n.message-text {\n  font-size: 28rpx;\n  line-height: 1.6;\n  color: hsla(0,0%,100%,.9);\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n\n/* ÁßªÈô§‰∏çÈúÄË¶ÅÁöÑÊ†∑Âºè */\n.bubble-list,\n.bubble-item {\n  display: none;\n}\n</style>","import Component from '/Users/linsir/Experiments/uni-app/habit-ai-uniapp/habit-ai-uniapp/components/conv-card.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AA8BA,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,OAAO;AAAA,IACL,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,OAAO;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EAED,OAAO;AACL,WAAO;AAAA,MACL,eAAe;AAAA,MACf,YAAY;AAAA,MACZ,QAAQ;AAAA,MACR,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EAED,UAAU;AAAA,IACR,gBAAgB;AACd,YAAM,MAAM,oBAAI,KAAK;AACrB,YAAM,OAAO,IAAI,YAAY;AAC7B,YAAM,QAAQ,IAAI,SAAQ,IAAK;AAC/B,YAAM,OAAO,IAAI,QAAQ;AACzB,YAAM,WAAW,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;AAC1D,YAAM,UAAU,SAAS,IAAI,OAAM,CAAE;AACrC,aAAO,GAAG,IAAI,IAAI,KAAK,IAAI,IAAI,KAAK,OAAO;AAAA,IAC5C;AAAA,IAED,YAAY;AACV,UAAI,CAAC,KAAK;AAAY,eAAO,CAAC;AAC9B,YAAM,aAAa,KAAK,IAAI,GAAG,KAAK,WAAW,KAAK,MAAM;AAC1D,aAAO;AAAA,QACL,WAAW,cAAc,UAAU;AAAA,QACnC,YAAY;AAAA,MACd;AAAA,IACF;AAAA,EACD;AAAA,EAED,SAAS;AAAA,IACP,iBAAiB,GAAG;AAClB,WAAK,SAAS,EAAE,QAAQ,CAAC,EAAE;AAC3B,WAAK,aAAa;AAClB,QAAE,gBAAgB;AAAA,IACnB;AAAA,IAED,gBAAgB,GAAG;AACjB,UAAI,CAAC,KAAK;AAAY;AACtB,WAAK,WAAW,EAAE,QAAQ,CAAC,EAAE;AAC7B,QAAE,eAAe;AACjB,QAAE,gBAAgB;AAAA,IACnB;AAAA,IAED,eAAe,GAAG;AAChB,UAAI,CAAC,KAAK;AAAY;AACtB,YAAM,eAAe,KAAK,WAAW,KAAK;AAC1C,UAAI,eAAe,KAAK;AACtB,aAAK,UAAU;AAAA,MACjB;AACA,WAAK,aAAa;AAClB,WAAK,SAAS;AACd,WAAK,WAAW;AAChB,QAAE,gBAAgB;AAAA,IACnB;AAAA,IAED,YAAY;AACV,WAAK,gBAAgB;AACrB,iBAAW,MAAM;AACf,aAAK,MAAM,cAAc,KAAK;AAC9B,aAAK,gBAAgB;AAAA,MACtB,GAAE,GAAG;AAAA,IACR;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;AC9GA,GAAG,gBAAgB,SAAS;"}