{"version":3,"file":"api.js","sources":["utils/api.js"],"sourcesContent":["// utils/api.js\nconst baseURL = 'http://123.56.229.52:8000';\n\n// Export the request function\nexport function request(options) {\n    return new Promise((resolve, reject) => {\n        uni.request({\n            url: baseURL + options.url,\n            method: options.method || 'GET',\n            data: options.data || {},\n            header: {\n                'Content-Type': 'application/json',\n                'Authorization': uni.getStorageSync('token') ? `Bearer ${uni.getStorageSync('token')}` : '',\n                ...options.header\n            },\n            success: (res) => {\n                if (res.statusCode >= 200 && res.statusCode < 300) {\n                    resolve(res.data);\n                } else {\n                    reject(res.data);\n                }\n            },\n            fail: (err) => {\n                reject(err);\n            }\n        });\n    });\n}\n\n// 示例接口封装\nexport const getData = (params) => {\n    return request({ url: '/data', method: 'GET', data: params });\n};\n\nexport const postData = (data) => {\n    return request({ url: '/data', method: 'POST', data });\n};"],"names":["uni"],"mappings":";;AACA,MAAM,UAAU;AAGT,SAAS,QAAQ,SAAS;AAC7B,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpCA,kBAAAA,MAAI,QAAQ;AAAA,MACR,KAAK,UAAU,QAAQ;AAAA,MACvB,QAAQ,QAAQ,UAAU;AAAA,MAC1B,MAAM,QAAQ,QAAQ,CAAE;AAAA,MACxB,QAAQ;AAAA,QACJ,gBAAgB;AAAA,QAChB,iBAAiBA,cAAG,MAAC,eAAe,OAAO,IAAI,UAAUA,cAAAA,MAAI,eAAe,OAAO,CAAC,KAAK;AAAA,QACzF,GAAG,QAAQ;AAAA,MACd;AAAA,MACD,SAAS,CAAC,QAAQ;AACd,YAAI,IAAI,cAAc,OAAO,IAAI,aAAa,KAAK;AAC/C,kBAAQ,IAAI,IAAI;AAAA,QACpC,OAAuB;AACH,iBAAO,IAAI,IAAI;AAAA,QAClB;AAAA,MACJ;AAAA,MACD,MAAM,CAAC,QAAQ;AACX,eAAO,GAAG;AAAA,MACb;AAAA,IACb,CAAS;AAAA,EACT,CAAK;AACL;;"}