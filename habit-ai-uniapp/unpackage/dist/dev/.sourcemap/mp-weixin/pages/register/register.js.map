{"version":3,"file":"register.js","sources":["pages/register/register.vue","pages/register/register.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <view class=\"header\">\n      <view class=\"back-button\" @tap=\"goBack\">\n        <text class=\"back-arrow\">←</text>\n      </view>\n      <text class=\"title\">注册账号</text>\n    </view>\n\n    <view class=\"avatar-section\" @tap=\"getUserProfile\">\n      <image class=\"avatar\" :src=\"userInfo.avatarUrl || '/static/default-avatar.png'\" mode=\"aspectFill\" />\n      <text class=\"tip\">点击授权获取头像和昵称</text>\n    </view>\n\n    <view class=\"form-section\">\n      <view class=\"input-group\">\n        <text class=\"label\">手机号</text>\n        <input \n          class=\"input-field\" \n          type=\"number\" \n          v-model=\"phone\" \n          placeholder=\"请输入手机号\"\n          maxlength=\"11\"\n        />\n      </view>\n\n      <view class=\"input-group\">\n        <text class=\"label\">密码</text>\n        <input \n          class=\"input-field\" \n          type=\"password\" \n          v-model=\"password\" \n          placeholder=\"请设置密码\"\n          maxlength=\"20\"\n        />\n      </view>\n\n      <view class=\"input-group\">\n        <text class=\"label\">内测码（选填）</text>\n        <input \n          class=\"input-field\" \n          type=\"text\" \n          v-model=\"betaCode\" \n          placeholder=\"如有内测码请输入\"\n        />\n      </view>\n    </view>\n\n    <button class=\"submit-button\" @tap=\"handleRegister\">注册</button>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      userInfo: {\n        avatarUrl: '',\n        nickName: ''\n      },\n      phone: '',\n      password: '',\n      betaCode: ''\n    }\n  },\n  methods: {\n    goBack() {\n      uni.navigateBack()\n    },\n    getUserProfile() {\n      uni.getUserProfile({\n        desc: '用于完善用户资料',\n        success: (res) => {\n          this.userInfo = res.userInfo\n          uni.showToast({\n            title: '授权成功',\n            icon: 'success'\n          })\n        },\n        fail: (err) => {\n          console.error('获取用户信息失败：', err)\n          uni.showToast({\n            title: '获取信息失败',\n            icon: 'none'\n          })\n        }\n      })\n    },\n    handleRegister() {\n      if (!this.userInfo.nickName) {\n        uni.showToast({\n          title: '请先授权获取用户信息',\n          icon: 'none'\n        })\n        return\n      }\n      \n      if (!this.phone || !/^1\\d{10}$/.test(this.phone)) {\n        uni.showToast({\n          title: '请输入正确的手机号',\n          icon: 'none'\n        })\n        return\n      }\n      \n      if (!this.password || this.password.length < 6) {\n        uni.showToast({\n          title: '密码不能少于6位',\n          icon: 'none'\n        })\n        return\n      }\n\n      // 这里添加注册逻辑\n      uni.showLoading({\n        title: '注册中...'\n      })\n      \n      setTimeout(() => {\n        uni.hideLoading()\n        // 模拟注册成功\n        uni.setStorageSync('userInfo', {\n          ...this.userInfo,\n          phone: this.phone\n        })\n        \n        uni.reLaunch({\n          url: '/pages/index/index'\n        })\n      }, 1500)\n    }\n  }\n}\n</script>\n\n<style>\n.container {\n  padding: 40rpx;\n  min-height: 100vh;\n  background-color: #fff;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 60rpx;\n  position: relative;\n}\n\n.back-button {\n  position: absolute;\n  left: 0;\n  width: 80rpx;\n  height: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.back-arrow {\n  font-size: 40rpx;\n  color: #2c3e50;\n}\n\n.title {\n  width: 100%;\n  text-align: center;\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.avatar-section {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 60rpx;\n}\n\n.avatar {\n  width: 160rpx;\n  height: 160rpx;\n  border-radius: 50%;\n  margin-bottom: 20rpx;\n}\n\n.tip {\n  font-size: 28rpx;\n  color: #5c6b7a;\n}\n\n.form-section {\n  display: flex;\n  flex-direction: column;\n  gap: 40rpx;\n  margin-bottom: 60rpx;\n}\n\n.input-group {\n  display: flex;\n  flex-direction: column;\n  gap: 20rpx;\n}\n\n.label {\n  font-size: 28rpx;\n  color: #5c6b7a;\n}\n\n.input-field {\n  height: 100rpx;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  padding: 0 30rpx;\n  font-size: 32rpx;\n  color: #2c3e50;\n}\n\n.submit-button {\n  width: 100%;\n  height: 100rpx;\n  background: var(--theme-color);\n  border-radius: 20rpx;\n  color: #fff;\n  font-size: 32rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.submit-button:active {\n  opacity: 0.9;\n}\n</style>","import MiniProgramPage from '/Users/linsir/Experiments/uni-app/habit-ai-uniapp/habit-ai-uniapp/pages/register/register.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAqDA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA,QACR,WAAW;AAAA,QACX,UAAU;AAAA,MACX;AAAA,MACD,OAAO;AAAA,MACP,UAAU;AAAA,MACV,UAAU;AAAA,IACZ;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACP,SAAS;AACPA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA,IACD,iBAAiB;AACfA,oBAAAA,MAAI,eAAe;AAAA,QACjB,MAAM;AAAA,QACN,SAAS,CAAC,QAAQ;AAChB,eAAK,WAAW,IAAI;AACpBA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,WACP;AAAA,QACF;AAAA,QACD,MAAM,CAAC,QAAQ;AACbA,wBAAAA,MAAc,MAAA,SAAA,qCAAA,aAAa,GAAG;AAC9BA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,WACP;AAAA,QACH;AAAA,OACD;AAAA,IACF;AAAA,IACD,iBAAiB;AACf,UAAI,CAAC,KAAK,SAAS,UAAU;AAC3BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEA,UAAI,CAAC,KAAK,SAAS,CAAC,YAAY,KAAK,KAAK,KAAK,GAAG;AAChDA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAEA,UAAI,CAAC,KAAK,YAAY,KAAK,SAAS,SAAS,GAAG;AAC9CA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,SACP;AACD;AAAA,MACF;AAGAA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,OACR;AAED,iBAAW,MAAM;AACfA,sBAAAA,MAAI,YAAY;AAEhBA,sBAAG,MAAC,eAAe,YAAY;AAAA,UAC7B,GAAG,KAAK;AAAA,UACR,OAAO,KAAK;AAAA,SACb;AAEDA,sBAAAA,MAAI,SAAS;AAAA,UACX,KAAK;AAAA,SACN;AAAA,MACF,GAAE,IAAI;AAAA,IACT;AAAA,EACF;AACF;;;;;;;;;;;;;;;;ACnIA,GAAG,WAAW,eAAe;"}