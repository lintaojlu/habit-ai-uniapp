{"version":3,"file":"habit-stats.js","sources":["pages/habit-stats/habit-stats.vue","pages/habit-stats/habit-stats.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <reward-card v-if=\"showRewardCard\" @saveNote=\"handleSaveNote\" @updateShow=\"handleUpdateShow\"></reward-card>\n    <view class=\"tab-switch\">\n      <text :class=\"['tab-item', activeTab === 'calendar' ? 'active' : '']\" @tap=\"switchTab('calendar')\">日历</text>\n      <text :class=\"['tab-item', activeTab === 'notes' ? 'active' : '']\" @tap=\"switchTab('notes')\">心得</text>\n      <text :class=\"['tab-item', activeTab === 'analytics' ? 'active' : '']\" @tap=\"switchTab('analytics')\">统计</text>\n    </view>\n    <view class=\"calendar-section\" v-if=\"activeTab === 'calendar'\">\n      <view class=\"month-header\">\n        <text class=\"month-title\">{{ currentMonth }}月, {{ currentYear }}</text>\n        <view class=\"month-controls\">\n          <text class=\"arrow\" @tap=\"previousMonth\">←</text>\n          <text class=\"arrow\" @tap=\"nextMonth\">→</text>\n        </view>\n      </view>\n      <view class=\"calendar-grid\">\n        <view class=\"weekday-row\">\n          <text class=\"weekday\" v-for=\"day in weekDays\" :key=\"day.id\">{{ day.name }}</text>\n        </view>\n        <view class=\"days-grid\">\n          <view v-for=\"day in calendarDays\" :key=\"day.id\"\n                :class=\"['day-cell', day.className, day.isActive ? 'active' : '']\"\n                @tap=\"handleDayClick(day)\">\n            <text>{{ day.date }}</text>\n          </view>\n        </view>\n      </view>\n      <view class=\"heatmap-section\">\n        <view class=\"stats-grid\">\n          <view class=\"stat-card\">\n            <view class=\"stat-icon\">📝</view>\n            <view class=\"stat-content\">\n              <text class=\"stat-value\">{{ monthlyStats.totalCount }}次</text>\n              <text class=\"stat-label\">{{ currentYear }}年{{ currentMonth }}月完成</text>\n            </view>\n          </view>\n          <view class=\"stat-card\">\n            <view class=\"stat-icon\">✅</view>\n            <view class=\"stat-content\">\n              <text class=\"stat-value\">{{ monthlyStats.onTimeCount }}次</text>\n              <text class=\"stat-label\">{{ currentYear }}年{{ currentMonth }}月当日完成</text>\n            </view>\n          </view>\n          <view class=\"stat-card\">\n            <view class=\"stat-icon\">🔄</view>\n            <view class=\"stat-content\">\n              <text class=\"stat-value\">{{ monthlyStats.retroactiveCount }}次</text>\n              <text class=\"stat-label\">{{ currentYear }}年{{ currentMonth }}月补打卡</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"analytics-section\" v-if=\"activeTab === 'analytics'\">\n      <view class=\"year-switcher\">\n        <view :class=\"['year-button', isFirstYear ? 'disabled' : '']\" @tap=\"previousYear\">\n          <text class=\"year-button-icon\">←</text>\n        </view>\n        <view class=\"year-display\">\n          <text class=\"year-number\">{{ selectedYear }}</text>\n          <text class=\"year-label\">年度数据</text>\n        </view>\n        <view :class=\"['year-button', isLastYear ? 'disabled' : '']\" @tap=\"nextYear\">\n          <text class=\"year-button-icon\">→</text>\n        </view>\n      </view>\n      <view class=\"yearly-section\">\n        <text class=\"section-title\">{{ selectedYear }}年热力图</text>\n        <view class=\"yearly-heatmap-container\">\n          <view class=\"yearly-heatmap\">\n            <view class=\"weekday-labels\">\n              <text class=\"weekday-label\" v-for=\"day in weekdayLabels\" :key=\"day.id\">{{ day.name }}</text>\n            </view>\n            <view class=\"heatmap-row\" v-for=\"row in heatmapData\" :key=\"row.id\">\n              <view v-for=\"cell in row.cells\" :key=\"cell.id\"\n                    :class=\"['heatmap-cell', cell.className]\"\n                    :data-date=\"cell.date\"\n                    @tap=\"handleHeatmapCellClick(cell)\"></view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <view class=\"insights-section\">\n        <text class=\"section-title\">{{ selectedYear }}年度洞察</text>\n        <view class=\"insights-container\">\n          <view class=\"main-card\">\n            <view class=\"circle-progress\" :style=\"{ '--percentage': yearlyStats.percentage }\">\n              <view class=\"progress-track\"></view>\n              <view class=\"progress-glow\"></view>\n              <view class=\"inner-circle\">\n                <text class=\"insight-number\">{{ yearlyStats.completedCount }}</text>\n                <text class=\"insight-label\">次</text>\n              </view>\n            </view>\n            <view class=\"insight-info\">\n              <text class=\"insight-period\">年度完成</text>\n              <text class=\"insight-rate\">{{ yearlyStats.completionRate }}%</text>\n              <view class=\"insight-details\">\n                <text class=\"detail-text\">{{ yearlyStats.completedDays }}天 / {{ yearlyStats.totalDays }}天</text>\n                <text class=\"detail-explanation\">{{ yearlyStats.explanation }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <view class=\"monthly-progress\">\n        <text class=\"section-title\">{{ selectedYear }}年柱状图</text>\n        <view class=\"months-grid\">\n          <view class=\"month-column\" v-for=\"month in monthlyProgress\" :key=\"month.id\">\n            <view class=\"bar-container\">\n              <view :class=\"['progress-bar',\n                           month.isHighProgress ? 'high-progress' : '',\n                           month.isMediumProgress ? 'medium-progress' : '',\n                           month.isLowProgress ? 'low-progress' : '']\"\n                    :style=\"{ height: month.height, background: month.color }\"\n                    :data-count=\"month.count\">\n                <view class=\"progress-glow\"></view>\n              </view>\n            </view>\n            <text class=\"month-label\" :data-month=\"month.monthNumber\">月</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"notes-section\" v-if=\"activeTab === 'notes'\">\n      <view class=\"search-section\" v-if=\"showSearch\">\n        <view class=\"date-filter\">\n          <view class=\"date-mode-selector\">\n            <text v-for=\"mode in dateModes\" :key=\"mode.id\"\n                  :class=\"['mode-item', mode.isActive ? 'active' : '']\"\n                  @tap=\"handleDateModeChange(mode)\">{{ mode.name }}\n            </text>\n          </view>\n          <view class=\"date-pickers\">\n            <picker v-if=\"showYearPicker\"\n                    mode=\"date\"\n                    fields=\"year\"\n                    :start=\"1970\"\n                    :end=\"maxYear\"\n                    :value=\"selectedDate.year\"\n                    @change=\"handleYearChange\">\n              <view class=\"date-picker\">\n                <text class=\"date-text\">{{ selectedDate.yearText }}</text>\n                <text class=\"calendar-icon\">📅</text>\n              </view>\n            </picker>\n            <picker v-if=\"showMonthPicker\"\n                    mode=\"date\"\n                    fields=\"month\"\n                    start=\"1970-01\"\n                    :end=\"maxYearMonth\"\n                    :value=\"selectedDate.yearMonth\"\n                    @change=\"handleMonthChange\">\n              <view class=\"date-picker\">\n                <text class=\"date-text\">{{ selectedDate.monthText }}</text>\n                <text class=\"calendar-icon\">📅</text>\n              </view>\n            </picker>\n            <picker v-if=\"showDayPicker\"\n                    mode=\"date\"\n                    start=\"1970-01-01\"\n                    :end=\"maxDate\"\n                    :value=\"selectedDate.fullDate\"\n                    @change=\"handleDateChange\">\n              <view class=\"date-picker\">\n                <text class=\"date-text\">{{ selectedDate.dateText }}</text>\n                <text class=\"calendar-icon\">📅</text>\n              </view>\n            </picker>\n            <text :class=\"['clear-date', showClearDate ? 'active' : '']\"\n                  @tap=\"clearDateFilter\">清除\n            </text>\n          </view>\n        </view>\n        <view class=\"search-bar\">\n          <text class=\"search-icon\">🔍</text>\n          <input class=\"search-input\"\n                 type=\"text\"\n                 placeholder=\"搜索心得...\"\n                 v-model=\"searchQuery\"\n                 @input=\"handleSearch\"/>\n          <text v-if=\"showClearSearch\"\n                class=\"clear-icon\"\n                @tap=\"clearSearch\">×\n          </text>\n        </view>\n      </view>\n      <view class=\"notes-list\" v-if=\"hasNotes\">\n        <view class=\"note-card\" v-for=\"note in filteredNotes\" :key=\"note.id\">\n          <view class=\"note-header\">\n            <view class=\"note-date\">{{ note.formattedDate }}</view>\n            <view class=\"retroactive-badge\" v-if=\"note.isRetroactive\">\n              <text class=\"badge-icon\">🔄</text>\n              <text class=\"badge-text\">补{{ note.retroactiveText }}</text>\n            </view>\n            <view class=\"more-actions\" @tap.stop=\"handleNoteAction(note)\">\n              <text class=\"more-icon\">⋮</text>\n            </view>\n          </view>\n          <view class=\"note-content\">{{ note.content }}</view>\n        </view>\n      </view>\n      <view class=\"empty-notes\" v-else>\n        <text class=\"empty-icon\">📝</text>\n        <text class=\"empty-message\">还没有记录心得，快去打卡时记录一下吧！</text>\n      </view>\n      <view class=\"edit-modal\" v-if=\"showEditModal\">\n        <view class=\"modal-content\">\n          <view class=\"modal-header\">\n            <text class=\"modal-title\">编辑心得</text>\n            <text class=\"close-btn\" @tap=\"closeEditModal\">×</text>\n          </view>\n          <textarea v-if=\"true\"\n                    class=\"edit-textarea\"\n                    :maxlength=\"500\"\n                    placeholder=\"写下你的心得...\"\n                    v-model=\"editingNote\"\n                    @input=\"handleNoteInput\"></textarea>\n          <view class=\"modal-footer\">\n            <text class=\"counter\">{{ noteLength }}/500</text>\n            <view class=\"modal-buttons\">\n              <text class=\"cancel-btn\" @tap=\"cancelEdit\">取消</text>\n              <text class=\"save-btn\" @tap=\"saveNote\">保存</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport RewardCard from \"../../components/reward-card.vue\";\nimport {defineComponent} from 'vue'\n\n// 添加辅助函数\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\n// 添加辅助函数\nfunction _toConsumableArray2(arr) {\n  if (Array.isArray(arr)) {\n    var arr2 = new Array(arr.length);\n    for (var i = 0; i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nexport default defineComponent({\n  components: {\n    RewardCard: RewardCard\n  },\n  data() {\n    return {\n      currentTab: \"calendar\",\n      weekDays: [ \"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\" ],\n      currentMonth: \"\",\n      currentYear: \"\",\n      currentStreak: 0,\n      longestStreak: 0,\n      longestStreakDate: \"\",\n      completedDays: 0,\n      monthlyChange: 0,\n      habit: null,\n      calendarDays: [],\n      last31Days: [],\n      yearlyHeatmap: [],\n      yearlyCount: 0,\n      monthlyCount: 0,\n      weeklyCount: 0,\n      streakDateRange: \"\",\n      monthlyProgress: [],\n      yearlyRate: 0,\n      quarterCount: 0,\n      quarterRate: 0,\n      monthlyRate: 0,\n      weeklyRate: 0,\n      longestStreakStartDate: \"\",\n      selectedYear: /*   */ new Date().getFullYear(),\n      yearBestStreak: 0,\n      yearBestStreakDate: \"\",\n      bestMonth: 1,\n      bestMonthCount: 0,\n      bestQuarter: 1,\n      bestQuarterCount: 0,\n      todayCheckCount: 0,\n      retroactiveCheckCount: 0,\n      showRewardCard: false,\n      rewardTitle: \"\",\n      rewardMessage: \"\",\n      rewardStats: null,\n      currentHabitInfo: null,\n      showEditModal: false,\n      editingContent: \"\",\n      editingNoteIndex: -1,\n      retroactiveInfo: null,\n      searchQuery: \"\",\n      selectedDate: \"\",\n      currentDateStr: /*   */ new Date().toISOString().split(\"T\")[0],\n      currentDateMode: \"date\",\n      // 默认选择年月日\n      dateModes: [ {\n        label: \"年\",\n        value: \"year\"\n      }, {\n        label: \"月\",\n        value: \"month\"\n      }, {\n        label: \"日\",\n        value: \"date\"\n      } ],\n      filteredNotes: [],\n      yearTotalDays: 0,\n      yearlyExplanation: \"\",\n      dateShowTimer: null,\n      lastClickedCell: null\n    };\n  },\n  computed: {\n    sortedNotes: function sortedNotes() {\n      var _this = this;\n      if (!this.habit.notes) return [];\n      var notes = _toConsumableArray2(this.habit.notes);\n      if (this.searchQuery) {\n        notes = notes.filter(function(note) {\n          return note.content.toLowerCase().includes(_this.searchQuery.toLowerCase());\n        });\n      }\n      if (this.selectedDate) {\n        notes = notes.filter(function(note) {\n          var noteDate = new Date(note.timestamp);\n          var selectedDate;\n          switch (_this.currentDateMode) {\n            case \"year\":\n              var selectedYear = parseInt(_this.selectedDate.split(\"-\")[0]);\n              return noteDate.getFullYear() === selectedYear;\n\n            case \"month\":\n              var _this$selectedDate$sp = _this.selectedDate.split(\"-\").map(function(num) {\n                return parseInt(num);\n              }), _this$selectedDate$sp2 = _slicedToArray2(_this$selectedDate$sp, 2), year = _this$selectedDate$sp2[0], month = _this$selectedDate$sp2[1];\n              return noteDate.getFullYear() === year && noteDate.getMonth() === month - 1;\n\n            case \"date\":\n              selectedDate = new Date(_this.selectedDate);\n              return noteDate.getFullYear() === selectedDate.getFullYear() && noteDate.getMonth() === selectedDate.getMonth() && noteDate.getDate() === selectedDate.getDate();\n\n            default:\n              return true;\n          }\n        });\n      }\n      notes.sort(function(a, b) {\n        var aTime = a.retroactiveInfo ? a.retroactiveInfo.saveTimestamp : a.saveTimestamp || a.timestamp;\n        var bTime = b.retroactiveInfo ? b.retroactiveInfo.saveTimestamp : b.saveTimestamp || b.timestamp;\n        return bTime - aTime;\n      });\n      return notes;\n    }\n  },\n  onLoad: function onLoad(options) {\n    var habitId = options.id;\n    this.loadHabitData(habitId);\n    if (options.title) {\n      uni.setNavigationBarTitle({\n        title: decodeURIComponent(options.title)\n      });\n    }\n    var now = /*   */ new Date();\n    this.currentYear = now.getFullYear();\n    this.selectedYear = now.getFullYear();\n    this.initializeCalendar();\n    this.calculateStats();\n    this.calculateAnalytics();\n  },\n  methods: {\n    switchTab: function switchTab(tab) {\n      this.currentTab = tab;\n    },\n    loadHabitData: function loadHabitData(habitId) {\n      var habits = uni.getStorageSync(\"habits\") || [];\n      this.habit = habits.find(function(h) {\n        return h.id === habitId;\n      });\n      if (!this.habit) {\n        uni.showToast({\n          title: \"未找到习惯数据\",\n          icon: \"none\"\n        });\n        uni.navigateBack();\n      } else {\n        var icon = this.getCategoryIcon(this.habit.category);\n        this.habit = _objectSpread2(_objectSpread2({}, this.habit), {}, {\n          icon: icon,\n          color: this.getCategoryColor(this.habit.category)\n        });\n        uni.setNavigationBarTitle({\n          title: this.habit.title\n        });\n      }\n    },\n    // 添加图标和颜色获取方法\n    getCategoryIcon: function getCategoryIcon(category) {\n      var icons = {\n        workout: \"🏃\",\n        running: \"🏃‍♂️\",\n        swimming: \"🏊\",\n        yoga: \"🧘\",\n        diet: \"🥗\",\n        water: \"💧\",\n        sleep: \"😴\",\n        outdoor: \"🌳\",\n        nutrition: \"💊\",\n        reading: \"📚\",\n        writing: \"✍️\",\n        coding: \"💻\",\n        music: \"🎵\",\n        language: \"🗣️\",\n        art: \"🎨\",\n        skills: \"📈\",\n        course: \"💡\",\n        cleaning: \"🧹\",\n        cooking: \"👨‍🍳\",\n        plants: \"🌱\",\n        finance: \"💰\",\n        eco: \"♻️\",\n        notes: \"📝\",\n        photo: \"📸\",\n        meditation: \"🧘‍♀️\",\n        gratitude: \"🙏\",\n        social: \"👥\",\n        mood: \"🎭\",\n        mindfulness: \"🌟\",\n        helping: \"🤝\",\n        planning: \"📋\",\n        time: \"⏰\",\n        focus: \"🎯\",\n        email: \"📧\",\n        project: \"📊\",\n        learning: \"🎓\",\n        custom: \"✨\",\n        other: \"📝\"\n      };\n      return icons[category] || \"📝\";\n    },\n    getCategoryColor: function getCategoryColor(category) {\n      var colors = {\n        sports: \"#FF6B6B\",\n        health: \"#4ECDC4\",\n        work: \"#45B7D1\",\n        study: \"#96CEB4\",\n        meditation: \"#9B89B3\",\n        reading: \"#FFD93D\",\n        sleep: \"#6C5B7B\",\n        diet: \"#95E1D3\",\n        water: \"#87CEEB\",\n        music: \"#FF8C94\",\n        art: \"#F67280\",\n        writing: \"#C06C84\",\n        coding: \"#6C5B7B\",\n        language: \"#355C7D\",\n        finance: \"#2A363B\",\n        social: \"#F8B195\",\n        cleaning: \"#A8E6CF\",\n        gaming: \"#3F72AF\",\n        other: \"#808080\"\n      };\n      return colors[category] || \"$text-color-secondary666\";\n    },\n    initializeCalendar: function initializeCalendar() {\n      var now = /*   */ new Date();\n      this.currentYear = now.getFullYear();\n      this.currentMonth = now.getMonth() + 1;\n      this.generateCalendarDays();\n      this.calculateMonthlyStats();\n    },\n    generateCalendarDays: function generateCalendarDays() {\n      var date = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), 1);\n      var daysInMonth = new Date(this.currentYear, this.getMonthIndex(this.currentMonth) + 1, 0).getDate();\n      var firstDayOfMonth = date.getDay();\n      this.calendarDays = [];\n      for (var i = 0; i < firstDayOfMonth; i++) {\n        this.calendarDays.push({\n          dayNumber: \"\",\n          date: null\n        });\n      }\n      for (var _i = 1; _i <= daysInMonth; _i++) {\n        var currentDate = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), _i);\n        var timestamp = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate()).getTime();\n        var isCompleted = this.habit.completed.includes(timestamp);\n        this.calendarDays.push({\n          dayNumber: _i,\n          date: currentDate,\n          isCompleted: isCompleted,\n          isToday: this.isToday(currentDate),\n          isFuture: currentDate > /*   */ new Date()\n        });\n      }\n    },\n    calculateStats: function calculateStats() {\n      var today = /*   */ new Date();\n      var currentStreak = 0;\n      for (var i = 0; i <= 366; i++) {\n        var date = new Date(today.getFullYear(), today.getMonth(), today.getDate() - i);\n        var timestamp = new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime();\n        if (this.habit.completed.includes(timestamp)) {\n          currentStreak++;\n        } else {\n          break;\n        }\n      }\n      this.currentStreak = currentStreak;\n      var longestStreak = 0;\n      var currentLongestStreak = 0;\n      var longestStreakEndDate = null;\n      var longestStreakStartDate = null;\n      var currentStreakStartDate = null;\n      var sortedDates = _toConsumableArray2(this.habit.completed).sort(function(a, b) {\n        return a - b;\n      });\n      for (var _i2 = 0; _i2 < sortedDates.length; _i2++) {\n        var currentDate = new Date(sortedDates[_i2]);\n        var nextDate = _i2 < sortedDates.length - 1 ? new Date(sortedDates[_i2 + 1]) : null;\n        if (currentLongestStreak === 0) {\n          currentStreakStartDate = currentDate;\n        }\n        if (nextDate && this.isConsecutiveDay(currentDate, nextDate)) {\n          currentLongestStreak++;\n        } else {\n          currentLongestStreak++;\n          if (currentLongestStreak > longestStreak) {\n            longestStreak = currentLongestStreak;\n            longestStreakEndDate = currentDate;\n            longestStreakStartDate = currentStreakStartDate;\n          }\n          currentLongestStreak = 0;\n        }\n      }\n      this.longestStreak = longestStreak;\n      this.longestStreakStartDate = longestStreakStartDate ? longestStreakStartDate.toLocaleDateString(\"zh-CN\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      }) : \"\";\n      this.longestStreakDate = longestStreakEndDate ? \"\".concat(this.longestStreakStartDate, \" - \").concat(longestStreakEndDate.toLocaleDateString(\"zh-CN\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      })) : \"\";\n    },\n    isConsecutiveDay: function isConsecutiveDay(date1, date2) {\n      var d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()).getTime();\n      var d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()).getTime();\n      var oneDayInMs = 24 * 60 * 60 * 1e3;\n      return d2 - d1 === oneDayInMs;\n    },\n    // Helper methods\n    isToday: function isToday(date) {\n      var today = /*   */ new Date();\n      return date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear();\n    },\n    changeMonth: function changeMonth(delta) {\n      var newMonth = parseInt(this.currentMonth) + delta;\n      var yearDelta = 0;\n      if (newMonth > 12) {\n        newMonth = 1;\n        yearDelta = 1;\n      } else if (newMonth < 1) {\n        newMonth = 12;\n        yearDelta = -1;\n      }\n      var newYear = this.currentYear + yearDelta;\n      var now = /*   */ new Date();\n      if (newYear > now.getFullYear() || newYear === now.getFullYear() && newMonth > now.getMonth() + 1) {\n        return;\n      }\n      this.currentYear = newYear;\n      this.currentMonth = newMonth;\n      this.generateCalendarDays();\n      this.calculateMonthlyStats();\n      this.calculateStats();\n    },\n    // 修改calculateMonthlyStats方法,确保只计算日历页面数据\n    calculateMonthlyStats: function calculateMonthlyStats() {\n      var _this2 = this;\n      var currentMonthStart = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), 1);\n      var currentMonthEnd = new Date(this.currentYear, this.getMonthIndex(this.currentMonth) + 1, 0);\n      var monthCompletions = this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= currentMonthStart && date <= currentMonthEnd;\n      }).sort(function(a, b) {\n        return a - b;\n      });\n      this.completedDays = monthCompletions.length;\n      var isCurrentMonth = this.isCurrentMonth();\n      if (isCurrentMonth) {\n        this.todayCheckCount = this.habit.completed.filter(function(timestamp) {\n          var checkDate = new Date(timestamp);\n          return _this2.isToday(checkDate);\n        }).length;\n        this.retroactiveCheckCount = monthCompletions.length - this.todayCheckCount;\n      } else {\n        this.todayCheckCount = 0;\n        this.retroactiveCheckCount = monthCompletions.length;\n      }\n      var lastMonthStart = new Date(this.currentYear, this.getMonthIndex(this.currentMonth) - 1, 1);\n      var lastMonthEnd = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), 0);\n      var lastMonthCompleted = this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= lastMonthStart && date <= lastMonthEnd;\n      }).length;\n      if (lastMonthCompleted === 0) {\n        this.monthlyChange = this.completedDays > 0 ? 100 : 0;\n      } else {\n        this.monthlyChange = Math.round((this.completedDays - lastMonthCompleted) / lastMonthCompleted * 100);\n      }\n    },\n    isCurrentMonth: function isCurrentMonth() {\n      var today = /*   */ new Date();\n      return this.currentYear === today.getFullYear() && this.getMonthIndex(this.currentMonth) === today.getMonth();\n    },\n    getMonthIndex: function getMonthIndex(month) {\n      return parseInt(month) - 1;\n    },\n    // 修改changeYear方法,确保只受实际当前年份限制\n    changeYear: function changeYear(delta) {\n      var newYear = this.selectedYear + delta;\n      var realCurrentYear = /*   */ new Date().getFullYear();\n      if (newYear < 1970 || newYear > realCurrentYear) {\n        return;\n      }\n      this.selectedYear = newYear;\n      this.calculateAnalytics();\n    },\n    // 修改年份切换器的禁用逻辑\n    isYearSwitchDisabled: function isYearSwitchDisabled(delta) {\n      var targetYear = this.selectedYear + delta;\n      var realCurrentYear = /*   */ new Date().getFullYear();\n      return targetYear < 1970 || targetYear > realCurrentYear;\n    },\n    // 修改calculateAnalytics方法,确保只使用selectedYear\n    calculateAnalytics: function calculateAnalytics() {\n      this.calculateYearlyHeatmap();\n      var today = /*   */ new Date();\n      var startOfYear = new Date(this.selectedYear, 0, 1);\n      var endOfYear = this.selectedYear === today.getFullYear() ? today : new Date(this.selectedYear, 11, 31);\n      this.yearlyCount = this.getCompletedCountBetweenDates(startOfYear, endOfYear);\n      var yearDays = Math.floor((endOfYear - startOfYear) / (24 * 60 * 60 * 1e3)) + 1;\n      this.yearTotalDays = yearDays;\n      this.yearlyRate = Math.round(this.yearlyCount / yearDays * 100);\n      if (this.yearlyCount === 0) {\n        this.yearlyExplanation = \"今年还没有完成记录，开始第一次打卡吧！\";\n      } else if (this.yearlyRate < 30) {\n        this.yearlyExplanation = \"坚持是成功的关键，继续加油！\";\n      } else if (this.yearlyRate < 60) {\n        this.yearlyExplanation = \"保持良好的习惯，你已经做得很棒了！\";\n      } else if (this.yearlyRate < 90) {\n        this.yearlyExplanation = \"出色的完成度，你是最棒的！\";\n      } else {\n        this.yearlyExplanation = \"太厉害了，你的毅力令人钦佩！\";\n      }\n      this.calculateYearBestStreak();\n      this.calculateBestMonth();\n      this.calculateBestQuarter();\n      this.calculateMonthlyProgress();\n    },\n    calculateYearlyHeatmap: function calculateYearlyHeatmap() {\n      var weekDays = [ \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\" ];\n      var startDate = new Date(this.selectedYear, 0, 1);\n      while (startDate.getDay() !== 1) {\n        startDate.setDate(startDate.getDate() - 1);\n      }\n      var heatmapData = Array(7).fill().map(function() {\n        return [];\n      });\n      for (var week = 0; week < 53; week++) {\n        for (var day = 0; day < 7; day++) {\n          var currentDate = new Date(startDate);\n          currentDate.setDate(startDate.getDate() + week * 7 + day);\n          var timestamp = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate()).getTime();\n          heatmapData[day].push({\n            date: currentDate,\n            isCompleted: this.habit.completed.includes(timestamp),\n            isInSelectedYear: currentDate.getFullYear() === this.selectedYear\n          });\n        }\n      }\n      this.yearlyHeatmap = {\n        weekDays: weekDays,\n        data: heatmapData\n      };\n    },\n    calculateInsights: function calculateInsights() {\n      var today = /*   */ new Date();\n      var startOfYear = new Date(this.selectedYear, 0, 1);\n      var endOfYear = this.selectedYear === this.currentYear ? today : new Date(this.selectedYear, 11, 31);\n      this.yearlyCount = this.getCompletedCountBetweenDates(startOfYear, endOfYear);\n      var yearDays = Math.floor((endOfYear - startOfYear) / (24 * 60 * 60 * 1e3)) + 1;\n      this.yearlyRate = Math.round(this.yearlyCount / yearDays * 100);\n      this.calculateYearBestStreak();\n      this.calculateBestMonth();\n      this.calculateBestQuarter();\n    },\n    calculateStreakRange: function calculateStreakRange() {\n      if (this.currentStreak === 0) {\n        this.streakDateRange = \"暂无连续记录\";\n        return;\n      }\n      var endDate = this.isCurrentMonth() ? /*   */ new Date() : new Date(this.currentYear, this.getMonthIndex(this.currentMonth) + 1, 0);\n      var startDate = new Date(endDate);\n      startDate.setDate(endDate.getDate() - this.currentStreak + 1);\n      this.streakDateRange = \"\".concat(startDate.toLocaleDateString(), \" - \").concat(endDate.toLocaleDateString());\n    },\n    calculateMonthlyProgress: function calculateMonthlyProgress() {\n      var _this3 = this;\n      var monthCounts = Array(12).fill().map(function(_, index) {\n        var startOfMonth = new Date(_this3.selectedYear, index, 1);\n        var endOfMonth = new Date(_this3.selectedYear, index + 1, 0);\n        return _this3.habit.completed.filter(function(timestamp) {\n          var date = new Date(timestamp);\n          return date >= startOfMonth && date <= endOfMonth;\n        }).length;\n      });\n      var maxCount = Math.max.apply(Math, _toConsumableArray2(monthCounts).concat([ 1 ]));\n      this.monthlyProgress = monthCounts.map(function(count) {\n        var percentage = Math.round(count / maxCount * 100);\n        var isHighProgress = percentage > 80;\n        var gradient = \"linear-gradient(0deg, \".concat(isHighProgress ? \"#FFF4E5\" : \"#FF9F0A\", \" 0%, \").concat(isHighProgress ? \"#FF9F0A\" : \"#F29100\", \" 100%)\");\n        return {\n          count: count,\n          percentage: percentage,\n          gradient: gradient\n        };\n      });\n    },\n    toggleHabitCompletion: function toggleHabitCompletion(day) {\n      var _this4 = this;\n      var timestamp = new Date(day.date.getFullYear(), day.date.getMonth(), day.date.getDate()).getTime();\n      if (day.isFuture) {\n        uni.showToast({\n          title: \"未来还未来哦~\",\n          icon: \"none\",\n          duration: 1e3\n        });\n        return;\n      }\n      var habits = uni.getStorageSync(\"habits\") || [];\n      var habitIndex = habits.findIndex(function(h) {\n        return h.id === _this4.habit.id;\n      });\n      if (habitIndex === -1) {\n        return;\n      }\n      var completedIndex = habits[habitIndex].completed.indexOf(timestamp);\n      var today = /*   */ new Date();\n      var isRetroactive = !(day.date.getFullYear() === today.getFullYear() && day.date.getMonth() === today.getMonth() && day.date.getDate() === today.getDate());\n      if (completedIndex === -1) {\n        var currentDate = new Date(timestamp);\n        var currentMonthStart = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n        var currentMonthEnd = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n        var monthCompletions = this.habit.completed.filter(function(t) {\n          var date = new Date(t);\n          return date >= currentMonthStart && date <= currentMonthEnd;\n        }).length;\n        habits[habitIndex].completed.push(timestamp);\n        uni.setStorageSync(\"habits\", habits);\n        this.habit = habits[habitIndex];\n        this.generateCalendarDays();\n        this.calculateMonthlyStats();\n        this.calculateStats();\n        this.calculateAnalytics();\n        var monthNames = [ \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\", \"十\", \"十一\", \"十二\" ];\n        var monthLabel = monthNames[currentDate.getMonth()] + \"月完成\";\n        if (!isRetroactive) {\n          this.showRewardCard = true;\n          this.rewardTitle = \"今日打卡成功！\";\n          this.rewardMessage = \"\";\n          this.currentHabitInfo = {\n            id: this.habit.id,\n            name: this.habit.title,\n            icon: this.getCategoryIcon(this.habit.category),\n            color: this.getCategoryColor(this.habit.category),\n            timestamp: timestamp\n          };\n          this.rewardStats = {\n            count: monthCompletions,\n            // 使用打卡月份的完成次数\n            label: monthLabel\n          };\n        } else {\n          this.showRewardCard = true;\n          this.rewardTitle = \"打卡成功！\";\n          this.rewardMessage = \"\";\n          this.currentHabitInfo = {\n            id: this.habit.id,\n            name: this.habit.title,\n            icon: this.getCategoryIcon(this.habit.category),\n            color: this.getCategoryColor(this.habit.category),\n            timestamp: timestamp\n          };\n          this.retroactiveInfo = {\n            retroTimestamp: timestamp,\n            saveTimestamp: Date.now()\n          };\n          this.rewardStats = {\n            count: monthCompletions,\n            // 使用打卡月份的完成次数\n            label: monthLabel\n          };\n        }\n      } else {\n        habits[habitIndex].completed.splice(completedIndex, 1);\n        uni.setStorageSync(\"habits\", habits);\n        this.habit = habits[habitIndex];\n        this.generateCalendarDays();\n        this.calculateMonthlyStats();\n        this.calculateStats();\n        this.calculateAnalytics();\n      }\n      uni.vibrateShort({\n        success: function success() {}\n      });\n    },\n    getCompletedCountBetweenDates: function getCompletedCountBetweenDates(startDate, endDate) {\n      return this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= startDate && date <= endDate;\n      }).length;\n    },\n    calculateYearBestStreak: function calculateYearBestStreak() {\n      var maxStreak = 0;\n      var currentStreak = 0;\n      var streakStartDate = null;\n      var bestStreakStartDate = null;\n      var yearStart = new Date(this.selectedYear, 0, 1);\n      var yearEnd = this.selectedYear === /*   */ new Date().getFullYear() ? /*   */ new Date() : new Date(this.selectedYear, 11, 31);\n      var yearCompletions = this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= yearStart && date <= yearEnd;\n      }).sort(function(a, b) {\n        return a - b;\n      });\n      for (var i = 0; i < yearCompletions.length; i++) {\n        var currentDate = new Date(yearCompletions[i]);\n        var nextDate = i < yearCompletions.length - 1 ? new Date(yearCompletions[i + 1]) : null;\n        if (currentStreak === 0) {\n          streakStartDate = currentDate;\n        }\n        if (nextDate && this.isConsecutiveDay(currentDate, nextDate)) {\n          currentStreak++;\n        } else {\n          currentStreak++;\n          if (currentStreak > maxStreak) {\n            maxStreak = currentStreak;\n            bestStreakStartDate = streakStartDate;\n          }\n          currentStreak = 0;\n        }\n      }\n      this.yearBestStreak = maxStreak;\n      if (bestStreakStartDate) {\n        var endDate = new Date(bestStreakStartDate);\n        endDate.setDate(endDate.getDate() + maxStreak - 1);\n        this.yearBestStreakDate = \"\".concat(bestStreakStartDate.toLocaleDateString(\"zh-CN\", {\n          month: \"long\",\n          day: \"numeric\"\n        }), \" - \").concat(endDate.toLocaleDateString(\"zh-CN\", {\n          month: \"long\",\n          day: \"numeric\"\n        }));\n      } else {\n        this.yearBestStreakDate = \"暂无记录\";\n      }\n    },\n    calculateBestMonth: function calculateBestMonth() {\n      var _this5 = this;\n      var monthCounts = Array(12).fill(0);\n      this.habit.completed.forEach(function(timestamp) {\n        var date = new Date(timestamp);\n        if (date.getFullYear() === _this5.selectedYear) {\n          monthCounts[date.getMonth()]++;\n        }\n      });\n      var maxCount = Math.max.apply(Math, _toConsumableArray2(monthCounts));\n      this.bestMonth = monthCounts.indexOf(maxCount) + 1;\n      this.bestMonthCount = maxCount;\n    },\n    calculateBestQuarter: function calculateBestQuarter() {\n      var _this6 = this;\n      var quarterCounts = [ 0, 0, 0, 0 ];\n      this.habit.completed.forEach(function(timestamp) {\n        var date = new Date(timestamp);\n        if (date.getFullYear() === _this6.selectedYear) {\n          var quarter = Math.floor(date.getMonth() / 3);\n          quarterCounts[quarter]++;\n        }\n      });\n      var maxCount = Math.max.apply(Math, quarterCounts);\n      this.bestQuarter = quarterCounts.indexOf(maxCount) + 1;\n      this.bestQuarterCount = maxCount;\n    },\n    formatDate: function formatDate(timestamp) {\n      var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"full\";\n      var date = new Date(timestamp);\n      if (format === \"date\") {\n        var year2 = date.getFullYear();\n        var month2 = date.getMonth() + 1;\n        var day2 = date.getDate();\n        return \"\".concat(year2, \".\").concat(month2, \".\").concat(day2);\n      }\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      var hours = date.getHours().toString().padStart(2, \"0\");\n      var minutes = date.getMinutes().toString().padStart(2, \"0\");\n      return \"\".concat(year, \"年\").concat(month, \"月\").concat(day, \"日 \").concat(hours, \":\").concat(minutes);\n    },\n    handleSaveNote: function handleSaveNote(_ref) {\n      var _this7 = this;\n      var timestamp = _ref.timestamp, content = _ref.content;\n      if (!this.habit.notes) return;\n      var habits = uni.getStorageSync(\"habits\") || [];\n      var habitIndex = habits.findIndex(function(h) {\n        return h.id === _this7.habit.id;\n      });\n      if (habitIndex === -1) return;\n      if (!habits[habitIndex].notes) {\n        habits[habitIndex].notes = [];\n      }\n      var today = /*   */ new Date();\n      var checkDate = new Date(timestamp);\n      var isRetroactive = !(checkDate.getFullYear() === today.getFullYear() && checkDate.getMonth() === today.getMonth() && checkDate.getDate() === today.getDate());\n      var newNote = {\n        timestamp: Date.now(),\n        // 修改这里，使用当前时间戳\n        content: content,\n        saveTimestamp: Date.now(),\n        retroactiveInfo: isRetroactive ? {\n          retroTimestamp: timestamp,\n          // 保留原始打卡日期\n          saveTimestamp: Date.now()\n        } : null\n      };\n      habits[habitIndex].notes.push(newNote);\n      uni.setStorageSync(\"habits\", habits);\n      this.habit = habits[habitIndex];\n      uni.showToast({\n        title: \"心得已保存\",\n        icon: \"success\",\n        duration: 2e3\n      });\n      if (this.currentTab === \"notes\") {\n        this.$forceUpdate();\n      }\n    },\n    editNote: function editNote(index) {\n      var note = this.sortedNotes[index];\n      this.editingContent = note.content;\n      this.editingNoteIndex = index;\n      this.showEditModal = true;\n    },\n    deleteNote: function deleteNote(index) {\n      var _this8 = this;\n      uni.showModal({\n        title: \"确认删除\",\n        content: \"确定要删除这条心得吗？\",\n        confirmColor: \"#FF3B30\",\n        success: function success(res) {\n          if (res.confirm) {\n            var habits = uni.getStorageSync(\"habits\") || [];\n            var habitIndex = habits.findIndex(function(h) {\n              return h.id === _this8.habit.id;\n            });\n            if (habitIndex === -1) return;\n            var noteToDelete = _this8.sortedNotes[index];\n            var originalNoteIndex = habits[habitIndex].notes.findIndex(function(note) {\n              return note.timestamp === noteToDelete.timestamp;\n            });\n            if (originalNoteIndex !== -1) {\n              habits[habitIndex].notes.splice(originalNoteIndex, 1);\n              uni.setStorageSync(\"habits\", habits);\n              _this8.habit = habits[habitIndex];\n              uni.showToast({\n                title: \"已删除\",\n                icon: \"success\",\n                duration: 2e3\n              });\n            }\n          }\n        }\n      });\n    },\n    saveEditedNote: function saveEditedNote() {\n      var _this9 = this;\n      if (!this.editingContent.trim()) {\n        uni.showToast({\n          title: \"心得内容不能为空\",\n          icon: \"none\"\n        });\n        return;\n      }\n      var habits = uni.getStorageSync(\"habits\") || [];\n      var habitIndex = habits.findIndex(function(h) {\n        return h.id === _this9.habit.id;\n      });\n      if (habitIndex === -1) return;\n      var originalNote = this.sortedNotes[this.editingNoteIndex];\n      var noteIndex = habits[habitIndex].notes.findIndex(function(note) {\n        return note.timestamp === originalNote.timestamp;\n      });\n      if (noteIndex !== -1) {\n        habits[habitIndex].notes[noteIndex] = _objectSpread2(_objectSpread2({}, originalNote), {}, {\n          content: this.editingContent,\n          lastEditTime: Date.now()\n        });\n        uni.setStorageSync(\"habits\", habits);\n        this.habit = habits[habitIndex];\n        uni.showToast({\n          title: \"已保存\",\n          icon: \"success\",\n          duration: 2e3\n        });\n        this.showEditModal = false;\n        this.editingContent = \"\";\n        this.editingNoteIndex = -1;\n      }\n    },\n    showNoteActionSheet: function showNoteActionSheet(index) {\n      var _this10 = this;\n      uni.showActionSheet({\n        itemList: [ \"编辑\", \"删除\" ],\n        itemColor: \"#007AFF\",\n        success: function success(res) {\n          if (res.tapIndex === 0) {\n            _this10.editNote(index);\n          } else if (res.tapIndex === 1) {\n            _this10.deleteNote(index);\n          }\n        }\n      });\n    },\n    handleFlagLongPress: function handleFlagLongPress() {\n      uni.vibrateShort({\n        success: function success() {}\n      });\n    },\n    initPetalsCanvas: function initPetalsCanvas() {\n      var _this11 = this;\n      var query = uni.createSelectorQuery().in(this);\n      query.select(\"#petalsCanvas\").fields({\n        node: true,\n        size: true\n      }).exec(function(res) {\n        var canvas = res[0];\n        if (!canvas) {\n          uni.__f__(\"error\", \"at pages/habit-stats/habit-stats.vue:1392\", \"Canvas not found\");\n          return;\n        }\n        var ctx = canvas.context;\n        _this11.canvasContext = ctx;\n        uni.getWindowInfo().pixelRatio;\n        _this11.canvasWidth = canvas.width;\n        _this11.canvasHeight = canvas.height;\n        _this11.initPetals();\n        _this11.startPetalsAnimation();\n      });\n    },\n    initPetals: function initPetals() {\n      this.petals = [];\n      for (var i = 0; i < 50; i++) {\n        this.petals.push({\n          x: Math.random() * this.canvasWidth,\n          y: -20 - Math.random() * 100,\n          // 从屏幕上方开始\n          size: 10 + Math.random() * 20,\n          speed: 2 + Math.random() * 3,\n          angle: Math.random() * 360,\n          rotationSpeed: (Math.random() - .5) * 4,\n          color: this.getRandomPetalColor(),\n          opacity: .6 + Math.random() * .4\n        });\n      }\n    },\n    getRandomPetalColor: function getRandomPetalColor() {\n      var colors = [ \"$theme-color\",\n        // 主题色\n        \"#FFB340\",\n        // 浅色变体\n        \"#FF8500\",\n        // 深色变体\n        \"#FFCB45\",\n        // 金色\n        \"#FFE4B5\" ];\n      return colors[Math.floor(Math.random() * colors.length)];\n    },\n    startPetalsAnimation: function startPetalsAnimation() {\n      var _this12 = this;\n      if (this.animationFrameId) ;\n      var _animate = function animate() {\n        if (!_this12.showPetals) {\n          return;\n        }\n        _this12.canvasContext.clearRect(0, 0, _this12.canvasWidth, _this12.canvasHeight);\n        var allPetalsFallen = true;\n        _this12.petals.forEach(function(petal) {\n          petal.y += petal.speed;\n          petal.x += Math.sin(petal.angle * Math.PI / 180) * .5;\n          petal.angle += petal.rotationSpeed;\n          _this12.canvasContext.save();\n          _this12.canvasContext.translate(petal.x, petal.y);\n          _this12.canvasContext.rotate(petal.angle * Math.PI / 180);\n          _this12.canvasContext.globalAlpha = petal.opacity;\n          _this12.canvasContext.beginPath();\n          _this12.canvasContext.fillStyle = petal.color;\n          _this12.drawPetal(0, 0, petal.size);\n          _this12.canvasContext.fill();\n          _this12.canvasContext.restore();\n          if (petal.y < _this12.canvasHeight + petal.size) {\n            allPetalsFallen = false;\n          }\n        });\n        if (allPetalsFallen) {\n          _this12.showPetals = false;\n          return;\n        }\n        _this12.animationFrameId = setTimeout(function() {\n          _animate();\n        }, 16);\n      };\n      _animate();\n    },\n    drawPetal: function drawPetal(x, y, size) {\n      this.canvasContext.moveTo(x, y);\n      this.canvasContext.bezierCurveTo(x - size / 2, y - size / 2, x - size, y + size / 3, x, y + size);\n      this.canvasContext.bezierCurveTo(x + size, y + size / 3, x + size / 2, y - size / 2, x, y);\n    },\n    handleSearch: function handleSearch() {},\n    clearSearch: function clearSearch() {\n      this.searchQuery = \"\";\n    },\n    handleDateChange: function handleDateChange(e) {\n      this.selectedDate = e.detail.value;\n    },\n    clearDate: function clearDate() {\n      this.selectedDate = \"\";\n    },\n    switchDateMode: function switchDateMode(mode) {\n      this.currentDateMode = mode;\n      this.selectedDate = \"\";\n    },\n    formatSelectedDate: function formatSelectedDate(mode) {\n      if (!this.selectedDate) {\n        switch (mode) {\n          case \"year\":\n            return \"选择年份\";\n\n          case \"month\":\n            return \"选择年月\";\n\n          case \"date\":\n            return \"选择日期\";\n\n          default:\n            return \"选择日期\";\n        }\n      }\n      var date = new Date(this.selectedDate);\n      switch (mode) {\n        case \"year\":\n          return \"\".concat(date.getFullYear(), \"年\");\n\n        case \"month\":\n          return \"\".concat(date.getFullYear(), \"年\").concat(date.getMonth() + 1, \"月\");\n\n        case \"date\":\n          return \"\".concat(date.getFullYear(), \"年\").concat(date.getMonth() + 1, \"月\").concat(date.getDate(), \"日\");\n\n        default:\n          return this.selectedDate;\n      }\n    },\n    showCellDate: function showCellDate(day, cellIndex) {\n      var _this13 = this;\n      if (this.lastClickedCell) {\n        this.lastClickedCell.showDate = false;\n      }\n      var cell = this.yearlyHeatmap.data[day][cellIndex];\n      cell.showDate = true;\n      this.lastClickedCell = cell;\n      if (this.dateShowTimer) {\n        clearTimeout(this.dateShowTimer);\n      }\n      this.dateShowTimer = setTimeout(function() {\n        cell.showDate = false;\n        _this13.lastClickedCell = null;\n      }, 2e3);\n    }\n  }\n});\n</script>\n<style lang=\"scss\">\n.container {\n  background-color: #fff;\n  box-sizing: border-box;\n  color: #2c3e50;\n  height: auto;\n  padding: 20rpx 40rpx;\n}\n\n.tab-switch {\n  display: flex;\n  gap: 20rpx;\n  justify-content: center;\n  margin: 20rpx 0 30rpx;\n}\n\n.tab-switch .tab-item {\n  background: #edf0f5;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n  padding: 20rpx 40rpx;\n  transition: all .3s ease;\n}\n\n.tab-switch .tab-item.active {\n  background: #ff9f0a;\n  color: #fff;\n}\n\n.calendar-section {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  margin-top: 20rpx;\n  padding: 30rpx;\n}\n\n.calendar-section .month-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 30rpx;\n}\n\n.calendar-section .month-header .month-title {\n  color: #5c6b7a;\n  font-size: 28rpx;\n}\n\n.calendar-section .month-header .month-controls {\n  display: flex;\n  gap: 20rpx;\n}\n\n.calendar-section .month-header .month-controls .arrow {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 30rpx;\n  display: flex;\n  height: 60rpx;\n  justify-content: center;\n  width: 60rpx;\n}\n\n.heatmap-section {\n  margin-top: 30rpx;\n}\n\n.heatmap-section .stats-grid {\n  display: grid;\n  gap: 20rpx;\n  grid-template-columns: 1fr;\n  margin-top: 20rpx;\n}\n\n.heatmap-section .stats-grid .stat-card {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  display: flex;\n  gap: 20rpx;\n  padding: 20rpx;\n  transition: all .2s ease;\n}\n\n.heatmap-section .stats-grid .stat-card:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n  transform: scale(.98);\n}\n\n.heatmap-section .stats-grid .stat-card .stat-icon {\n  align-items: center;\n  background: rgba(255,159,10,.1);\n  border-radius: 40rpx;\n  display: flex;\n  font-size: 32rpx;\n  height: 80rpx;\n  justify-content: center;\n  width: 80rpx;\n}\n\n.heatmap-section .stats-grid .stat-card .stat-content {\n  flex: 1;\n}\n\n.heatmap-section .stats-grid .stat-card .stat-content .stat-value {\n  color: #2c3e50;\n  display: block;\n  font-size: 36rpx;\n  font-weight: 700;\n}\n\n.heatmap-section .stats-grid .stat-card .stat-content .stat-label {\n  color: #5c6b7a;\n  display: block;\n  font-size: 24rpx;\n  margin-top: 4rpx;\n}\n\n.flame-animation {\n  height: 300rpx;\n  margin-top: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.flame-animation .flame-canvas {\n  background: transparent;\n  height: 100%;\n  width: 100%;\n}\n\n.analytics-section {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  margin-top: 20rpx;\n  padding: 30rpx;\n}\n\n.analytics-section .section-title {\n  color: #5c6b7a;\n  font-size: 28rpx;\n}\n\n.analytics-section .card-container,.analytics-section .insights-section .insights-container,.analytics-section .streak-section .streak-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  width: 100%;\n}\n\n.analytics-section .yearly-section {\n  margin-top: 30rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container {\n  -webkit-overflow-scrolling: touch;\n  background: #edf0f5;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  margin-top: 20rpx;\n  overflow-x: auto;\n  padding: 20rpx;\n  transition: all .2s ease;\n  width: 100%;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container::-webkit-scrollbar {\n  height: 6rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container::-webkit-scrollbar-thumb {\n  background: #8c9baa;\n  border-radius: 5rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container::-webkit-scrollbar-track {\n  background: #edf0f5;\n  border-radius: 0 0 20rpx 20rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap {\n  display: grid;\n  gap: 10rpx;\n  grid-template-rows: repeat(7,1fr);\n  height: 240rpx;\n  margin-left: 20rpx;\n  padding-bottom: 10rpx;\n  padding-top: 10rpx;\n  position: relative;\n  scroll-behavior: smooth;\n  touch-action: pan-x;\n  width: 200%;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .weekday-labels {\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 5rpx;\n  height: calc(100% - 6rpx);\n  justify-content: space-around;\n  left: -20rpx;\n  padding: 4rpx 0;\n  position: absolute;\n  top: -4rpx;\n  z-index: 2;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .weekday-labels .weekday-label {\n  color: #5c6b7a;\n  font-size: 20rpx;\n  height: 24rpx;\n  line-height: 20rpx;\n  text-align: center;\n  width: 40rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row {\n  display: flex;\n  gap: 10rpx;\n  padding-left: 30rpx;\n  position: relative;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell {\n  align-items: center;\n  aspect-ratio: 1;\n  background: rgba(255,159,10,.1);\n  border-radius: 4rpx;\n  color: #5c6b7a;\n  display: flex;\n  font-size: 16rpx;\n  justify-content: center;\n  position: relative;\n  transition: transform .2s ease;\n  transition: transform .2s ease,-webkit-transform .2s ease;\n  width: 100%;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell::before {\n  background: #f5f7fa;\n  border-radius: 8rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0,0,0,.1);\n  color: #2c3e50;\n  content: attr(data-date);\n  font-size: 20rpx;\n  left: 50%;\n  opacity: 0;\n  padding: 8rpx 12rpx;\n  pointer-events: none;\n  position: absolute;\n  top: -60rpx;\n  transform: translateX(-50%);\n  transition: opacity .2s ease;\n  white-space: nowrap;\n  z-index: 9999;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.show-date::before {\n  opacity: 1;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell:active {\n  transform: scale(.95);\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.completed {\n  background: #ff9f0a;\n  box-shadow: 0 0 8rpx rgba(255,159,10,.3);\n  color: #fff;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.completed:active {\n  transform: scale(.95);\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.out-of-year {\n  opacity: .5;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.first-day::after {\n  content: \"1\";\n  font-size: 16rpx;\n  font-weight: 700;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%,-50%);\n}\n\n.analytics-section .insights-section .insights-container {\n  margin-top: 20rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  display: flex;\n  flex-direction: row;\n  padding: 40rpx;\n  transition: all .2s ease;\n}\n\n.analytics-section .insights-section .insights-container .main-card:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n  transform: scale(.98);\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress {\n  --progress: calc(var(--percentage) * 1%);\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 50%;\n  box-shadow: 0 0 20rpx rgba(255,159,10,.15);\n  display: flex;\n  flex-shrink: 0;\n  height: 160rpx;\n  justify-content: center;\n  margin-right: 40rpx;\n  position: relative;\n  transform: rotate(-90deg);\n  width: 160rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress::before {\n  background: linear-gradient(45deg,transparent,rgba(255,244,229,.1));\n  border-radius: 50%;\n  bottom: -4rpx;\n  content: \"\";\n  filter: blur(4rpx);\n  left: -4rpx;\n  position: absolute;\n  right: -4rpx;\n  top: -4rpx;\n  z-index: -1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress::after {\n  background: conic-gradient(from -90deg,#ff9f0a 0,#ff9f0a var(--progress),rgba(255,159,10,.2) var(--progress),transparent var(--progress));\n  border-radius: 50%;\n  content: \"\";\n  filter: drop-shadow(0 0 8rpx rgba(255,244,229,.6));\n  inset: 0;\n  mask: radial-gradient(farthest-side,transparent calc(100% - 16rpx),#000 calc(100% - 16rpx));\n  position: absolute;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .progress-track {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.3) var(--progress),transparent var(--progress));\n  border-radius: 50%;\n  content: \"\";\n  filter: blur(4rpx);\n  inset: 0;\n  position: absolute;\n  z-index: -1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .progress-glow {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.8) var(--progress),transparent var(--progress));\n  border-radius: 50%;\n  filter: blur(8rpx);\n  inset: -2rpx;\n  opacity: .4;\n  position: absolute;\n  z-index: -1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 50%;\n  box-shadow: inset 0 0 20rpx hsla(0,0%,100%,.3);\n  display: flex;\n  flex-direction: column;\n  height: 120rpx;\n  justify-content: center;\n  position: relative;\n  transform: rotate(90deg);\n  width: 120rpx;\n  z-index: 1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle::before {\n  background: linear-gradient(135deg,#edf0f5,#f5f7fa);\n  border-radius: 50%;\n  content: \"\";\n  inset: 4rpx;\n  position: absolute;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle .insight-number {\n  color: #2c3e50;\n  font-size: 40rpx;\n  font-weight: 700;\n  line-height: 1;\n  position: relative;\n  text-shadow: 0 0 10rpx rgba(255,159,10,.1);\n  z-index: 1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle .insight-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 4rpx;\n  position: relative;\n  z-index: 1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-period {\n  color: #2c3e50;\n  font-size: 32rpx;\n  margin-bottom: 8rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-rate {\n  color: #ff9f0a;\n  font-size: 56rpx;\n  font-weight: 700;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-details {\n  margin-top: 12rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-details .detail-text {\n  color: #5c6b7a;\n  display: block;\n  font-size: 24rpx;\n  margin-bottom: 4rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-details .detail-explanation {\n  color: #8c9baa;\n  font-size: 22rpx;\n  line-height: 1.4;\n}\n\n.analytics-section .streak-section {\n  margin-bottom: 30rpx;\n}\n\n.analytics-section .streak-section .streak-card .streak-content {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-bottom: 12rpx;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-number {\n  color: #ff9f0a;\n  font-size: 64rpx;\n  font-weight: 700;\n  line-height: 1.2;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-number .streak-unit {\n  font-size: 32rpx;\n  font-weight: 400;\n  margin-left: 8rpx;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-date {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 12rpx;\n}\n\n.analytics-section .monthly-progress .months-grid {\n  align-items: flex-end;\n  background: #edf0f5;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  display: flex;\n  height: 300rpx;\n  justify-content: space-between;\n  margin-top: 20rpx;\n  overflow: hidden;\n  padding: 40rpx 20rpx 80rpx;\n  position: relative;\n  transition: all .2s ease;\n}\n\n.analytics-section .monthly-progress .months-grid:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n}\n\n.analytics-section .monthly-progress .months-grid::before {\n  background: linear-gradient(180deg,#edf0f5,transparent);\n  content: \"\";\n  height: 60rpx;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 1;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column {\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  position: relative;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container {\n  align-items: flex-end;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  padding: 0 4rpx;\n  position: relative;\n  width: 100%;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container::before {\n  background: rgba(255,159,10,.2);\n  border-radius: 2rpx;\n  bottom: 0;\n  content: \"\";\n  height: 4rpx;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n  width: 40rpx;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar {\n  background: var(--bar-gradient);\n  border-radius: 10rpx;\n  box-shadow: 0 0 10rpx rgba(255,159,10,.15);\n  min-height: 4rpx;\n  position: relative;\n  transition: all .3s cubic-bezier(.4,0,.2,1);\n  width: 20rpx;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar::after {\n  color: #2c3e50;\n  content: attr(data-count);\n  font-size: 20rpx;\n  left: 50%;\n  opacity: 0;\n  position: absolute;\n  top: -30rpx;\n  transform: translateX(-50%);\n  transition: all .3s ease;\n  white-space: nowrap;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar:hover::after {\n  opacity: 1;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar .progress-glow {\n  background: linear-gradient(180deg,transparent,rgba(255,159,10,.3));\n  border-radius: 10rpx;\n  bottom: 0;\n  filter: blur(4rpx);\n  height: 60%;\n  left: 0;\n  opacity: 0;\n  position: absolute;\n  right: 0;\n  transition: opacity .3s ease;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.high-progress {\n  box-shadow: 0 0 20rpx rgba(255,244,229,.6);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.high-progress::after {\n  color: #2c3e50;\n  text-shadow: 0 0 8rpx rgba(255,244,229,.5);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.high-progress .progress-glow {\n  background: linear-gradient(180deg,transparent,rgba(255,244,229,.4));\n  opacity: 1;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.medium-progress {\n  box-shadow: 0 0 15rpx rgba(255,159,10,.4);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.medium-progress::after {\n  color: #2c3e50;\n  text-shadow: 0 0 8rpx rgba(255,159,10,.4);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.medium-progress .progress-glow {\n  opacity: .7;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.low-progress::after {\n  color: #2c3e50;\n  text-shadow: 0 0 8rpx rgba(255,159,10,.3);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.low-progress .progress-glow {\n  opacity: .4;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .month-label {\n  align-items: center;\n  bottom: -60rpx;\n  color: #5c6b7a;\n  display: flex;\n  flex-direction: column;\n  font-size: 24rpx;\n  line-height: 1.2;\n  position: absolute;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .month-label::before {\n  color: #8c9baa;\n  content: attr(data-month);\n  font-size: 26rpx;\n  margin-bottom: 4rpx;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column:hover .progress-bar::after {\n  opacity: 1;\n}\n\n.calendar-grid {\n  background: transparent;\n  border-radius: 0;\n  margin-top: 10rpx;\n  padding: 0;\n}\n\n.calendar-grid .weekday-row {\n  display: grid;\n  gap: 10rpx;\n  grid-template-columns: repeat(7,1fr);\n  margin-bottom: 10rpx;\n  margin-top: -10rpx;\n}\n\n.calendar-grid .weekday-row .weekday {\n  color: #5c6b7a;\n  font-size: 22rpx;\n  padding: 6rpx 4rpx;\n  text-align: center;\n}\n\n.calendar-grid .days-grid {\n  display: grid;\n  gap: 10rpx;\n  grid-template-columns: repeat(7,1fr);\n}\n\n.calendar-grid .days-grid .day-cell {\n  align-items: center;\n  aspect-ratio: 1;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  font-size: 24rpx;\n  justify-content: center;\n  position: relative;\n  transition: all .2s ease;\n}\n\n.calendar-grid .days-grid .day-cell:active {\n  opacity: .8;\n  transform: scale(.95);\n}\n\n.calendar-grid .days-grid .day-cell.completed {\n  animation: complete-animation .5s cubic-bezier(.4,0,.2,1);\n  background: #ff9f0a;\n  box-shadow: 0 0 15rpx rgba(255,159,10,.15);\n  color: #fff;\n}\n\n.calendar-grid .days-grid .day-cell.completed:not(:active) {\n  animation: none;\n}\n\n.calendar-grid .days-grid .day-cell.today {\n  border: 2rpx solid #ff9f0a;\n}\n\n.calendar-grid .days-grid .day-cell.future {\n  opacity: .5;\n  pointer-events: none;\n}\n\n.streak-section {\n  margin-bottom: 30rpx;\n}\n\n.streak-section .streak-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  padding: 30rpx;\n}\n\n.streak-section .streak-card .streak-content {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.streak-section .streak-card .streak-content .streak-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-bottom: 12rpx;\n}\n\n.streak-section .streak-card .streak-content .streak-number {\n  color: #ff9f0a;\n  font-size: 64rpx;\n  font-weight: 700;\n  line-height: 1.2;\n}\n\n.streak-section .streak-card .streak-content .streak-number .streak-unit {\n  font-size: 32rpx;\n  font-weight: 400;\n  margin-left: 8rpx;\n}\n\n.streak-section .streak-card .streak-content .streak-date {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 12rpx;\n}\n\n.calendar-section .month-header {\n  margin-top: 10rpx;\n}\n\n.year-switcher {\n  gap: 40rpx;\n  padding: 20rpx;\n  position: relative;\n}\n\n.year-switcher,.year-switcher .year-button {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.year-switcher .year-button {\n  background: #edf0f5;\n  border-radius: 50%;\n  height: 80rpx;\n  transition: all .2s ease;\n  width: 80rpx;\n}\n\n.year-switcher .year-button:active {\n  opacity: .8;\n  transform: scale(.95);\n}\n\n.year-switcher .year-button .year-button-icon {\n  color: #ff9f0a;\n  font-size: 32rpx;\n}\n\n.year-switcher .year-button.disabled {\n  opacity: .3;\n  pointer-events: none;\n}\n\n.year-switcher .year-display {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  flex-direction: column;\n  min-width: 240rpx;\n  padding: 20rpx 60rpx;\n}\n\n.year-switcher .year-display .year-number {\n  color: #ff9f0a;\n  font-size: 48rpx;\n  font-weight: 700;\n  line-height: 1.2;\n}\n\n.year-switcher .year-display .year-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 4rpx;\n}\n\n.yearly-best {\n  margin-top: 30rpx;\n}\n\n.yearly-best .section-subtitle {\n  color: #5c6b7a;\n  display: block;\n  font-size: 28rpx;\n  margin-bottom: 20rpx;\n}\n\n.yearly-best .best-grid {\n  display: grid;\n  gap: 20rpx;\n  grid-template-columns: repeat(3,1fr);\n}\n\n.yearly-best .best-grid .best-card {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  display: flex;\n  gap: 16rpx;\n  padding: 20rpx;\n}\n\n.yearly-best .best-grid .best-card .best-icon {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 40rpx;\n  display: flex;\n  font-size: 36rpx;\n  height: 80rpx;\n  justify-content: center;\n  width: 80rpx;\n}\n\n.yearly-best .best-grid .best-card .best-content {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n\n.yearly-best .best-grid .best-card .best-content .best-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.yearly-best .best-grid .best-card .best-content .best-value {\n  color: #ff9f0a;\n  font-size: 32rpx;\n  font-weight: 700;\n  margin: 4rpx 0;\n}\n\n.yearly-best .best-grid .best-card .best-content .best-date {\n  color: #5c6b7a;\n  font-size: 20rpx;\n}\n\n@-webkit-keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n.overall-button {\n  align-items: center;\n  background: #4b9dff;\n  border-radius: 12rpx;\n  color: #2c3e50;\n  display: flex;\n  justify-content: space-between;\n  margin: 20rpx;\n  padding: 20rpx 30rpx;\n}\n\n.button-text {\n  font-size: 28rpx;\n  font-weight: 700;\n}\n\n.button-icon {\n  font-size: 32rpx;\n}\n\n.notes-section {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  margin-top: 20rpx;\n  padding: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.notes-section .notes-list {\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n}\n\n.notes-section .notes-list .note-card {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  padding: 30rpx;\n  transition: all .2s ease;\n  width: 100%;\n}\n\n.notes-section .notes-list .note-card:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n  transform: scale(.98);\n}\n\n.notes-section .notes-list .note-card .note-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 16rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .note-date {\n  color: #8c9baa;\n  font-size: 24rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .retroactive-badge {\n  align-items: center;\n  background: rgba(255,159,10,.1);\n  border-radius: 8rpx;\n  display: flex;\n  margin-left: 90rpx;\n  padding: 4rpx 12rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .retroactive-badge .badge-icon {\n  font-size: 24rpx;\n  margin-right: 4rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .retroactive-badge .badge-text {\n  color: #ff9f0a;\n  font-size: 20rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .more-actions {\n  padding: 0 10rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .more-actions .more-icon {\n  color: #8c9baa;\n  font-size: 32rpx;\n}\n\n.notes-section .notes-list .note-card .note-content {\n  color: #2c3e50;\n  font-size: 28rpx;\n  line-height: 1.6;\n}\n\n.notes-section .empty-notes {\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  padding: 40rpx;\n  width: 100%;\n}\n\n.notes-section .empty-notes .empty-icon {\n  font-size: 80rpx;\n  margin-bottom: 20rpx;\n}\n\n.notes-section .empty-notes .empty-message {\n  color: rgba(44,62,80,.6);\n  font-size: 28rpx;\n  max-width: 400rpx;\n  text-align: center;\n}\n\n.edit-modal {\n  align-items: center;\n  background: rgba(0,0,0,.4);\n  bottom: 0;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  padding: 30rpx;\n  position: fixed;\n  right: 0;\n  top: 0;\n  z-index: 1000;\n}\n\n.edit-modal .modal-content {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-shadow: 0 8rpx 24rpx rgba(255,159,10,.3);\n  max-width: 600rpx;\n  padding: 40rpx;\n  position: relative;\n  transform: translateY(-5%);\n  width: 90%;\n}\n\n.edit-modal .modal-content .modal-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 40rpx;\n}\n\n.edit-modal .modal-content .modal-header .modal-title {\n  color: #2c3e50;\n  font-size: 32rpx;\n  font-weight: 600;\n}\n\n.edit-modal .modal-content .modal-header .close-btn {\n  color: #5c6b7a;\n  cursor: pointer;\n  font-size: 32rpx;\n}\n\n.edit-modal .modal-content .edit-textarea {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-sizing: border-box;\n  color: #2c3e50;\n  font-size: 32rpx;\n  height: 360rpx;\n  line-height: 1.6;\n  margin-bottom: 30rpx;\n  padding: 30rpx;\n  width: 100%;\n}\n\n.edit-modal .modal-content .modal-footer {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20rpx;\n}\n\n.edit-modal .modal-content .modal-footer .counter {\n  color: #5c6b7a;\n  font-size: 28rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons {\n  display: flex;\n  gap: 20rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons .cancel-btn {\n  background: transparent;\n  border-radius: 20rpx;\n  color: #5c6b7a;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons .save-btn {\n  background: #ff9f0a;\n  border-radius: 20rpx;\n  color: #fff;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.heatmap-cell {\n  align-items: center;\n  aspect-ratio: 1;\n  background: rgba(255,159,10,.1);\n  border-radius: 4rpx;\n  color: #5c6b7a;\n  display: flex;\n  font-size: 16rpx;\n  justify-content: center;\n  position: relative;\n  transition: transform .2s ease;\n  transition: transform .2s ease,-webkit-transform .2s ease;\n  width: 100%;\n}\n\n.heatmap-cell::before {\n  background: #f5f7fa;\n  border-radius: 8rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0,0,0,.1);\n  color: #2c3e50;\n  content: attr(data-date);\n  font-size: 20rpx;\n  left: 50%;\n  opacity: 0;\n  padding: 8rpx 12rpx;\n  pointer-events: none;\n  position: absolute;\n  top: -60rpx;\n  transform: translateX(-50%);\n  transition: opacity .2s ease;\n  white-space: nowrap;\n  z-index: 9999;\n}\n\n.heatmap-cell.show-date::before {\n  opacity: 1;\n}\n\n.heatmap-cell:active {\n  transform: scale(.95);\n}\n\n.heatmap-cell.completed {\n  background: #ff9f0a;\n  box-shadow: 0 0 8rpx rgba(255,159,10,.3);\n  color: #fff;\n}\n\n.heatmap-cell.completed:active {\n  transform: scale(.95);\n}\n\n.heatmap-cell.out-of-year {\n  opacity: .5;\n}\n\n.heatmap-cell.first-day::after {\n  content: \"1\";\n  font-size: 16rpx;\n  font-weight: 700;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%,-50%);\n}\n\n.search-section {\n  margin-bottom: 30rpx;\n}\n\n.search-section .date-filter {\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  gap: 16rpx;\n  margin-bottom: 20rpx;\n  width: 100%;\n}\n\n.search-section .date-filter .date-mode-selector {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  flex: none;\n  padding: 4rpx;\n  width: 30%;\n}\n\n.search-section .date-filter .date-mode-selector .mode-item {\n  border-radius: 12rpx;\n  color: #2c3e50;\n  flex: 1;\n  font-size: 26rpx;\n  padding: 12rpx 0;\n  text-align: center;\n  transition: all .3s ease;\n}\n\n.search-section .date-filter .date-mode-selector .mode-item.active {\n  background: #ff9f0a;\n  color: #fff;\n}\n\n.search-section .date-filter .date-pickers {\n  gap: 16rpx;\n  width: 70%;\n}\n\n.search-section .date-filter .date-pickers,.search-section .date-filter .date-pickers .date-picker {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n}\n\n.search-section .date-filter .date-pickers .date-picker {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  flex: 1;\n  padding: 10rpx 24rpx;\n}\n\n.search-section .date-filter .date-pickers .date-picker .date-text {\n  color: #2c3e50;\n  font-size: 26rpx;\n}\n\n.search-section .date-filter .date-pickers .date-picker .calendar-icon {\n  font-size: 32rpx;\n}\n\n.search-section .date-filter .date-pickers .clear-date {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  color: #5c6b7a;\n  flex: none;\n  font-size: 26rpx;\n  opacity: .5;\n  padding: 13rpx 24rpx;\n  text-align: center;\n  transition: all .3s ease;\n  width: auto;\n}\n\n.search-section .date-filter .date-pickers .clear-date.active {\n  color: #2c3e50;\n  cursor: pointer;\n  opacity: 1;\n}\n\n.search-section .date-filter .date-pickers .clear-date.active:active {\n  opacity: .8;\n}\n\n.search-section .search-bar {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  padding: 10rpx;\n}\n\n.search-section .search-bar .search-icon {\n  font-size: 32rpx;\n  margin-right: 20rpx;\n}\n\n.search-section .search-bar .search-input {\n  background: transparent;\n  color: #2c3e50;\n  flex: 1;\n  font-size: 28rpx;\n  height: 12rpx;\n}\n\n.search-section .search-bar .clear-icon {\n  color: #5c6b7a;\n  font-size: 40rpx;\n  padding: 0 20rpx;\n}\n\n@-webkit-keyframes flame {\n  0% {\n    transform: translateX(-50%) scale(1);\n  }\n\n  100% {\n    transform: translateX(-50%) scale(1.2);\n  }\n}\n\n@keyframes flame {\n  0% {\n    transform: translateX(-50%) scale(1);\n  }\n\n  100% {\n    transform: translateX(-50%) scale(1.2);\n  }\n}\n\n.flag-banner::before {\n  background: linear-gradient(90deg,transparent,#ff9f0a,transparent);\n}\n\n.flag-banner .flag-text {\n  color: #ff9f0a;\n}\n\n.circle-progress::after {\n  background: conic-gradient(from -90deg,#f29100 0,#fff4e5 var(--progress),rgba(255,159,10,.2) var(--progress),transparent var(--progress));\n}\n\n.circle-progress .progress-track {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.3) var(--progress),transparent var(--progress));\n}\n\n.circle-progress .progress-glow {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.8) var(--progress),transparent var(--progress));\n}\n\n.insight-rate {\n  color: #ff9f0a;\n}\n</style>","import MiniProgramPage from '/Users/linsir/Experiments/uni-app/test-3/test-3/pages/habit-stats/habit-stats.vue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","isCurrentMonth"],"mappings":"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"}