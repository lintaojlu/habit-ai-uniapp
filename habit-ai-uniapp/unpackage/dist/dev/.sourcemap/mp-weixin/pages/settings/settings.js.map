{"version":3,"file":"settings.js","sources":["pages/settings/settings.vue","pages/settings/settings.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- Áî®Êà∑‰ø°ÊÅØÂå∫Âüü -->\n    <view class=\"settings-card user-info-section\">\n      <view class=\"avatar-wrapper\">\n        <image class=\"avatar\" :src=\"userInfo.avatarUrl || '/static/default-avatar.png'\" mode=\"aspectFill\"/>\n      </view>\n      <view class=\"user-info\">\n        <text class=\"nickname\">{{ userInfo.nickName || 'Êú™ËÆæÁΩÆÊòµÁß∞' }}</text>\n      </view>\n    </view>\n\n    <!-- AIËÆæÁΩÆÂå∫Âüü -->\n    <view class=\"settings-card setting-item\">\n      <view class=\"setting-left\">\n        <text class=\"setting-icon\">ü§ñ</text>\n        <text class=\"setting-label\">ËßíËâ≤ËÆæÁΩÆ</text>\n      </view>\n      <picker class=\"role-picker\" :value=\"selectedRoleIndex\" :range=\"aiRoles\" @change=\"onRoleChange\">\n        <view class=\"picker-value\">\n          {{ aiRoles[selectedRoleIndex] }}\n          <text class=\"arrow\">></text>\n        </view>\n      </picker>\n    </view>\n\n    <!-- ÈöêÁßÅËÆæÁΩÆ -->\n    <view class=\"settings-card setting-item\">\n      <view class=\"setting-left\">\n        <text class=\"setting-icon\">üîí</text>\n        <text class=\"setting-label\">ÈöêÁßÅËÆæÁΩÆ</text>\n      </view>\n      <text class=\"arrow\">></text>\n    </view>\n\n    <!-- Áî®Êà∑ÂèçÈ¶àÂå∫Âüü -->\n    <view class=\"settings-card setting-item\">\n      <view class=\"setting-left\">\n        <text class=\"setting-icon\">üì¢</text>\n        <text class=\"setting-label\">ÂèçÈ¶à‰∏éÊîØÊåÅ</text>\n      </view>\n      <text class=\"arrow\" @tap=\"onFeedback\">></text>\n    </view>\n\n    <!-- ÈÄÄÂá∫ÁôªÂΩïÊåâÈíÆ -->\n    <view class=\"settings-card setting-item\">\n      <view class=\"setting-left\">\n        <text class=\"setting-icon\">üö™</text>\n        <text class=\"setting-label logout\">ÈÄÄÂá∫ÁôªÂΩï</text>\n      </view>\n      <text class=\"arrow\" @tap=\"onLogout\">></text>\n    </view>\n  </view>\n\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      userInfo: {\n        avatarUrl: '',\n        nickName: ''\n      },\n      aiRoles: ['Âä©Êâã', 'ÊïôÁªÉ', 'ÊúãÂèã', '‰∏ìÂÆ∂'],\n      selectedRoleIndex: 0\n    }\n  },\n  onLoad() {\n    this.loadUserInfo()\n    this.loadAISettings()\n  },\n  methods: {\n    loadUserInfo() {\n      // ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩÁî®Êà∑‰ø°ÊÅØ\n      const userInfo = uni.getStorageSync('userInfo')\n      if (userInfo) {\n        this.userInfo = userInfo\n      }\n    },\n    loadAISettings() {\n      // ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩAIËÆæÁΩÆ\n      const aiRole = uni.getStorageSync('aiRole')\n      if (aiRole) {\n        const index = this.aiRoles.indexOf(aiRole)\n        if (index !== -1) {\n          this.selectedRoleIndex = index\n        }\n      }\n    },\n    onRoleChange(e) {\n      this.selectedRoleIndex = e.detail.value\n      // ‰øùÂ≠òAIËßíËâ≤ËÆæÁΩÆ\n      uni.setStorageSync('aiRole', this.aiRoles[this.selectedRoleIndex])\n      uni.showToast({\n        title: 'AIËßíËâ≤Â∑≤Êõ¥Êñ∞',\n        icon: 'success'\n      })\n    },\n    onFeedback() {\n      // Ë∑≥ËΩ¨Âà∞ÂèçÈ¶àÈ°µÈù¢ÊàñÊâìÂºÄÂèçÈ¶àË°®Âçï\n      uni.showModal({\n        title: 'ÊÑèËßÅÂèçÈ¶à',\n        content: 'ËØ∑ÈÄöËøá‰ª•‰∏ãÈÇÆÁÆ±ËÅîÁ≥ªÊàë‰ª¨Ôºö\\nsupport@habitai.com',\n        showCancel: false\n      })\n    },\n    onLogout() {\n      uni.showModal({\n        title: 'Á°ÆËÆ§ÈÄÄÂá∫',\n        content: 'Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü',\n        success: (res) => {\n          if (res.confirm) {\n            // Ê∏ÖÈô§Áî®Êà∑‰ø°ÊÅØÂíåÁõ∏ÂÖ≥Êï∞ÊçÆ\n            uni.clearStorageSync()\n            // ÈáçÂÆöÂêëÂà∞ÁôªÂΩïÈ°µÈù¢\n            uni.reLaunch({\n              url: '/pages/index/index'\n            })\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n.container {\n  padding: 30rpx;\n  background: #f5f7fa;\n  min-height: 100vh;\n}\n\n.settings-section {\n  background: #f5f7fa;\n}\n\n.settings-card {\n  background: #fff;\n  border-radius: 20rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n}\n\n.user-info-section {\n  background: var(--theme-color);\n  display: flex;\n  align-items: center;\n  padding: 40rpx;\n  height: 200rpx;\n  border-radius: 20rpx;\n  margin-bottom: 20rpx;\n}\n\n.avatar-wrapper {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 50%;\n  overflow: hidden;\n  border: 4rpx solid rgba(255, 255, 255, 0.3);\n}\n\n.avatar {\n  width: 100%;\n  height: 100%;\n}\n\n.user-info {\n  margin-left: 30rpx;\n  color: #fff;\n}\n\n.nickname {\n  font-size: 36rpx;\n  font-weight: 600;\n  margin-bottom: 10rpx;\n}\n\n.setting-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 100rpx;\n}\n\n.setting-left {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n}\n\n.setting-icon {\n  font-size: 40rpx;\n}\n\n.setting-info {\n  display: flex;\n  flex-direction: column;\n  gap: 6rpx;\n}\n\n.setting-label {\n  font-size: 30rpx;\n  color: #2c3e50;\n}\n\n.setting-desc {\n  font-size: 24rpx;\n  color: #5c6b7a;\n}\n\n.arrow {\n  color: #5c6b7a;\n  font-size: 30rpx;\n}\n\n.picker-value {\n  color: #5c6b7a;\n  font-size: 30rpx;\n  display: flex;\n  align-items: center;\n  gap: 10rpx;\n}\n\n.logout .setting-label {\n  color: #ff3b30;\n}\n</style>\n","import MiniProgramPage from '/Users/linsir/Experiments/uni-app/habit-ai-uniapp/habit-ai-uniapp/pages/settings/settings.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAyDA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,UAAU;AAAA,QACR,WAAW;AAAA,QACX,UAAU;AAAA,MACX;AAAA,MACD,SAAS,CAAC,MAAM,MAAM,MAAM,IAAI;AAAA,MAChC,mBAAmB;AAAA,IACrB;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,aAAa;AAClB,SAAK,eAAe;AAAA,EACrB;AAAA,EACD,SAAS;AAAA,IACP,eAAe;AAEb,YAAM,WAAWA,cAAAA,MAAI,eAAe,UAAU;AAC9C,UAAI,UAAU;AACZ,aAAK,WAAW;AAAA,MAClB;AAAA,IACD;AAAA,IACD,iBAAiB;AAEf,YAAM,SAASA,cAAAA,MAAI,eAAe,QAAQ;AAC1C,UAAI,QAAQ;AACV,cAAM,QAAQ,KAAK,QAAQ,QAAQ,MAAM;AACzC,YAAI,UAAU,IAAI;AAChB,eAAK,oBAAoB;AAAA,QAC3B;AAAA,MACF;AAAA,IACD;AAAA,IACD,aAAa,GAAG;AACd,WAAK,oBAAoB,EAAE,OAAO;AAElCA,oBAAG,MAAC,eAAe,UAAU,KAAK,QAAQ,KAAK,iBAAiB,CAAC;AACjEA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,OACP;AAAA,IACF;AAAA,IACD,aAAa;AAEXA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,YAAY;AAAA,OACb;AAAA,IACF;AAAA,IACD,WAAW;AACTA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AAEfA,0BAAAA,MAAI,iBAAiB;AAErBA,0BAAAA,MAAI,SAAS;AAAA,cACX,KAAK;AAAA,aACN;AAAA,UACH;AAAA,QACF;AAAA,OACD;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;AC3HA,GAAG,WAAW,eAAe;"}