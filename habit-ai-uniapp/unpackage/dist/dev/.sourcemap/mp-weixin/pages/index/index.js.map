{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 添加 conv-card 组件 -->\n    <conv-card\n        v-if=\"showConvCard\"\n        :show=\"showConvCard\"\n        :emoji=\"aiMessage.emoji\"\n        :suggestions=\"aiMessage.suggestions\"\n        @updateShow=\"showConvCard = $event\"\n    />\n    <reward-card\n        v-if=\"showRewardCard\"\n        :title=\"rewardTitle\"\n        :message=\"rewardMessage\"\n        :stats=\"rewardStats\"\n        :habit-info=\"currentHabit\"\n        :mode=\"viewMode\"\n        :show=\"showRewardCard\"\n        @saveNote=\"handleSaveNote\"\n        @updateShow=\"showRewardCard = $event\"\n    />\n    <view class=\"header\">\n      <view class=\"date-info\">\n        <view class=\"date-content\">\n          <text class=\"year\">{{ currentYear }}年{{ currentMonth }}月第{{ monthWeek }}周</text>\n        </view>\n        <view class=\"flip-clock\">\n          <text class=\"streak-icon\">🔥</text>\n          <text class=\"time-unit\">{{ currentStreak }}</text>\n          <text class=\"streak-label\">天</text>\n        </view>\n      </view>\n      <view class=\"header-row\">\n        <view class=\"habit-stats\">\n          <view class=\"progress-bar\">\n            <view class=\"progress-fill\" :style=\"{ width: `${(getTodayCompletedCount / habits.length) * 100}%` }\"></view>\n          </view>\n        </view>\n        <view v-if=\"isOrderMode\" class=\"complete-order-btn\" @tap=\"completeOrder\">完成排序</view>\n      </view>\n      <view class=\"ai-message\">\n        <view class=\"ai-message-card\" @tap=\"handleAiMessageClick\">\n          <text class=\"ai-message-icon\">{{ aiMessage.emoji }}</text>\n          <text class=\"ai-message-content\">{{ aiMessage.content }}</text>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"empty-state\" v-if=\"habits.length === 0\">\n      <text class=\"empty-icon\">📝</text>\n      <text class=\"empty-title\">开始培养新习惯</text>\n      <text class=\"empty-desc\">点击右下角的加号按钮添加你想要培养的习惯</text>\n    </view>\n\n    <view class=\"view-container\" @touchstart=\"handleTouchStart\" @touchend=\"handleTouchEnd\">\n      <view\n          class=\"view-page habits-list\"\n          :style=\"{ transform: `translateX(${translateX}px)` }\"\n      >\n        <view\n            v-for=\"(habit, index) in habits\"\n            :key=\"habit.id\"\n            class=\"habit-card\"\n            :class=\"{\n            'is-flipped': flippedCards[habit.id],\n            'is-order-mode': isOrderMode,\n            'no-interaction': isOrderMode,\n            [habit.animating]: habit.animating\n          }\"\n            @longpress=\"!isOrderMode && handleCardLongPress(habit)\"\n            @touchend=\"!isOrderMode && handleCardTouchEnd(habit)\"\n        >\n          <!-- 卡片正面 -->\n          <view class=\"card-face card-front\">\n            <view class=\"habit-header\">\n              <view class=\"title-section\">\n                <view class=\"habit-icon\" :style=\"{ 'background-color': habit.color }\">\n                  <text class=\"emoji-icon\">{{ habit.icon }}</text>\n                </view>\n                <text class=\"habit-title\">{{ habit.title }}</text>\n              </view>\n              <view class=\"more-actions\" @tap.stop=\"showActionSheet(habit)\">\n                <text class=\"more-icon\">⋮</text>\n              </view>\n            </view>\n\n            <!-- 排序按钮 -->\n            <view class=\"order-buttons\" v-if=\"isOrderMode\">\n              <view\n                  class=\"order-btn up\"\n                  :class=\"{ disabled: index === 0 }\"\n                  @tap.stop=\"moveHabitUp(index)\"\n              >\n                <text class=\"order-icon\">↑</text>\n              </view>\n              <view\n                  class=\"order-btn down\"\n                  :class=\"{ disabled: index === habits.length - 1 }\"\n                  @tap.stop=\"moveHabitDown(index)\"\n              >\n                <text class=\"order-icon\">↓</text>\n              </view>\n            </view>\n\n            <!-- 习惯内容 -->\n            <view class=\"habit-content\">\n              <view class=\"progress-view\">\n                <view\n                    v-for=\"(day, i) in 7\"\n                    :key=\"i\"\n                    class=\"week-day\"\n                >\n                  <text class=\"day-label\">{{ weekDays[i] }}</text>\n                  <view\n                      class=\"day-box\"\n                      :class=\"{\n                      completed: isCompletedForDay(habit, i),\n                      today: isWeekToday(i),\n                      future: isFutureDay(i)\n                    }\"\n                      @tap.stop=\"handleDayClick(habit, i)\"\n                  >{{ getDayDate(i) }}\n                  </view>\n                </view>\n              </view>\n              <view class=\"expand-button\" @tap.stop=\"toggleCardExpand(habit.id)\">\n                <text class=\"expand-text\">{{ expandedCards[habit.id] ? '收起日志' : '查看培育日志' }}</text>\n                <text class=\"expand-icon\">{{ expandedCards[habit.id] ? '↑' : '↓' }}</text>\n              </view>\n            </view>\n\n            <!-- 笔记容器 -->\n            <view class=\"notes-container\" v-show=\"expandedCards[habit.id]\">\n              <view class=\"empty-notes\" v-if=\"getWeekNotes(habit).length === 0\">\n                <text>本周还没有记录历程哦~</text>\n              </view>\n              <view class=\"notes-list\" v-else>\n                <view\n                    v-for=\"(note, index2) in getWeekNotes(habit)\"\n                    :key=\"index2\"\n                    class=\"note-item\"\n                >\n                  <view class=\"note-time\">\n                    <view class=\"time-left\">\n                      <text class=\"date\">{{ formatNoteTime(note.timestamp).date }}</text>\n                      <text class=\"time\">{{ formatNoteTime(note.timestamp).time }}</text>\n                    </view>\n                    <view class=\"time-right\">{{ formatNoteTime(note.timestamp).relative }}</view>\n                  </view>\n                  <view class=\"note-content\">{{ note.content }}</view>\n                </view>\n              </view>\n            </view>\n          </view>\n\n          <!-- 卡片背面 -->\n          <view class=\"card-face card-back\">\n            <view class=\"flag-banner\" v-if=\"habit.flag\">\n              <text class=\"flag-icon\">🎯</text>\n              <text class=\"flag-text\">{{ habit.flag }}</text>\n            </view>\n            <view class=\"flag-banner\" v-else>\n              <text class=\"flag-icon\">✨</text>\n              <text class=\"flag-text\">点击习惯卡片右上角的按钮\\n选择编辑添加目标！</text>\n            </view>\n            <view class=\"create-time\">\n              <text class=\"time-label\">创建于</text>\n              <text class=\"time-value\">{{ formatCreateTime(habit.createTime) }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n    </view>\n  </view>\n\n  <view class=\"add-button\" v-if=\"!isOrderMode\" @tap=\"addHabit\">\n    <text class=\"plus\">+</text>\n  </view>\n</template>\n\n<script>\nimport {defineComponent} from 'vue'\nimport RewardCard from '@/components/reward-card.vue'\nimport ConvCard from \"@/components/conv-card.vue\";\n\nexport default defineComponent({\n  components: {\n    ConvCard,\n    RewardCard\n  },\n  data() {\n    return {\n      weekDays: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\n      habits: [],\n      currentYear: 0,\n      currentMonth: 0,\n      yearWeek: 0,\n      monthWeek: 0,\n      showRewardCard: false,\n      rewardTitle: '',\n      rewardMessage: '',\n      rewardStats: null,\n      currentHabit: null,\n      isNoInteraction: false,\n      touchStartX: 0,\n      touchStartTime: 0,\n      translateX: 0,\n      isOrderMode: false,\n      flippedCards: {},\n      expandedCards: {},\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      timer: null,\n      showConvCard: false,\n      aiMessage: {\n        emoji: '👩🏻‍',\n        content: '检测到意志力溢出漏洞！建议晚上 10 点前洗漱保证按时睡觉！',\n        suggestions: [\n          '设定固定的睡觉和起床时间，尽量保持规律。',\n          '创造一个舒适的睡眠环境，保持房间安静、黑暗和凉爽。',\n          '避免在晚上使用电子设备，如手机、平板电脑等。',\n          '晚上避免摄入咖啡因和刺激性食物。',\n          '建立一个放松的睡前常规，如泡个热水澡、阅读书籍等。',\n          '白天进行适量的运动，但避免在临近睡觉时间进行剧烈运动。',\n          '避免午睡时间过长，以免影响晚上的睡眠。'\n        ]\n      }\n    }\n  },\n\n  computed: {\n    getTodayCompletedCount() {\n      const today = new Date()\n      const todayTimestamp = new Date(\n          today.getFullYear(),\n          today.getMonth(),\n          today.getDate()\n      ).getTime()\n      return this.habits.filter(habit =>\n          habit.completed.includes(todayTimestamp)\n      ).length\n    },\n    currentStreak() {\n      if (!this.habits.length) return 0\n\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n      let streak = 0\n      let currentDate = new Date(today)\n\n      while (true) {\n        const timestamp = currentDate.getTime()\n        const allHabitsCompleted = this.habits.every(habit =>\n            habit.completed.includes(timestamp)\n        )\n\n        if (!allHabitsCompleted) break\n        streak++\n        currentDate.setDate(currentDate.getDate() - 1)\n      }\n\n      return streak\n    }\n  },\n\n\n  methods: {\n    // 获取当前时间段的建议\n    getTimeBasedSuggestions() {\n      const hour = new Date().getHours()\n\n      // 根据不同时间段返回不同的建议\n      if (hour >= 22 || hour < 6) {\n        this.aiMessage.content = '现在应该休息了，建议尽快睡觉！'\n        this.aiMessage.suggestions = [\n          '立即放下手机，准备睡觉。',\n          '做几个简单的伸展运动。',\n          '冥想5分钟帮助放松。'\n        ]\n      } else if (hour >= 20) {\n        this.aiMessage.content = '检测到意志力溢出漏洞！建议晚上 10 点前洗漱保证按时睡觉！'\n        // 使用默认的睡眠建议\n      }\n      // 可以添加更多时间段的建议...\n    },\n    handleAiMessageClick() {\n      console.log('AI Message Clicked')\n      this.showConvCard = true\n    },\n    addHabit() {\n      uni.navigateTo({\n        url: '/pages/add-habit/add-habit'\n      })\n    },\n\n    loadHabits() {\n      const habits = uni.getStorageSync('habits') || []\n      this.habits = habits.map(habit => ({\n        ...habit,\n        icon: habit.icon || this.getCategoryIcon(habit.category),\n        color: habit.color || '$theme-color'\n      }))\n    },\n\n    // 周视图相关方法\n    isCompletedForDay(habit, dayIndex) {\n      const timestamp = this.getDayTimestamp(dayIndex)\n      return habit.completed.includes(timestamp)\n    },\n\n    isWeekToday(dayIndex) {\n      const today = new Date()\n      const targetDate = this.getDayDate(dayIndex)\n      return today.getDate() === targetDate\n    },\n\n    isFutureDay(dayIndex) {\n      const today = new Date()\n      const targetDate = this.getDateFromDayIndex(dayIndex)\n      const todayDate = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n      const targetDateOnly = new Date(targetDate.getFullYear(), targetDate.getMonth(), targetDate.getDate())\n      return targetDateOnly > todayDate\n    },\n\n    getDayDate(dayIndex) {\n      const date = this.getDateFromDayIndex(dayIndex)\n      return date.getDate()\n    },\n\n    getDateFromDayIndex(dayIndex) {\n      const today = new Date()\n      const monday = new Date()\n      monday.setDate(today.getDate() - (today.getDay() === 0 ? 6 : today.getDay() - 1))\n      const targetDate = new Date(monday)\n      targetDate.setDate(monday.getDate() + dayIndex)\n      return targetDate\n    },\n\n    getDayTimestamp(dayIndex) {\n      const date = this.getDateFromDayIndex(dayIndex)\n      return new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime()\n    },\n\n    toggleHabitComplete(habit, dayIndex) {\n      const timestamp = this.getDayTimestamp(dayIndex)\n      const today = new Date()\n      const targetDate = this.getDateFromDayIndex(dayIndex)\n\n      if (targetDate > today) {\n        uni.showToast({\n          title: '未来还未来哦~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n\n      if (\n          targetDate.getDate() !== today.getDate() ||\n          targetDate.getMonth() !== today.getMonth() ||\n          targetDate.getFullYear() !== today.getFullYear()\n      ) {\n        uni.showToast({\n          title: '补打卡机制还未实现，敬请期待~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n\n      const habits = uni.getStorageSync('habits') || []\n      const habitIndex = habits.findIndex(h => h.id === habit.id)\n      if (habitIndex === -1) return\n\n      const completedIndex = habits[habitIndex].completed.indexOf(timestamp)\n      if (completedIndex === -1) {\n        habits[habitIndex].completed.push(timestamp)\n        const weekStart = this.getDateFromDayIndex(0)\n        const weekEnd = this.getDateFromDayIndex(6)\n        weekStart.setHours(0, 0, 0, 0)\n        weekEnd.setHours(23, 59, 59, 999)\n\n        const weekCompletedCount = habits[habitIndex].completed.filter(time => {\n          const date = new Date(time)\n          return date >= weekStart && date <= weekEnd\n        }).length\n\n        this.showRewardCard = true\n        this.rewardTitle = '打卡成功！'\n        this.rewardMessage = ''\n        this.currentHabit = {\n          id: habit.id,\n          name: habit.title,\n          icon: habit.icon,\n          color: habit.color\n        }\n        this.rewardStats = {\n          count: weekCompletedCount,\n          label: '本周已完成'\n        }\n      } else {\n        habits[habitIndex].completed.splice(completedIndex, 1)\n      }\n\n      uni.setStorageSync('habits', habits)\n      this.loadHabits()\n      uni.vibrateShort()\n    },\n\n    // 检查本周是否全部完成\n    checkWeekCompletion(habit) {\n      return Array(7).fill().every((_, index) => this.isCompletedForDay(habit, index))\n    },\n\n    // 通用方法\n    updateHabitCompletion(habit, timestamp) {\n      const habits = uni.getStorageSync('habits') || []\n      const habitIndex = habits.findIndex(h => h.id === habit.id)\n      if (habitIndex === -1) return\n\n      const completedIndex = habits[habitIndex].completed.indexOf(timestamp)\n      if (completedIndex === -1) {\n        habits[habitIndex].completed.push(timestamp)\n      } else {\n        habits[habitIndex].completed.splice(completedIndex, 1)\n      }\n\n      uni.setStorageSync('habits', habits)\n      this.loadHabits()\n      uni.vibrateShort()\n    },\n\n    goToStats(habit) {\n      uni.navigateTo({\n        url: `/pages/habit-stats/habit-stats?id=${habit.id}&title=${encodeURIComponent(habit.title)}`\n      })\n    },\n\n    getCategoryIcon(category) {\n      const icons = {\n        workout: '🏃',\n        diet: '🥗',\n        water: '💧',\n        sleep: '😴',\n        meditation: '🧘',\n        running: '⚽',\n        reading: '📚',\n        coding: '💻',\n        course: '📝',\n        cleaning: '🧹',\n        cooking: '🍳',\n        finance: '💰',\n        plants: '🌱',\n        music: '🎸',\n        art: '🎨',\n        craft: '🎭',\n        photo: '📸',\n        singing: '🎤',\n        game: '🎮',\n        time: '⏰',\n        planning: '📊',\n        mood: '🌈',\n        social: '👥',\n        notes: '📝',\n        writing: '✍️',\n        custom: '✨',\n        other: '🎯'\n      }\n      return icons[category] || '🎯'\n    },\n\n    getCategoryColor(category) {\n      const colors = {\n        // 健康组\n        workout: '#FF6B6B',\n        diet: '#95E1D3',\n        water: '#87CEEB',\n        sleep: '#6C5B7B',\n        meditation: '#9B89B3',\n        running: '#FF6B6B',\n        // 学习组\n        reading: '#FFD93D',\n        coding: '#6C5B7B',\n        course: '#96CEB4',\n        // 生活组\n        cleaning: '#A8E6CF',\n        cooking: '#F8B195',\n        finance: '#2A363B',\n        plants: '#4ECDC4',\n        // 兴趣组\n        music: '#FF8C94',\n        art: '#F67280',\n        craft: '#C06C84',\n        photo: '#355C7D',\n        singing: '#FF8C94',\n        game: '#3F72AF',\n        // 成长组\n        time: '#45B7D1',\n        planning: '#96CEB4',\n        mood: '#9B89B3',\n        social: '#F8B195'\n      }\n      return colors[category] || '$theme-color'\n    },\n\n    showActionSheet(habit) {\n      const actions = [\n        {\n          name: '编辑习惯',\n          action: () => this.editHabit(habit)\n        },\n        {\n          name: '调整顺序',\n          action: () => this.toggleOrderMode()\n        },\n        {\n          name: '删除习惯',\n          action: () => this.deleteHabit(habit)\n        }\n      ]\n\n      const systemInfo = uni.getSystemInfoSync()\n      uni.showActionSheet({\n        itemList: actions.map(item => item.name),\n        itemColor: systemInfo.platform === 'ios' ? '#007AFF' : '#2d8cf0',\n        success: (res) => {\n          if (systemInfo.platform === 'ios') {\n            setTimeout(() => {\n              actions[res.tapIndex]?.action()\n            }, 100)\n          } else {\n            actions[res.tapIndex]?.action()\n          }\n        },\n        fail: (err) => {\n          console.log('ActionSheet 关闭', err)\n        }\n      })\n    },\n\n    editHabit(habit) {\n      uni.navigateTo({\n        url: `/pages/add-habit/add-habit?id=${habit.id}`\n      })\n    },\n\n    deleteHabit(habit) {\n      uni.showModal({\n        title: '确认删除',\n        content: '确定要删除这个习惯吗？此操作不可恢复。',\n        confirmColor: '#FF3B30',\n        success: (res) => {\n          if (res.confirm) {\n            const habits = uni.getStorageSync('habits') || []\n            const updatedHabits = habits.filter(h => h.id !== habit.id)\n            uni.setStorageSync('habits', updatedHabits)\n            this.loadHabits()\n            uni.showToast({\n              title: '删除成功',\n              icon: 'success'\n            })\n          }\n        }\n      })\n    },\n\n    updateDateInfo() {\n      const now = new Date()\n      this.currentYear = now.getFullYear()\n      this.currentMonth = now.getMonth() + 1\n\n      const calcYearWeek = (date) => {\n        const target = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()))\n        target.setUTCDate(target.getUTCDate() + 3 - (target.getUTCDay() || 7))\n        const yearStart = new Date(Date.UTC(target.getUTCFullYear(), 0, 1))\n        return Math.ceil(((target - yearStart) / 86400000 + 1) / 7)\n      }\n\n      const calcMonthWeek = (date) => {\n        const d = new Date(date.getTime())\n        d.setHours(0, 0, 0, 0)\n        const firstDay = new Date(d.getFullYear(), d.getMonth(), 1)\n        const firstThursday = new Date(firstDay)\n        firstThursday.setDate(firstDay.getDate() + (11 - firstDay.getDay()) % 7 - 3)\n        const diff = d - firstThursday\n        return Math.floor(diff / 604800000) + 1\n      }\n\n      this.yearWeek = calcYearWeek(now)\n      this.monthWeek = calcMonthWeek(now)\n    },\n\n    onShareAppMessage() {\n      return {\n        title: '习惯追踪器',\n        path: '/pages/index/index'\n      }\n    },\n\n    onShareTimeline() {\n      return {\n        title: '习惯追踪器'\n      }\n    },\n\n    handleSaveNote({timestamp, content}) {\n      const noteTimestamp = Date.now()\n      const habits = uni.getStorageSync('habits') || []\n      const habitIndex = habits.findIndex(h => h.id === this.currentHabit.id)\n\n      habits[habitIndex].notes.push({\n        timestamp: noteTimestamp,\n        content: content\n      })\n\n      uni.setStorageSync('habits', habits)\n      this.loadHabits()\n    },\n\n    showFutureToast() {\n      uni.showToast({\n        title: '未来还未来哦~',\n        icon: 'none',\n        duration: 1000\n      })\n    },\n\n    handleDayClick(habit, dayIndex) {\n      if (this.isFutureDay(dayIndex)) {\n        uni.showToast({\n          title: '未来还未来哦~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n      this.toggleHabitComplete(habit, dayIndex)\n    },\n\n    handleCardLongPress(habit) {\n      this.flippedCards[habit.id] = true\n    },\n\n    handleCardTouchEnd(habit) {\n      this.flippedCards[habit.id] = false\n    },\n\n    handleTouchStart(event) {\n      if (this.isOrderMode) return\n      this.touchStartX = event.touches[0].clientX\n      this.touchStartTime = Date.now()\n      this.translateX = 0\n    },\n\n    handleTouchEnd(event) {\n      if (this.isOrderMode) return\n      const touchEndX = event.changedTouches[0].clientX\n      const deltaX = touchEndX - this.touchStartX\n      const touchEndTime = Date.now()\n      const touchDuration = touchEndTime - this.touchStartTime\n      const minSwipeDistance = 100\n      const maxSwipeTime = 300\n      const swipeVelocity = Math.abs(deltaX) / touchDuration\n\n      if (Math.abs(deltaX) > minSwipeDistance &&\n          touchDuration < maxSwipeTime &&\n          swipeVelocity > 0.3) {\n        if (deltaX < 0 && this.viewMode === 'week') {\n          this.switchView('month')\n        } else if (deltaX > 0 && this.viewMode === 'month') {\n          this.switchView('week')\n        }\n      }\n      this.translateX = 0\n    },\n\n    switchView(mode) {\n      if (mode === this.viewMode) return\n      try {\n        const {windowWidth} = uni.getWindowInfo()\n        const direction = mode === 'month' ? -1 : 1\n        this.translateX = direction * windowWidth * 0.3\n        setTimeout(() => {\n          this.viewMode = mode\n          this.translateX = 0\n        }, 50)\n      } catch (error) {\n        console.error('获取窗口信息失败:', error)\n        this.viewMode = mode\n        this.translateX = 0\n      }\n    },\n\n    getDaysInMonth() {\n      const date = new Date(this.currentYear, this.currentMonth - 1, 1)\n      return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate()\n    },\n\n    isCompletedForMonthDay(habit, day) {\n      const timestamp = new Date(this.currentYear, this.currentMonth - 1, day).getTime()\n      return habit.completed.includes(timestamp)\n    },\n\n    isMonthToday(day) {\n      const today = new Date()\n      return today.getDate() === day &&\n          today.getMonth() === this.currentMonth - 1 &&\n          today.getFullYear() === this.currentYear\n    },\n\n    isFutureMonthDay(day) {\n      const today = new Date()\n      const targetDate = new Date(this.currentYear, this.currentMonth - 1, day)\n      return targetDate > today\n    },\n\n    handleMonthDayClick(habit, day) {\n      const timestamp = new Date(this.currentYear, this.currentMonth - 1, day).getTime()\n      const today = new Date()\n      const targetDate = new Date(this.currentYear, this.currentMonth - 1, day)\n\n      if (targetDate > today) {\n        uni.showToast({\n          title: '未来还未来哦~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n\n      if (targetDate.getDate() !== today.getDate() ||\n          targetDate.getMonth() !== today.getMonth() ||\n          targetDate.getFullYear() !== today.getFullYear()) {\n        uni.showToast({\n          title: '请点击习惯卡，在日历中进行补打卡',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n\n      const habits = uni.getStorageSync('habits') || []\n      const habitIndex = habits.findIndex(h => h.id === habit.id)\n      if (habitIndex === -1) return\n\n      const completedIndex = habits[habitIndex].completed.indexOf(timestamp)\n      if (completedIndex === -1) {\n        habits[habitIndex].completed.push(timestamp)\n        const monthStart = new Date(this.currentYear, this.currentMonth - 1, 1)\n        const monthEnd = new Date(this.currentYear, this.currentMonth, 0)\n        const monthCompletedCount = habits[habitIndex].completed.filter(time => {\n          const date = new Date(time)\n          return date >= monthStart && date <= monthEnd\n        }).length\n\n        this.showRewardCard = true\n        this.rewardTitle = '打卡成功！'\n        this.rewardMessage = ''\n        this.currentHabit = {\n          id: habit.id,\n          name: habit.title,\n          icon: habit.icon,\n          color: habit.color\n        }\n        this.rewardStats = {\n          count: monthCompletedCount\n        }\n      } else {\n        habits[habitIndex].completed.splice(completedIndex, 1)\n      }\n\n      uni.setStorageSync('habits', habits)\n      this.loadHabits()\n      uni.vibrateShort()\n    },\n\n    getMonthCompletionCount(habit) {\n      const monthStart = new Date(this.currentYear, this.currentMonth - 1, 1)\n      const monthEnd = new Date(this.currentYear, this.currentMonth, 0)\n      return habit.completed.filter(timestamp => {\n        const date = new Date(timestamp)\n        return date >= monthStart && date <= monthEnd\n      }).length\n    },\n\n    getMonthCompletionRate(habit) {\n      const daysInMonth = this.getDaysInMonth()\n      const completedDays = this.getMonthCompletionCount(habit)\n      const today = new Date()\n      let availableDays\n\n      if (today.getMonth() === this.currentMonth - 1 && today.getFullYear() === this.currentYear) {\n        availableDays = today.getDate()\n      } else {\n        availableDays = daysInMonth\n      }\n      return Math.round(completedDays / availableDays * 100)\n    },\n\n    formatNumber(num) {\n      return num < 10 ? `0${num}` : num\n    },\n\n    updateTime() {\n      const now = new Date()\n      this.hours = now.getHours()\n      this.minutes = now.getMinutes()\n      this.seconds = now.getSeconds()\n    },\n\n    startClock() {\n      this.updateTime()\n      this.timer = setInterval(() => {\n        this.updateTime()\n      }, 1000)\n    },\n\n    stopClock() {\n      if (this.timer) {\n        clearInterval(this.timer)\n        this.timer = null\n      }\n    },\n\n    toggleOrderMode() {\n      this.isOrderMode = !this.isOrderMode\n      if (this.isOrderMode) {\n        uni.showToast({\n          title: '进入排序模式',\n          icon: 'none',\n          duration: 1500\n        })\n      }\n    },\n\n    moveHabitUp(index) {\n      if (index > 0) {\n        this.$set(this.habits[index], 'animating', 'moving-up')\n        this.$set(this.habits[index - 1], 'animating', 'moving-down')\n        setTimeout(() => {\n          const habits = [...this.habits]\n          const temp = habits[index]\n          habits[index] = habits[index - 1]\n          habits[index - 1] = temp\n          habits[index].animating = ''\n          habits[index - 1].animating = ''\n          this.habits = habits\n          uni.setStorageSync('habits', habits)\n        }, 300)\n      }\n    },\n\n    moveHabitDown(index) {\n      if (index < this.habits.length - 1) {\n        this.$set(this.habits[index], 'animating', 'moving-down')\n        this.$set(this.habits[index + 1], 'animating', 'moving-up')\n        setTimeout(() => {\n          const habits = [...this.habits]\n          const temp = habits[index]\n          habits[index] = habits[index + 1]\n          habits[index + 1] = temp\n          habits[index].animating = ''\n          habits[index + 1].animating = ''\n          this.habits = habits\n          uni.setStorageSync('habits', habits)\n        }, 300)\n      }\n    },\n\n    completeOrder() {\n      this.isOrderMode = false\n      uni.showToast({\n        title: '排序已保存',\n        icon: 'success',\n        duration: 1500\n      })\n    },\n\n    formatCreateTime(timestamp) {\n      if (!timestamp) return '未知时间'\n      const date = new Date(timestamp)\n      const now = new Date()\n      const isToday = date.getFullYear() === now.getFullYear() &&\n          date.getMonth() === now.getMonth() &&\n          date.getDate() === now.getDate()\n\n      const yesterday = new Date(now)\n      yesterday.setDate(yesterday.getDate() - 1)\n      const isYesterday = date.getFullYear() === yesterday.getFullYear() &&\n          date.getMonth() === yesterday.getMonth() &&\n          date.getDate() === yesterday.getDate()\n\n      const startDate = new Date(date.getFullYear(), date.getMonth(), date.getDate())\n      const endDate = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n      const diffTime = Math.abs(endDate - startDate)\n      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24))\n\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      let daysDesc\n\n      if (isToday) {\n        daysDesc = '今天创建'\n      } else if (isYesterday) {\n        daysDesc = '昨天创建'\n      } else {\n        daysDesc = `已创建${diffDays}天`\n      }\n\n      return `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日 ${hours}:${minutes} · ${daysDesc}`\n    },\n\n    toggleCardExpand(habitId) {\n      this.$set(this.expandedCards, habitId, !this.expandedCards[habitId])\n    },\n\n    getWeekNotes(habit) {\n      if (!habit.notes) return []\n      const now = new Date()\n      const monday = new Date(now)\n      monday.setDate(now.getDate() - (now.getDay() === 0 ? 6 : now.getDay() - 1))\n      const sunday = new Date(monday)\n      sunday.setDate(monday.getDate() + 6)\n\n      const weekStart = new Date(monday.getFullYear(), monday.getMonth(), monday.getDate())\n      const weekEnd = new Date(sunday.getFullYear(), sunday.getMonth(), sunday.getDate(), 23, 59, 59, 999)\n\n      return habit.notes\n          .filter(note => {\n            const noteDate = new Date(note.retroactiveInfo ? note.retroactiveInfo.retroTimestamp : note.timestamp)\n            return noteDate >= weekStart && noteDate <= weekEnd\n          })\n          .sort((a, b) => {\n            const aTime = a.retroactiveInfo ? a.retroactiveInfo.retroTimestamp : a.timestamp\n            const bTime = b.retroactiveInfo ? b.retroactiveInfo.retroTimestamp : b.timestamp\n            return bTime - aTime\n          })\n    },\n\n    formatNoteTime(timestamp) {\n      const date = new Date(timestamp)\n      const now = new Date()\n      const weekDays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      const timeStr = `${hours}:${minutes}`\n\n      const isToday = date.getDate() === now.getDate() &&\n          date.getMonth() === now.getMonth() &&\n          date.getFullYear() === now.getFullYear()\n\n      const yesterday = new Date(now)\n      yesterday.setDate(yesterday.getDate() - 1)\n      const isYesterday = date.getDate() === yesterday.getDate() &&\n          date.getMonth() === yesterday.getMonth() &&\n          date.getFullYear() === yesterday.getFullYear()\n\n      const weekDay = weekDays[date.getDay()]\n      const dateStr = `${date.getMonth() + 1}月${date.getDate()}日`\n\n      return {\n        date: `${dateStr} ${weekDay}`,\n        time: timeStr,\n        relative: isToday ? '今天' : isYesterday ? '昨天' : dateStr\n      }\n    },\n\n    showBackupOptions() {\n      const systemInfo = uni.getSystemInfoSync()\n      uni.showActionSheet({\n        itemList: ['导出数据', '导入数据'],\n        itemColor: systemInfo?.platform === 'ios' ? '#007AFF' : '#2d8cf0',\n        success: (res) => {\n          if (systemInfo?.platform === 'ios') {\n            setTimeout(() => {\n              this.handleBackupAction(res.tapIndex)\n            }, 100)\n          } else {\n            this.handleBackupAction(res.tapIndex)\n          }\n        }\n      })\n    },\n\n    handleBackupAction(tapIndex) {\n      if (tapIndex === 0) {\n        this.handleExport()\n      } else if (tapIndex === 1) {\n        this.handleImport()\n      }\n    },\n\n    async handleExport() {\n      uni.showModal({\n        title: '导出说明',\n        content: '由于微信小程序的限制，导出数据将通过分享功能实现。导出后您可以选择将文件保存到手机进行备份。',\n        confirmText: '继续导出',\n        cancelText: '取消',\n        success: (res) => {\n          if (res.confirm) {\n            this.performExport()\n          }\n        }\n      })\n    },\n\n    async performExport() {\n      try {\n        const habits = uni.getStorageSync('habits') || []\n        const exportData = {\n          version: '1.0',\n          exportTime: new Date().toISOString(),\n          data: habits\n        }\n\n        const jsonStr = JSON.stringify(exportData, null, 2)\n        const fileName = `habits_backup_${this.formatExportDate(new Date())}.json`\n\n        try {\n          const userPath = wx.env.USER_DATA_PATH\n          const filePath = `${userPath}/${fileName}`\n          const fs = wx.getFileSystemManager()\n          fs.writeFileSync(filePath, jsonStr, 'utf8')\n\n          wx.shareFileMessage({\n            filePath: filePath,\n            success: () => {\n              uni.showToast({\n                title: '数据已导出，请确保从你分享的对话中选择该数据文件保存到手机',\n                icon: 'none',\n                duration: 3000\n              })\n            },\n            fail: (err) => {\n              console.error('Share file error:', err)\n              uni.showToast({\n                title: '导出失败',\n                icon: 'none'\n              })\n            }\n          })\n        } catch (err) {\n          console.error('File operation error:', err)\n          uni.showToast({\n            title: '导出失败',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        console.error('Export error:', error)\n        uni.showToast({\n          title: '导出失败',\n          icon: 'none'\n        })\n      }\n    },\n\n    formatExportDate(date) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      const seconds = String(date.getSeconds()).padStart(2, '0')\n      return `${year}${month}${day}_${hours}${minutes}${seconds}`\n    },\n\n    async performImport(importData) {\n      try {\n        uni.showActionSheet({\n          itemList: ['合并数据', '完全覆盖'],\n          success: (res) => {\n            if (res.tapIndex === 0) {\n              uni.showModal({\n                title: '确认合并',\n                content: '合并将保留现有数据，并添加新数据。确定继续吗？',\n                success: (modalRes) => {\n                  if (modalRes.confirm) {\n                    this.mergeImportData(importData.data)\n                  }\n                }\n              })\n            } else {\n              uni.showModal({\n                title: '确认覆盖',\n                content: '此操作将完全覆盖现有数据，确定继续吗？',\n                success: (modalRes) => {\n                  if (modalRes.confirm) {\n                    this.overwriteImportData(importData.data)\n                  }\n                }\n              })\n            }\n          }\n        })\n      } catch (error) {\n        console.error('Import error:', error)\n        uni.showToast({\n          title: '导入失败',\n          icon: 'none'\n        })\n      }\n    },\n\n    mergeImportData(importedHabits) {\n      try {\n        const currentHabits = uni.getStorageSync('habits') || []\n        const habitMap = new Map(currentHabits.map(habit => [habit.id, habit]))\n\n        importedHabits.forEach(importedHabit => {\n          const existingHabit = habitMap.get(importedHabit.id)\n          if (existingHabit) {\n            const completedSet = new Set([...existingHabit.completed, ...importedHabit.completed])\n            existingHabit.completed = Array.from(completedSet)\n\n            const notesMap = new Map()\n            existingHabit.notes.forEach(note => {\n              notesMap.set(note.timestamp, note)\n            })\n            importedHabit.notes.forEach(note => {\n              notesMap.set(note.timestamp, note)\n            })\n            existingHabit.notes = Array.from(notesMap.values())\n                .sort((a, b) => b.timestamp - a.timestamp)\n\n            existingHabit.title = importedHabit.title\n            existingHabit.icon = importedHabit.icon\n            existingHabit.color = importedHabit.color\n            existingHabit.flag = importedHabit.flag\n          } else {\n            habitMap.set(importedHabit.id, importedHabit)\n          }\n        })\n\n        const mergedHabits = Array.from(habitMap.values())\n        uni.setStorageSync('habits', mergedHabits)\n        this.loadHabits()\n        uni.showToast({\n          title: '数据已合并',\n          icon: 'success'\n        })\n      } catch (error) {\n        console.error('Merge error:', error)\n        uni.showToast({\n          title: '合并失败',\n          icon: 'none'\n        })\n      }\n    },\n\n    overwriteImportData(importedHabits) {\n      try {\n        uni.setStorageSync('habits', importedHabits)\n        this.loadHabits()\n        uni.showToast({\n          title: '导入成功',\n          icon: 'success'\n        })\n      } catch (error) {\n        console.error('Overwrite error:', error)\n        uni.showToast({\n          title: '导入失败',\n          icon: 'none'\n        })\n      }\n    },\n\n    async handleImport() {\n      uni.showModal({\n        title: '导入说明',\n        content: '请确保：\\n1. 选择的是.json格式的备份文件\\n2. 文件是从本应用导出的有效文件\\n3. 聊天记录中存在该文件',\n        confirmText: '开始导入',\n        success: (res) => {\n          if (res.confirm) {\n            this.chooseAndReadFile()\n          }\n        }\n      })\n    },\n\n    chooseAndReadFile() {\n      wx.chooseMessageFile({\n        count: 1,\n        type: 'all', // 修改为 'all' 而不是 'file'\n        success: (res) => {\n          const tempFilePath = res.tempFiles[0].path\n          if (!tempFilePath.toLowerCase().endsWith('.json')) {\n            uni.showToast({\n              title: '请选择JSON格式文件',\n              icon: 'none',\n              duration: 2000\n            })\n            return\n          }\n\n          const fs = wx.getFileSystemManager()\n          fs.readFile({\n            filePath: tempFilePath,\n            encoding: 'utf8',\n            success: (readRes) => {\n              try {\n                const importData = JSON.parse(readRes.data)\n                if (!this.validateImportData(importData)) {\n                  uni.showToast({\n                    title: '导入文件格式错误',\n                    icon: 'none'\n                  })\n                  return\n                }\n                this.performImport(importData)\n              } catch (parseError) {\n                console.error('Parse error:', parseError)\n                uni.showToast({\n                  title: '文件格式错误',\n                  icon: 'none'\n                })\n              }\n            },\n            fail: (err) => {\n              console.error('Read file error:', err)\n              uni.showToast({\n                title: '读取文件失败',\n                icon: 'none'\n              })\n            }\n          })\n        },\n        fail: (err) => {\n          console.error('Choose file error:', err)\n          const systemInfo = uni.getSystemInfoSync()\n          const isIOS = systemInfo.platform === 'ios'\n          if (isIOS) {\n            uni.showModal({\n              title: '选择文件失败',\n              content: '请确保:\\n1. 选择正确的JSON文件\\n2. 如果看不到文件，请重新发送到聊天\\n3. 或先保存到\"文件\"应用再选择',\n              showCancel: false\n            })\n          } else {\n            uni.showToast({\n              title: '选择文件失败',\n              icon: 'none',\n              duration: 2000\n            })\n          }\n        }\n      })\n    }\n  },\n\n  onShow() {\n    this.loadHabits()\n    this.updateDateInfo()\n    this.startClock()\n    const hasShownReminder = uni.getStorageSync('has_shown_data_loss_reminder')\n    if (!hasShownReminder) {\n      uni.showModal({\n        title: '数据安全提醒',\n        content: '请注意：在微信设置中选择\"清理小程序缓存\"会导致所有数据被删除。建议定期使用导出功能备份您的数据，以防数据丢失。',\n        confirmText: '我知道了',\n        success: (res) => {\n          if (res.confirm) {\n            uni.setStorageSync('has_shown_data_loss_reminder', true)\n          }\n        }\n      })\n    }\n  },\n\n  onHide() {\n    this.stopClock()\n  },\n\n  onUnload() {\n    this.stopClock()\n  }\n})\n</script>\n\n<style>\n.container {\n  background-color: #fff;\n  color: #2c3e50;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  padding: 20rpx 40rpx;\n}\n\n.container, .ai-message {\n  box-sizing: border-box;\n}\n\n.ai-message {\n  background: #fff;\n  left: 0;\n  padding: 20rpx 0;\n  display: flex;\n  right: 0;\n  width: 100%;\n  z-index: 100;\n}\n\n.ai-message .ai-message-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, .05), 0 2rpx 8rpx rgba(0, 0, 0, .02);\n  padding: 30rpx;\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n  transition: all 0.3s ease;\n}\n\n.ai-message .ai-message-card:active {\n  opacity: 0.9;\n  transform: scale(0.98);\n}\n\n.ai-message .ai-message-card .ai-message-icon {\n  font-size: 40rpx;\n  color: #fff;\n  width: 70rpx;\n  height: 70rpx;\n  border-radius: 16rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.ai-message .ai-message-card .ai-message-content {\n  color: #2c3e50;\n  font-size: 28rpx;\n  line-height: 1.5;\n  flex: 1;\n}\n\n.container, .header {\n  box-sizing: border-box;\n}\n\n.header {\n  background: #fff;\n  left: 0;\n  padding: 20rpx 40rpx 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: 100%;\n  z-index: 100;\n}\n\n.date-info {\n  align-items: center;\n  display: flex;\n  gap: 20rpx;\n  justify-content: space-between;\n}\n\n.date-info .date-content {\n  display: flex;\n  flex-direction: column;\n  gap: 10rpx;\n}\n\n.date-info .date-content .year {\n  color: #2c3e50;\n  font-size: 32rpx;\n  font-weight: 400;\n}\n\n.date-info .date-content .month-week {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.date-info .flip-clock {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, .1);\n  display: flex;\n  height: 100%;\n  padding: 12rpx 24rpx;\n  gap: 8rpx;\n}\n\n.date-info .flip-clock .streak-icon {\n  font-size: 32rpx;\n  animation: flame 1.5s ease-in-out infinite;\n}\n\n.date-info .flip-clock .time-unit {\n  background: #edf0f5;\n  border-radius: 8rpx;\n  color: #2c3e50;\n  font-size: 36rpx;\n  font-weight: 500;\n  min-width: 52rpx;\n  padding: 8rpx 12rpx;\n  position: relative;\n  text-align: center;\n  transition: all .3s ease;\n}\n\n.date-info .flip-clock .streak-label {\n  color: #2c3e50;\n  font-size: 28rpx;\n  font-weight: 500;\n}\n\n@keyframes flame {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.habit-stats, .header-row {\n  display: flex;\n}\n\n.habit-stats {\n  gap: 40rpx;\n  width: 100%;\n  margin-top: 20rpx;\n  margin-bottom: 20rpx;\n}\n\n.header-row {\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 10rpx;\n}\n\n.habit-stats .progress-bar {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  height: 12rpx;\n  width: 100%;\n  overflow: hidden;\n}\n\n.habit-stats .progress-bar .progress-fill {\n  background: var(--theme-color);\n  border-radius: 16rpx;\n  height: 100%;\n  transition: width 0.3s ease;\n  width: 0;\n}\n\n\n.habits-list {\n  perspective: 1000px;\n}\n\n.habits-list .habit-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, .05), 0 2rpx 8rpx rgba(0, 0, 0, .02);\n  margin-bottom: 20rpx;\n  min-height: 250rpx;\n  position: relative;\n  transform-style: preserve-3d;\n  transition: transform .6s cubic-bezier(.4, 0, .2, 1);\n  transition: transform .6s cubic-bezier(.4, 0, .2, 1), -webkit-transform .6s cubic-bezier(.4, 0, .2, 1);\n}\n\n.habits-list .habit-card.is-flipped {\n  transform: rotateY(180deg);\n}\n\n.habits-list .habit-card:active:not(.is-flipped) {\n  opacity: .9;\n  transform: scale(.98);\n}\n\n.habits-list .habit-card .card-face {\n  backface-visibility: hidden;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  padding: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.habits-list .habit-card .card-face.card-front {\n  transform: rotateY(0deg);\n  z-index: 2;\n}\n\n.habits-list .habit-card .card-face.card-back {\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  transform: rotateY(180deg);\n  z-index: 1;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner {\n  align-items: center;\n  background: linear-gradient(180deg, #fff4e5, var(--theme-color));\n  border: 2rpx solid #e2e7ed;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(255, 159, 10, .15);\n  box-sizing: border-box;\n  display: flex;\n  gap: 20rpx;\n  overflow: hidden;\n  padding: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner::before {\n  background: linear-gradient(180deg, transparent, rgba(255, 159, 10, .08));\n  content: \"\";\n  height: 2rpx;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner .flag-icon {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 40rpx;\n  display: flex;\n  flex-shrink: 0;\n  font-size: 48rpx;\n  height: 80rpx;\n  justify-content: center;\n  width: 80rpx;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner .flag-text {\n  color: #2c3e50;\n  flex: 1;\n  font-size: 32rpx;\n  font-weight: 500;\n  line-height: 1.5;\n  padding: 0 20rpx;\n}\n\n.habits-list .habit-card .card-face.card-back .create-time {\n  align-items: center;\n  bottom: 20rpx;\n  display: flex;\n  gap: 10rpx;\n  justify-content: center;\n  left: 0;\n  padding: 0 30rpx;\n  position: absolute;\n  right: 0;\n}\n\n.habits-list .habit-card .card-face.card-back .create-time .time-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.habits-list .habit-card .card-face.card-back .create-time .time-value {\n  color: #2c3e50;\n  font-size: 24rpx;\n}\n\n.habits-list .habit-card .habit-header {\n  display: flex;\n  justify-content: space-between;\n}\n\n.habits-list .habit-card .habit-header .title-section {\n  align-items: center;\n  border-radius: 16rpx;\n  display: flex;\n  flex: 1;\n  padding: 10rpx;\n}\n\n.habits-list .habit-card .habit-header .title-section .habit-icon {\n  align-items: center;\n  background-color: var(--theme-color);\n  border-radius: 16rpx;\n  display: flex;\n  height: 70rpx;\n  justify-content: center;\n  overflow: hidden;\n  width: 70rpx;\n}\n\n.habits-list .habit-card .habit-header .title-section .habit-icon .emoji-icon {\n  align-items: center;\n  color: #fff;\n  display: flex;\n  font-size: 40rpx;\n  height: 100%;\n  justify-content: center;\n  width: 100%;\n}\n\n.habits-list .habit-card .habit-header .title-section .habit-title {\n  color: #2c3e50;\n  font-size: 28rpx;\n  margin-left: 20rpx;\n}\n\n.habits-list .habit-card .habit-header .more-actions {\n  align-items: center;\n  display: flex;\n  height: 60rpx;\n  justify-content: center;\n  padding: 10rpx;\n  width: 60rpx;\n}\n\n.habits-list .habit-card .habit-header .more-actions .more-icon {\n  color: #5c6b7a;\n  font-size: 32rpx;\n  font-weight: 700;\n}\n\n.habits-list .habit-card .habit-content {\n  position: relative;\n  z-index: 1;\n}\n\n.progress-view {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 30rpx;\n}\n\n.progress-view .week-day {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n}\n\n.progress-view .week-day .day-label {\n  color: #5c6b7a;\n  font-size: 22rpx;\n  margin-bottom: 10rpx;\n}\n\n.progress-view .week-day .day-box {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  color: #2c3e50;\n  display: flex;\n  font-size: 24rpx;\n  height: 70rpx;\n  justify-content: center;\n  position: relative;\n  transition: all .2s ease;\n  width: 70rpx;\n}\n\n.progress-view .week-day .day-box:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.progress-view .week-day .day-box.today {\n  border: 2rpx solid var(--theme-color) !important;\n}\n\n.progress-view .week-day .day-box.today::after {\n  background-color: var(--theme-color);\n  border-radius: 50%;\n  bottom: -20rpx;\n  content: \"\";\n  height: 8rpx;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n  width: 8rpx;\n  z-index: 1;\n}\n\n.progress-view .week-day .day-box.completed {\n  animation: complete-animation .5s cubic-bezier(.4, 0, .2, 1);\n  background: var(--theme-color) !important;\n  box-shadow: 0 0 15rpx rgba(255, 159, 10, .15);\n  color: #fff !important;\n}\n\n.progress-view .week-day .day-box.completed:not(:active) {\n  animation: none;\n}\n\n.progress-view .week-day .day-box.today.completed {\n  background: var(--theme-color) !important;\n  border-color: #fff !important;\n  color: #fff !important;\n}\n\n.progress-view .week-day .day-box.today.completed::after {\n  background-color: var(--theme-color);\n  border-radius: 50%;\n  bottom: -20rpx;\n  content: \"\";\n  height: 8rpx;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n  width: 8rpx;\n  z-index: 1;\n}\n\n.progress-view .week-day .day-box.future {\n  opacity: .5;\n}\n\n.add-button {\n  position: fixed;\n  bottom: 40rpx; /* 修改：增加底部距离 */\n  right: 40rpx; /* 修改：增加右侧距离 */\n  width: 100rpx;\n  height: 100rpx;\n  background: var(--theme-color);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4rpx 12rpx rgba(255, 159, 10, .15);\n  z-index: 999; /* 修改：增加 z-index 确保在最上层 */\n}\n\n.add-button .plus {\n  color: #fff;\n  font-size: 50rpx;\n  font-weight: 300;\n}\n\n.add-button:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.empty-state {\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: -200rpx;\n  padding: 40rpx;\n}\n\n.empty-state .empty-icon {\n  font-size: 120rpx;\n  margin-bottom: 30rpx;\n}\n\n.empty-state .empty-title {\n  color: #2c3e50;\n  font-size: 32rpx;\n  margin-bottom: 16rpx;\n}\n\n.empty-state .empty-desc {\n  color: #5c6b7a;\n  font-size: 28rpx;\n  line-height: 1.5;\n  text-align: center;\n}\n\n@-webkit-keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n\n.view-container {\n  height: calc(100vh - 220rpx);\n  margin-top: 350rpx;\n  overflow-y: auto;\n  position: relative;\n}\n\n.view-container .view-page {\n  width: 100%;\n  will-change: transform;\n}\n\n.view-container .view-page, .view-container .view-page.slide-left-enter-active, .view-container .view-page.slide-right-enter-active {\n  transition: transform .3s ease-out;\n  transition: transform .3s ease-out, -webkit-transform .3s ease-out;\n}\n\n.view-container .view-page.slide-left-enter-from {\n  transform: translateX(100%);\n}\n\n.view-container .view-page.slide-right-enter-from {\n  transform: translateX(-100%);\n}\n\n.view-container .view-page.slide-left-enter-to, .view-container .view-page.slide-right-enter-to {\n  transform: translateX(0);\n}\n\n@-webkit-keyframes blink {\n  0%, 100% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: .5;\n  }\n}\n\n@keyframes blink {\n  0%, 100% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: .5;\n  }\n}\n\n.complete-order-btn {\n  background: var(--theme-color);\n  border-radius: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, .1);\n  color: #fff;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.complete-order-btn:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.habit-card {\n  position: relative;\n  transform-origin: center center;\n  transition: all .3s linear;\n}\n\n.habit-card.is-order-mode {\n  padding-right: 100rpx;\n  transform: translateX(-60rpx);\n}\n\n.habit-card.moving-up {\n  animation: moveUp .3s linear;\n}\n\n.habit-card.moving-down {\n  animation: moveDown .3s linear;\n}\n\n.habit-card.no-interaction, .habit-card.no-interaction .habit-content, .habit-card.no-interaction .more-actions {\n  pointer-events: none;\n}\n\n.habit-card.no-interaction .order-buttons {\n  pointer-events: auto;\n}\n\n.habit-card .order-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 20rpx;\n  position: absolute;\n  right: -70rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 10;\n}\n\n.habit-card .order-buttons .order-btn {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, .1);\n  display: flex;\n  height: 60rpx;\n  justify-content: center;\n  width: 60rpx;\n}\n\n.habit-card .order-buttons .order-btn.disabled {\n  opacity: .5;\n  pointer-events: none;\n}\n\n.habit-card .order-buttons .order-btn:active {\n  opacity: .9;\n  transform: scale(.9);\n}\n\n.habit-card .order-buttons .order-btn .order-icon {\n  color: #2c3e50;\n  font-size: 32rpx;\n  font-weight: 700;\n}\n\n.habit-card .order-buttons .order-btn.up {\n  background: var(--theme-color);\n}\n\n.habit-card .order-buttons .order-btn.up .order-icon {\n  color: #fff;\n}\n\n.habit-card .order-buttons .order-btn.down {\n  background: #edf0f5;\n}\n\n.month-habit-card.no-interaction {\n  pointer-events: none;\n}\n\n@-webkit-keyframes moveUp {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(-240rpx);\n  }\n}\n\n@keyframes moveUp {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(-240rpx);\n  }\n}\n\n@-webkit-keyframes moveDown {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(240rpx);\n  }\n}\n\n@keyframes moveDown {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(240rpx);\n  }\n}\n\n.expand-button {\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  gap: 10rpx;\n  justify-content: center;\n  padding: 20rpx 0 10rpx;\n}\n\n.expand-button .expand-icon, .expand-button .expand-text {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.expand-button .expand-icon {\n  transition: transform .3s ease;\n  transition: transform .3s ease, -webkit-transform .3s ease;\n}\n\n.expand-button:active {\n  opacity: .9;\n}\n\n.notes-container {\n  border-top: 2rpx solid #edf0f5;\n  margin-top: 20rpx;\n  padding-top: 20rpx;\n  position: relative;\n  z-index: 1;\n}\n\n.notes-container .empty-notes {\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  padding: 30rpx;\n  width: 100%;\n}\n\n.notes-container .empty-notes text {\n  color: rgba(44, 62, 80, .6);\n  font-size: 28rpx;\n  text-align: center;\n}\n\n.notes-container .notes-list {\n  box-sizing: border-box;\n  margin: 0 auto;\n  max-height: 400rpx;\n  overflow-y: auto;\n  width: 100%;\n}\n\n.notes-container .notes-list .note-item {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, .05), 0 2rpx 8rpx rgba(0, 0, 0, .02);\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  padding: 30rpx;\n  transition: all .2s ease;\n  width: 100%;\n}\n\n.notes-container .notes-list .note-item:active {\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, .03), 0 1rpx 4rpx rgba(0, 0, 0, .01);\n  transform: scale(.98);\n}\n\n.notes-container .notes-list .note-item .note-time {\n  align-items: center;\n  color: #8c9baa;\n  display: flex;\n  font-size: 24rpx;\n  justify-content: space-between;\n  margin-bottom: 16rpx;\n  padding-bottom: 12rpx;\n}\n\n.notes-container .notes-list .note-item .note-time .time-left {\n  align-items: center;\n  display: flex;\n  gap: 8rpx;\n}\n\n.notes-container .notes-list .note-item .note-time .time-left .date {\n  color: #5c6b7a;\n}\n\n.notes-container .notes-list .note-item .note-time .time-left .time {\n  color: #8c9baa;\n}\n\n.notes-container .notes-list .note-item .note-time .time-right {\n  color: #8c9baa;\n  font-size: 22rpx;\n  opacity: .8;\n}\n\n.notes-container .notes-list .note-item .note-content {\n  color: #2c3e50;\n  font-size: 28rpx;\n  line-height: 1.6;\n  padding-top: 4rpx;\n}\n\n.backup-actions .backup-btn {\n  align-items: center;\n  background: transparent;\n  border: none;\n  display: flex;\n  justify-content: center;\n  margin: 0;\n  padding: 10rpx;\n}\n\n.backup-actions .backup-btn::after {\n  border: none;\n}\n\n.backup-actions .backup-btn .icon {\n  font-size: 40rpx;\n}\n\n.backup-actions .backup-btn:active {\n  opacity: .7;\n}\n</style>","import MiniProgramPage from '/Users/linsir/Experiments/uni-app/habit-ai-uniapp/habit-ai-uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni","_a","wx"],"mappings":"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"}