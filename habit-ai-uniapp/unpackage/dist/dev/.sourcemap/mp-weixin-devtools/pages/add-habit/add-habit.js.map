{"version":3,"names":["generateUUID","replace","c","r","Math","random","v","toString","_sfc_main","data","currentStep","habitName","habitFlag","selectedCategory","currentCategoryGroup","reminderTime","searchQuery","emojiMappings","default","categories","group","items","label","value","icon","isEdit","habitId","touchStartX","touchStartY","themeHabits","theme","habits","title","flag","matchedEmoji","selectedEmoji","selectedSuggestion","showEmojiInput","customEmoji","showEmojiModal","showSettingsModal","selectedColor","customColor","presetColors","name","themeColorHex","computed","timePeriod","hour","parseInt","split","filteredCategories","query","toLowerCase","map","filter","item","includes","displayEmoji","onLoad","options","id","loadHabitData","common_vendor","index","setNavigationBarTitle","methods","nextStep","trim","showToast","selectCategory","category","categoryItem","flatMap","find","onTimeChange","e","detail","skipReminder","saveHabit","_this","getStorageSync","findIndex","h","originalHabit","_objectSpread2","updateTime","Date","now","__f__","newHabit","createTime","completed","notes","push","setStorageSync","duration","setTimeout","navigateBack","_this2","habit","matchHabitEmoji","searchId","availableHabits","handleSwiperChange","current","handleContainerTouchStart","touches","clientX","clientY","handleContainerTouchEnd","touchEndX","changedTouches","touchEndY","minSwipeDistance","deltaX","deltaY","abs","length","text","entries","Object","i","_entries$i","_slicedToArray2","keywords","emoji","keywordArray","some","keyword","selectCustomHabit","habitEmoji","selectSuggestion","suggestion","watchHabitNameChange","completeHabitSetup","_this3","color","error","resetEmojiSelection","tryLuckyEmoji","_this4","decorativeEmojis","randomIndex","floor","luckyEmoji","steps","interval","count","animate","randomEmoji","showCustomEmojiInput","checkEmojiInput","emojiCount","Array","from","char","code","codePointAt","firstEmoji","saveCustomEmoji","isEmoji","showIconSettings","validateColorInput","startsWith","slice","isValidColor","test","selectColor","resetSettings","saveSettings","isValidEmoji","char2","watch","handler","immediate","wx","createPage","MiniProgramPage"],"sources":["add-habit.vue","add-habit.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 第一步：习惯名称和目标 -->\n    <view class=\"step\" v-if=\"currentStep === 1\">\n      <text class=\"title\">为你的习惯起个名字</text>\n      <input\n          class=\"habit-input\"\n          type=\"text\"\n          v-model=\"habitName\"\n          maxlength=\"20\"\n          placeholder=\"设定一个可执行的习惯\"\n      />\n      <view class=\"input-footer\">\n        <text class=\"counter\">{{ habitName.length }}/20</text>\n        <text class=\"input-tip\">点击下方习惯卡片自动填充，左右滑动查看更多</text>\n      </view>\n      <input\n          class=\"habit-input flag-input\"\n          type=\"text\"\n          v-model=\"habitFlag\"\n          maxlength=\"25\"\n          placeholder=\"设定一个目标宣言（选填）\"\n      />\n      <view class=\"input-footer\">\n        <text class=\"counter\">{{ habitFlag.length }}/25</text>\n      </view>\n\n      <!-- 提醒时间选择 -->\n      <view class=\"reminder-times\">\n        <text class=\"reminder-title\">设置提醒时间</text>\n        <view class=\"reminder-list\">\n          <view v-for=\"(time, index) in reminderTimes\" :key=\"index\" class=\"reminder-item\">\n            <picker\n              mode=\"time\"\n              :value=\"time\"\n              @change=\"(e) => onTimeChange(e, index)\"\n              class=\"time-picker\"\n            >\n              <view class=\"time-display\">\n                <text class=\"time\">{{ time }}</text>\n                <text class=\"period\">{{ getTimePeriod(time) }}</text>\n              </view>\n            </picker>\n            <text class=\"delete-time\" @tap=\"deleteTime(index)\">×</text>\n          </view>\n        </view>\n        <view class=\"add-time\" @tap=\"addTime\" v-if=\"reminderTimes.length < 5\">\n          <text class=\"add-icon\">+</text>\n          <text class=\"add-text\">添加提醒时间</text>\n        </view>\n      </view>\n\n      <button class=\"next-button\" @tap=\"nextStep\">下一步</button>\n\n      <scroll-view\n          class=\"theme-suggestions-container\"\n          scroll-y\n          :bounces=\"false\"\n          :enhanced=\"true\"\n          :show-scrollbar=\"false\"\n      >\n        <view\n            class=\"habit-suggestions theme-suggestions\"\n            v-for=\"(themeGroup, themeIndex) in themeHabits\"\n            :key=\"themeIndex\"\n        >\n          <text class=\"suggestion-title\">{{ themeGroup.theme }}</text>\n          <scroll-view\n              scroll-x\n              :bounces=\"false\"\n              class=\"suggestion-scroll\"\n              :enhanced=\"true\"\n              :show-scrollbar=\"false\"\n          >\n            <view class=\"suggestion-cards\">\n              <view\n                  v-for=\"(habit, habitIndex) in themeGroup.habits\"\n                  :key=\"habitIndex\"\n                  class=\"suggestion-card theme-card\"\n                  :class=\"{ active: selectedSuggestion === habit }\"\n                  @tap=\"selectSuggestion(habit)\"\n              >\n                <view class=\"card-content\">\n                  <text class=\"card-title\">{{ habit.title }}</text>\n                  <text class=\"card-flag\">{{ habit.flag }}</text>\n                </view>\n              </view>\n            </view>\n          </scroll-view>\n        </view>\n      </scroll-view>\n    </view>\n\n    <!-- 第二步：选择类别 -->\n    <view class=\"step step-category\" v-if=\"currentStep === 2\">\n      <view class=\"step-header\">\n        <view class=\"back-button\" @tap=\"currentStep = 1\">\n          <text class=\"back-arrow\">←</text>\n        </view>\n        <text class=\"habit-name\">为\"{{ habitName }}\"</text>\n      </view>\n      <text class=\"title\">选择一个习惯类别</text>\n      <view class=\"search-row\">\n        <input\n            class=\"search-input\"\n            type=\"text\"\n            v-model=\"searchQuery\"\n            placeholder=\"搜索习惯\"\n            confirm-type=\"search\"\n        />\n        <view class=\"icon-settings\" @tap=\"showIconSettings\">\n          <view class=\"icon-preview\"\n                :style=\"{ backgroundColor: selectedColor === '$theme-color' ? themeColorHex : selectedColor }\">\n            <text class=\"emoji\">{{ displayEmoji }}</text>\n          </view>\n          <text class=\"settings-tip\">自定义</text>\n        </view>\n      </view>\n      <text class=\"emoji-tip\">已根据习惯名称自动匹配图标：{{ matchedEmoji }}</text>\n\n      <!-- 设置弹窗 -->\n      <view class=\"settings-modal\" v-if=\"showSettingsModal\">\n        <view class=\"modal-content\">\n          <view class=\"settings-preview\">\n            <view class=\"preview-box\"\n                  :style=\"{ backgroundColor: selectedColor === '$theme-color' ? themeColorHex : selectedColor }\">\n              <text class=\"preview-emoji\">{{ isValidEmoji(customEmoji) ? customEmoji : displayEmoji }}</text>\n            </view>\n          </view>\n          <view class=\"settings-section\">\n            <text class=\"section-title\">自定义图标</text>\n            <textarea\n                class=\"emoji-input\"\n                v-model=\"customEmoji\"\n                maxlength=\"4\"\n                placeholder=\"请输入emoji表情\"\n                @input=\"checkEmojiInput\"\n            />\n          </view>\n          <view class=\"settings-section\">\n            <text class=\"section-title\">自定义颜色</text>\n            <view class=\"color-input-row\">\n              <input\n                  class=\"color-input\"\n                  type=\"text\"\n                  v-model=\"customColor\"\n                  placeholder=\"#RRGGBB\"\n                  @input=\"validateColorInput\"\n              />\n              <view\n                  class=\"custom-color-preview\"\n                  :style=\"{ backgroundColor: isValidColor(customColor) ? customColor : (selectedColor === '$theme-color' ? themeColorHex : '#CCCCCC') }\"\n              />\n            </view>\n          </view>\n          <view class=\"settings-section\">\n            <view class=\"preset-colors\">\n              <view\n                  v-for=\"(color, index) in presetColors\"\n                  :key=\"index\"\n                  class=\"color-item\"\n                  :class=\"{ active: selectedColor === color.value }\"\n                  @tap=\"selectColor(color.value)\"\n              >\n                <view class=\"color-preview\" :style=\"{ backgroundColor: color.value }\"/>\n                <text class=\"color-name\">{{ color.name }}</text>\n              </view>\n            </view>\n          </view>\n          <view class=\"modal-footer\">\n            <view class=\"modal-buttons\">\n              <text class=\"reset-btn\" @tap=\"resetSettings\">重置</text>\n              <text class=\"cancel-btn\" @tap=\"showSettingsModal = false\">取消</text>\n              <text class=\"save-btn\" @tap=\"saveSettings\">确定</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <button class=\"complete-button\" @tap=\"completeHabitSetup\">完成</button>\n\n      <scroll-view\n          class=\"categories-container\"\n          scroll-y\n          :bounces=\"false\"\n          :enhanced=\"true\"\n          :show-scrollbar=\"false\"\n      >\n        <view\n            v-for=\"(categoryGroup, groupIndex) in filteredCategories\"\n            :key=\"groupIndex\"\n            class=\"category-group\"\n            v-show=\"categoryGroup.items.length > 0\"\n        >\n          <view class=\"group-header\">\n            <text class=\"group-title\">{{ categoryGroup.group }}</text>\n            <view class=\"group-actions\" v-if=\"groupIndex === 0\">\n              <view class=\"lucky-button\" @tap=\"tryLuckyEmoji\">\n                <text class=\"lucky-text\">试试手气</text>\n                <text class=\"lucky-icon\">🎲</text>\n              </view>\n            </view>\n          </view>\n          <view class=\"categories\">\n            <view\n                v-for=\"(category, index) in categoryGroup.items\"\n                :key=\"index\"\n                class=\"category-item\"\n                :class=\"{ active: category.icon === displayEmoji }\"\n                @tap=\"selectCategory(category.value)\"\n            >\n              <text class=\"emoji-icon\">{{ category.icon }}</text>\n              <text class=\"label\">{{ category.label }}</text>\n            </view>\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n\n    <!-- 第三步：设置提醒 -->\n    <view class=\"step\" v-if=\"currentStep === 3\">\n      <text class=\"title\">设置每日提醒时间</text>\n      <text class=\"subtitle\">通过每日提醒，保持你的习惯不间断。</text>\n      <view class=\"time-picker\">\n        <picker\n            mode=\"time\"\n            :value=\"reminderTime\"\n            @change=\"onTimeChange\"\n        >\n          <view class=\"time-display\">\n            <text class=\"time\">{{ reminderTime }}</text>\n            <text class=\"period\">{{ timePeriod }}</text>\n          </view>\n        </picker>\n      </view>\n      <button class=\"save-button\" @tap=\"saveHabit\">保存提醒</button>\n      <text class=\"skip-link\" @tap=\"skipReminder\">稍后再说</text>\n    </view>\n  </view>\n</template>\n\n<script>\nfunction generateUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = Math.random() * 16 | 0\n    const v = c === 'x' ? r : (r & 0x3 | 0x8)\n    return v.toString(16)\n  })\n}\n\nexport default {\n  data() {\n    return {\n      currentStep: 1,\n      habitName: '',\n      habitFlag: '',\n      selectedCategory: '',\n      currentCategoryGroup: 0,\n      reminderTime: '12:00',\n      searchQuery: '',\n      emojiMappings: {\n        '运动|跑步|跑|步行|走|散步|健身': '🏃',\n        '瑜伽|拉伸|柔韧|柔软': '🧘',\n        '饮食|吃|食物|营养|餐': '🥗',\n        '水|喝水|饮水': '💧',\n        '睡觉|睡眠|休息': '😴',\n        '冥想|放松|专注': '🧘',\n        '体育|球|篮球|足球|羽毛球': '⚽',\n        '读书|阅读|看书': '📚',\n        '编程|代码|程序': '💻',\n        '学习|课程|上课|听课': '📝',\n        '写作|写|记录': '✍️',\n        '笔记|记|背诵': '📔',\n        '整理|收拾|打扫|清洁': '🧹',\n        '做饭|烹饪|厨艺': '🍳',\n        '理财|存钱|投资|财务': '💰',\n        '植物|花|草|园艺': '🌱',\n        '音乐|乐器|吉他|钢琴': '🎸',\n        '绘画|画画|涂鸦|素描': '🎨',\n        '手工|制作|创作': '🎭',\n        '摄影|拍照|照片': '📸',\n        '唱歌|歌唱|声乐': '🎤',\n        '游戏|玩': '🎮',\n        '时间|管理|规划': '⏰',\n        '目标|计划|安排': '📊',\n        '情绪|心情|感受': '🌈',\n        '社交|交友|聊天|沟通': '👥',\n        default: '✨'\n      },\n      categories: [\n        {\n          group: '随便选个',\n          items: [\n            {label: '闪亮', value: 'sparkle', icon: '✨'},\n            {label: '星星', value: 'star', icon: '⭐'},\n            {label: '爱心', value: 'heart', icon: '❤️'},\n            {label: '彩虹', value: 'rainbow', icon: '🌈'},\n            {label: '火焰', value: 'fire', icon: '🔥'},\n            {label: '烟花', value: 'firework', icon: '🎆'},\n            {label: '小花', value: 'flower', icon: '🌸'},\n            {label: '太阳', value: 'sun', icon: '☀️'},\n            {label: '月亮', value: 'moon', icon: '🌙'},\n            {label: '笑脸', value: 'smile', icon: '😊'},\n            {label: '皇冠', value: 'crown', icon: '👑'},\n            {label: '钻石', value: 'diamond', icon: '💎'}\n          ]\n        },\n        {\n          group: '健康',\n          items: [\n            {label: '户外活动', value: 'workout', icon: '🏃'},\n            {label: '健康饮食', value: 'diet', icon: '🥗'},\n            {label: '喝水', value: 'water', icon: '💧'},\n            {label: '早睡早起', value: 'sleep', icon: '😴'},\n            {label: '瑜伽冥想', value: 'meditation', icon: '🧘'},\n            {label: '体育运动', value: 'running', icon: '⚽'}\n          ]\n        },\n        {\n          group: '学习',\n          items: [\n            {label: '阅读', value: 'reading', icon: '📚'},\n            {label: '编程', value: 'coding', icon: '💻'},\n            {label: '上课程', value: 'course', icon: '📝'}\n          ]\n        },\n        {\n          group: '生活',\n          items: [\n            {label: '整理房间', value: 'cleaning', icon: '🧹'},\n            {label: '做饭', value: 'cooking', icon: '🍳'},\n            {label: '理财', value: 'finance', icon: '💰'},\n            {label: '养护植物', value: 'plants', icon: '🌱'}\n          ]\n        },\n        {\n          group: '兴趣',\n          items: [\n            {label: '练乐器', value: 'music', icon: '🎸'},\n            {label: '绘画', value: 'art', icon: '🎨'},\n            {label: '手工', value: 'craft', icon: '🎭'},\n            {label: '摄影', value: 'photo', icon: '📸'},\n            {label: '唱歌', value: 'singing', icon: '🎤'},\n            {label: '游戏', value: 'game', icon: '🎮'}\n          ]\n        },\n        {\n          group: '成长',\n          items: [\n            {label: '时间管理', value: 'time', icon: '⏰'},\n            {label: '目标规划', value: 'planning', icon: '📊'},\n            {label: '情绪记录', value: 'mood', icon: '🌈'},\n            {label: '社交', value: 'social', icon: '👥'}\n          ]\n        }\n      ],\n      isEdit: false,\n      habitId: null,\n      touchStartX: 0,\n      touchStartY: 0,\n      themeHabits: [\n        {\n          theme: '健康生活',\n          habits: [\n            {title: '每天喝8杯水', flag: '保持身体水分，让生活更健康'},\n            {title: '晨跑5公里', flag: '用晨跑开启充满活力的一天'},\n            {title: '做15分钟拉伸', flag: '保持身体柔韧，预防运动损伤'},\n            {title: '俯卧撑30个', flag: '增强体质，打造完美身材'}\n          ]\n        },\n        {\n          theme: '阅读学习',\n          habits: [\n            {title: '阅读30分钟', flag: '在书海中遨游，让思维不断成长'},\n            {title: '写读书笔记500字', flag: '记录阅读心得，内化为自己的知识'},\n            {title: '背诵英语短文', flag: '每天一篇短文，英语能力稳步提升'},\n            {title: '背单词50个', flag: '每天进步一点点，英语能力大提升'}\n          ]\n        },\n        {\n          theme: '饮食健康',\n          habits: [\n            {title: '记录今日饮食', flag: '关注饮食健康，培养良好习惯'},\n            {title: '自制一顿健康餐', flag: '享受烹饪乐趣，吃得健康又美味'},\n            {title: '不吃零食一整天', flag: '远离垃圾食品，保持身材健康'},\n            {title: '晚饭后不再进食', flag: '控制饮食时间，改善睡眠质量'}\n          ]\n        },\n        {\n          theme: '心灵成长',\n          habits: [\n            {title: '冥想15分钟', flag: '静心冥想，平静内心的波澜'},\n            {title: '记录三件感恩', flag: '感恩生活中的美好，保持积极心态'},\n            {title: '冥想观察呼吸10分钟', flag: '觉察当下，保持内心平静'},\n            {title: '记录三个优点', flag: '发现自己的闪光点，建立自信'}\n          ]\n        },\n        {\n          theme: '生活规划',\n          habits: [\n            {title: '列出明日待办3件', flag: '提前规划，让生活更有条理'},\n            {title: '记账整理支出', flag: '掌控财务状况，规划美好未来'},\n            {title: '整理房间15分钟', flag: '保持整洁空间，心情也会变好'},\n            {title: '22:30准时睡觉', flag: '早睡早起，让生活更规律'}\n          ]\n        },\n        {\n          theme: '兴趣培养',\n          habits: [\n            {title: '练字20分钟', flag: '提升书法技艺，培养耐心与专注'},\n            {title: '写作300字', flag: '坚持输出，让思维更清晰'},\n            {title: '练习一首乐器', flag: '培养艺术细胞，丰富精神生活'},\n            {title: '练习摄影构图', flag: '用镜头记录生活的美好瞬间'}\n          ]\n        }\n      ],\n      matchedEmoji: '✨',\n      selectedEmoji: '',\n      selectedSuggestion: null,\n      showEmojiInput: false,\n      customEmoji: '',\n      showEmojiModal: false,\n      showSettingsModal: false,\n      selectedColor: '$theme-color',\n      customColor: '',\n      presetColors: [\n        {name: '薄荷绿', value: '#98D8C6'},\n        {name: '天空蓝', value: '#A5DEF1'},\n        {name: '淡紫色', value: '#D4BFEA'},\n        {name: '珊瑚粉', value: '#FFB5B5'},\n        {name: '柔黄色', value: '#FFE5B4'},\n        {name: '薰衣草', value: '#E6E6FA'},\n        {name: '浅青色', value: '#B4E6E6'},\n        {name: '粉桃色', value: '#FFD1DC'},\n        {name: '奶咖色', value: '#D4C4B7'},\n        {name: '浅灰蓝', value: '#B8C5D6'},\n        {name: '清新绿', value: '#C1E1C1'},\n        {name: '温柔粉', value: '#FAD3E7'}\n      ],\n      themeColorHex: '#FF9F0A'\n    }\n  },\n\n  computed: {\n    timePeriod() {\n      const hour = parseInt(this.reminderTime.split(':')[0])\n      return hour >= 12 ? 'PM' : 'AM'\n    },\n\n    filteredCategories() {\n      if (!this.searchQuery) return this.categories\n      const query = this.searchQuery.toLowerCase()\n      return this.categories.map(group => ({\n        group: group.group,\n        items: group.items.filter(item =>\n            item.label.toLowerCase().includes(query) ||\n            item.value.toLowerCase().includes(query)\n        )\n      }))\n    },\n\n    displayEmoji() {\n      return this.selectedEmoji || this.matchedEmoji\n    }\n  },\n\n  onLoad(options) {\n    this.habitName = ''\n    this.habitFlag = ''\n    this.selectedCategory = ''\n    this.selectedEmoji = ''\n    this.matchedEmoji = this.emojiMappings.default\n    this.selectedSuggestion = null\n\n    if (options && options.id) {\n      this.isEdit = true\n      this.habitId = options.id\n      this.loadHabitData()\n    } else {\n      this.isEdit = false\n      this.habitId = null\n    }\n\n    uni.setNavigationBarTitle({\n      title: this.isEdit ? '编辑习惯' : '添加习惯'\n    })\n  },\n\n  methods: {\n    nextStep() {\n      if (this.currentStep === 1 && !this.habitName.trim()) {\n        uni.showToast({\n          title: '请输入习惯名称',\n          icon: 'none'\n        })\n        return\n      }\n      if (this.isEdit && this.currentStep === 1) {\n        this.currentStep = 2\n        return\n      }\n      if (this.currentStep < 3) {\n        this.currentStep++\n      }\n    },\n\n    selectCategory(category) {\n      if (this.selectedCategory === category) {\n        this.selectedCategory = ''\n        this.selectedEmoji = ''\n      } else {\n        this.selectedCategory = category\n        const categoryItem = this.categories\n            .flatMap(group => group.items)\n            .find(item => item.value === category)\n        if (categoryItem) {\n          this.selectedEmoji = categoryItem.icon\n        }\n      }\n    },\n\n    onTimeChange(e) {\n      this.reminderTime = e.detail.value\n    },\n\n    skipReminder() {\n      this.saveHabit()\n    },\n\n    saveHabit() {\n      if (!this.habitName.trim()) {\n        uni.showToast({\n          title: '请输入习惯名称',\n          icon: 'none'\n        })\n        return\n      }\n\n      const habits = uni.getStorageSync('habits') || []\n\n      if (this.isEdit && this.habitId) {\n        const index = habits.findIndex(h => h.id === this.habitId)\n        if (index !== -1) {\n          const originalHabit = habits[index]\n          habits[index] = {\n            ...originalHabit,\n            // 保留原有数据（包括 id、completed 等）\n            title: this.habitName,\n            flag: this.habitFlag,\n            category: this.selectedCategory,\n            reminderTime: this.reminderTime,\n            updateTime: Date.now()\n          }\n        } else {\n          console.error('Habit not found:', this.habitId)\n        }\n      } else {\n        const newHabit = {\n          id: generateUUID(),\n          title: this.habitName,\n          flag: this.habitFlag,\n          category: this.selectedCategory,\n          reminderTime: this.reminderTime,\n          createTime: Date.now(),\n          updateTime: Date.now(),\n          completed: [],\n          notes: []\n        }\n        habits.push(newHabit)\n      }\n\n      uni.setStorageSync('habits', habits)\n      uni.showToast({\n        title: this.isEdit ? '保存成功' : '添加成功',\n        icon: 'success',\n        duration: 500\n      })\n\n      setTimeout(() => {\n        uni.navigateBack()\n      }, 500)\n    },\n\n    loadHabitData() {\n      const habits = uni.getStorageSync('habits') || []\n      const habit = habits.find(h => h.id === this.habitId)\n\n      if (habit) {\n        this.habitName = habit.title\n        this.habitFlag = habit.flag || ''\n        this.selectedCategory = habit.category\n        this.reminderTime = habit.reminderTime || '12:00'\n        if (habit.icon) {\n          this.selectedEmoji = habit.icon\n          this.matchedEmoji = habit.icon\n        } else {\n          this.matchedEmoji = this.matchHabitEmoji(habit.title)\n        }\n      } else {\n        console.error('Failed to find habit in storage:', {\n          searchId: this.habitId,\n          availableHabits: habits.map(h => ({\n            id: h.id,\n            title: h.title\n          }))\n        })\n        uni.showToast({\n          title: '未找到习惯数据',\n          icon: 'none'\n        })\n        setTimeout(() => {\n          uni.navigateBack()\n        }, 1500)\n      }\n    },\n\n    handleSwiperChange: function handleSwiperChange(e) {\n      this.currentCategoryGroup = e.detail.current;\n    },\n    handleContainerTouchStart: function handleContainerTouchStart(e) {\n      if (this.currentStep === 2) {\n        this.touchStartX = e.touches[0].clientX;\n        this.touchStartY = e.touches[0].clientY;\n      }\n    },\n    handleContainerTouchEnd: function handleContainerTouchEnd(e) {\n      if (this.currentStep === 2) {\n        var touchEndX = e.changedTouches[0].clientX;\n        var touchEndY = e.changedTouches[0].clientY;\n        var minSwipeDistance = 50;\n        var deltaX = touchEndX - this.touchStartX;\n        var deltaY = touchEndY - this.touchStartY;\n        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > minSwipeDistance) {\n          if (deltaX > 0 && this.currentCategoryGroup > 0) {\n            this.currentCategoryGroup--;\n          } else if (deltaX < 0 && this.currentCategoryGroup < this.categories.length - 1) {\n            this.currentCategoryGroup++;\n          }\n        }\n      }\n    },\n    matchHabitEmoji: function matchHabitEmoji(habitName) {\n      const text = habitName.toLowerCase();\n      const entries = Object.entries(this.emojiMappings);\n\n      for (let i = 0; i < entries.length; i++) {\n        const [keywords, emoji] = entries[i];\n        const keywordArray = keywords.split('|');\n\n        if (keywordArray.some(keyword => text.includes(keyword))) {\n          return emoji;\n        }\n      }\n\n      return this.emojiMappings.default;\n    },\n    selectCustomHabit: function selectCustomHabit() {\n      var habitEmoji = this.matchHabitEmoji(this.habitName);\n      this.selectedCategory = \"custom\";\n      var habit = {\n        id: generateUUID(),\n        title: this.habitName,\n        flag: this.habitFlag,\n        category: \"custom\",\n        icon: habitEmoji,\n        createTime: Date.now(),\n        updateTime: Date.now(),\n        completed: [],\n        notes: []\n      };\n      var habits = uni.getStorageSync(\"habits\") || [];\n      habits.push(habit);\n      uni.setStorageSync(\"habits\", habits);\n      uni.showToast({\n        title: \"添加成功\",\n        icon: \"success\",\n        duration: 500\n      });\n      setTimeout(function () {\n        uni.navigateBack();\n      }, 500);\n    },\n    selectSuggestion: function selectSuggestion(suggestion) {\n      if (this.selectedSuggestion === suggestion) {\n        this.selectedSuggestion = null;\n        this.habitName = \"\";\n        this.habitFlag = \"\";\n        this.matchedEmoji = this.emojiMappings.default;\n        this.selectedEmoji = \"\";\n      } else {\n        this.habitName = suggestion.title;\n        this.habitFlag = suggestion.flag;\n        this.selectedSuggestion = suggestion;\n        this.matchedEmoji = this.matchHabitEmoji(suggestion.title);\n        this.selectedEmoji = \"\";\n      }\n    },\n    watchHabitNameChange: function watchHabitNameChange() {\n      if (!this.selectedEmoji) {\n        this.matchedEmoji = this.matchHabitEmoji(this.habitName);\n      }\n    },\n    completeHabitSetup: function completeHabitSetup() {\n      if (!this.habitName.trim()) {\n        uni.showToast({\n          title: \"请输入习惯名称\",\n          icon: \"none\"\n        });\n        return;\n      }\n\n      const habits = uni.getStorageSync(\"habits\") || [];\n\n      if (this.isEdit && this.habitId) {\n        const index = habits.findIndex(h => h.id === this.habitId);\n        if (index !== -1) {\n          const originalHabit = habits[index];\n          habits[index] = {\n            ...originalHabit,\n            title: this.habitName.trim(),\n            flag: this.habitFlag.trim(),\n            category: this.selectedCategory || originalHabit.category,\n            icon: this.displayEmoji,\n            color: this.selectedColor,\n            updateTime: Date.now(),\n            reminderTime: this.reminderTime\n          };\n        } else {\n          console.error(\"Failed to find habit to edit:\", this.habitId);\n          uni.showToast({\n            title: \"保存失败，未找到习惯\",\n            icon: \"none\"\n          });\n          return;\n        }\n      } else {\n        const newHabit = {\n          id: generateUUID(),\n          title: this.habitName.trim(),\n          flag: this.habitFlag.trim(),\n          category: this.selectedCategory || \"custom\",\n          icon: this.displayEmoji,\n          color: this.selectedColor,\n          createTime: Date.now(),\n          updateTime: Date.now(),\n          completed: [],\n          notes: [],\n          reminderTime: this.reminderTime\n        };\n        habits.push(newHabit);\n      }\n\n      try {\n        uni.setStorageSync(\"habits\", habits);\n        uni.showToast({\n          title: this.isEdit ? \"保存成功\" : \"添加成功\",\n          icon: \"success\",\n          duration: 500\n        });\n        setTimeout(() => {\n          uni.navigateBack();\n        }, 500);\n      } catch (error) {\n        console.error(\"Failed to save habit:\", error);\n        uni.showToast({\n          title: \"保存失败，请重试\",\n          icon: \"none\"\n        });\n      }\n    },\n    resetEmojiSelection: function resetEmojiSelection() {\n      this.selectedEmoji = \"\";\n      this.matchedEmoji = this.matchHabitEmoji(this.habitName);\n    },\n    tryLuckyEmoji: function tryLuckyEmoji() {\n      const decorativeEmojis = this.categories[0].items;\n      const randomIndex = Math.floor(Math.random() * decorativeEmojis.length);\n      const luckyEmoji = decorativeEmojis[randomIndex];\n      this.selectedCategory = luckyEmoji.value;\n      this.selectedEmoji = luckyEmoji.icon;\n\n      const duration = 1000;\n      const steps = 10;\n      const interval = duration / steps;\n      let count = 0;\n\n      const animate = () => {\n        if (count < steps) {\n          const randomEmoji = decorativeEmojis[Math.floor(Math.random() * decorativeEmojis.length)];\n          this.selectedEmoji = randomEmoji.icon;\n          count++;\n          setTimeout(animate, interval);\n        } else {\n          this.selectedEmoji = luckyEmoji.icon;\n          uni.showToast({\n            title: \"手气不错！\",\n            icon: \"none\",\n            duration: 1000\n          });\n        }\n      };\n      animate();\n    },\n    showCustomEmojiInput: function showCustomEmojiInput() {\n      this.customEmoji = \"\";\n      this.showEmojiModal = true;\n    },\n    checkEmojiInput: function checkEmojiInput() {\n      const emojiCount = Array.from(this.customEmoji).filter(char => {\n        const code = char.codePointAt(0);\n        return (code >= 127744 && code <= 129535) || // Miscellaneous Symbols and Pictographs\n            (code >= 9728 && code <= 9983) ||     // Miscellaneous Symbols\n            (code >= 9984 && code <= 10175) ||    // Dingbats\n            (code >= 65024 && code <= 65039) ||   // Variation Selectors\n            (code >= 129280 && code <= 129535) || // Supplemental Symbols and Pictographs\n            (code >= 128512 && code <= 128591);   // Emoticons\n      }).length;\n\n      if (emojiCount > 1) {\n        const firstEmoji = Array.from(this.customEmoji).find(char => {\n          const code = char.codePointAt(0);\n          return (code >= 127744 && code <= 129535) ||\n              (code >= 9728 && code <= 9983) ||\n              (code >= 9984 && code <= 10175) ||\n              (code >= 65024 && code <= 65039) ||\n              (code >= 129280 && code <= 129535) ||\n              (code >= 128512 && code <= 128591);\n        });\n        this.customEmoji = firstEmoji || \"\";\n        uni.showToast({\n          title: \"只能输入一个emoji\",\n          icon: \"none\"\n        });\n      }\n    },\n    saveCustomEmoji: function saveCustomEmoji() {\n      if (!this.customEmoji) {\n        uni.showToast({\n          title: \"请输入表情\",\n          icon: \"none\"\n        });\n        return;\n      }\n\n      const isEmoji = Array.from(this.customEmoji).some(char => {\n        const code = char.codePointAt(0);\n        return (code >= 127744 && code <= 129535) ||\n            (code >= 9728 && code <= 9983) ||\n            (code >= 9984 && code <= 10175) ||\n            (code >= 65024 && code <= 65039) ||\n            (code >= 129280 && code <= 129535) ||\n            (code >= 128512 && code <= 128591);\n      });\n\n      if (isEmoji) {\n        this.selectedEmoji = this.customEmoji;\n        this.showEmojiModal = false;\n      } else {\n        uni.showToast({\n          title: \"请输入有效的emoji表情\",\n          icon: \"none\"\n        });\n      }\n    },\n    showIconSettings: function showIconSettings() {\n      this.showSettingsModal = true;\n      this.customColor = this.selectedColor === \"$theme-color\" ? this.themeColorHex : this.selectedColor;\n      this.customEmoji = this.selectedEmoji || \"\";\n    },\n    validateColorInput: function validateColorInput() {\n      this.customColor = this.customColor.replace(/\\s/g, \"\");\n      if (this.customColor && !this.customColor.startsWith(\"#\")) {\n        this.customColor = \"#\" + this.customColor;\n      }\n      if (this.customColor.length > 7) {\n        this.customColor = this.customColor.slice(0, 7);\n      }\n    },\n    isValidColor: function isValidColor(color) {\n      if (color === \"$theme-color\") return true;\n      return /^#[0-9A-Fa-f]{6}$/.test(color);\n    },\n    selectColor: function selectColor(color) {\n      this.selectedColor = color;\n      this.customColor = color;\n    },\n    resetSettings: function resetSettings() {\n      this.selectedColor = \"$theme-color\";\n      this.customColor = this.themeColorHex;\n      this.selectedEmoji = \"\";\n      this.customEmoji = \"\";\n      this.matchedEmoji = this.matchHabitEmoji(this.habitName);\n    },\n    saveSettings: function saveSettings() {\n      if (this.customColor && this.isValidColor(this.customColor)) {\n        this.selectedColor = this.customColor === this.themeColorHex ? \"$theme-color\" : this.customColor;\n      }\n      if (this.customEmoji) {\n        const isEmoji = Array.from(this.customEmoji).some(char => {\n          const code = char.codePointAt(0);\n          return (code >= 127744 && code <= 129535) ||\n              (code >= 9728 && code <= 9983) ||\n              (code >= 9984 && code <= 10175) ||\n              (code >= 65024 && code <= 65039) ||\n              (code >= 129280 && code <= 129535) ||\n              (code >= 128512 && code <= 128591);\n        });\n        if (isEmoji) {\n          this.selectedEmoji = this.customEmoji;\n        }\n      }\n      this.showSettingsModal = false;\n    },\n    isValidEmoji: function isValidEmoji(char) {\n      if (!char) return false;\n      return Array.from(char).some(char2 => {\n        const code = char2.codePointAt(0);\n        return (code >= 127744 && code <= 129535) || // Miscellaneous Symbols and Pictographs\n            (code >= 9728 && code <= 9983) ||     // Miscellaneous Symbols\n            (code >= 9984 && code <= 10175) ||    // Dingbats\n            (code >= 65024 && code <= 65039) ||   // Variation Selectors\n            (code >= 129280 && code <= 129535) || // Supplemental Symbols and Pictographs\n            (code >= 128512 && code <= 128591);   // Emoticons\n      });\n    }\n  },\n  watch: {\n    habitName: {\n      handler: \"watchHabitNameChange\",\n      immediate: true\n    }\n  }\n};\n</script>\n\n<style>\n.container {\n  background-color: #fff;\n  color: #2c3e50;\n  height: 100vh;\n  padding: 20rpx 40rpx;\n}\n\n.container, .step {\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.step {\n  align-items: stretch;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-top: 40rpx;\n  position: relative;\n  width: 100%;\n}\n\n.title {\n  font-size: 48rpx;\n  font-weight: 600;\n  margin-bottom: 40rpx;\n}\n\n.subtitle, .title {\n  text-align: center;\n}\n\n.subtitle {\n  color: #5c6b7a;\n  font-size: 28rpx;\n  margin-bottom: 60rpx;\n}\n\n.habit-input {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  color: #2c3e50;\n  height: 100rpx;\n  margin-top: 20rpx;\n  padding: 0 30rpx;\n  width: 100%;\n}\n\n.flag-input {\n  background: #edf0f5;\n  font-size: 28rpx;\n  margin: 20rpx 0;\n}\n\n.next-button {\n  align-items: center;\n  background: #ff9f0a;\n  border-radius: 20rpx;\n  bottom: 30rpx;\n  box-shadow: 0 0 15rpx rgba(255, 159, 10, .15);\n  color: #fff;\n  display: flex;\n  font-size: 32rpx;\n  height: 100rpx;\n  justify-content: center;\n  left: 0;\n  margin: 30rpx auto;\n  position: absolute;\n  width: 100%;\n  z-index: 10;\n}\n\n.next-button:active {\n  opacity: .9;\n}\n\n.category-tabs {\n  margin: 20rpx 0 30rpx;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n}\n\n.category-tabs .tabs-content {\n  display: flex;\n  gap: 20rpx;\n  padding: 0 20rpx;\n  position: relative;\n  transition: transform .3s ease;\n  transition: transform .3s ease, -webkit-transform .3s ease;\n  white-space: nowrap;\n}\n\n.category-tabs .tabs-content.group-0 {\n  transform: translateX(calc(50vw - 120rpx));\n}\n\n.category-tabs .tabs-content.group-1 {\n  transform: translateX(calc(50vw - 340rpx));\n}\n\n.category-tabs .tabs-content.group-2 {\n  transform: translateX(calc(50vw - 560rpx));\n}\n\n.category-tabs .tabs-content.group-3 {\n  transform: translateX(calc(50vw - 780rpx));\n}\n\n.category-tabs .tabs-content.group-4 {\n  transform: translateX(calc(50vw - 1000rpx));\n}\n\n.category-tabs .tab-item {\n  background: #edf0f5;\n  border-radius: 40rpx;\n  flex-shrink: 0;\n  font-size: 28rpx;\n  padding: 20rpx 40rpx;\n  text-align: center;\n  transition: all .3s ease;\n  white-space: nowrap;\n}\n\n.category-tabs .tab-item.active {\n  background: #ff9f0a;\n  box-shadow: 0 0 15rpx rgba(255, 159, 10, .15);\n  color: #fff;\n  transform: scale(1.1);\n}\n\n.categories-container {\n  -webkit-overflow-scrolling: touch;\n  bottom: 160rpx;\n  left: 0;\n  overflow-y: auto;\n  position: absolute;\n  right: 0;\n  top: 460rpx;\n}\n\n.categories-container::-webkit-scrollbar {\n  display: none;\n  height: 0;\n  width: 0;\n}\n\n.category-group:first-child .group-header .group-title {\n  display: none;\n}\n\n.category-group:first-child .group-header .group-actions {\n  width: 100%;\n}\n\n.group-header .group-actions .lucky-button .lucky-text {\n  font-size: 26rpx;\n}\n\n.categories {\n  flex-wrap: wrap;\n  gap: 20rpx;\n  padding: 0 20rpx;\n  width: 100%;\n}\n\n.categories, .categories .category-item {\n  box-sizing: border-box;\n  display: flex;\n}\n\n.categories .category-item {\n  align-items: center;\n  aspect-ratio: 1;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  flex-direction: column;\n  justify-content: center;\n  margin-bottom: 60rpx;\n  overflow: visible;\n  position: relative;\n  transform: scale(.95);\n  transition: all .3s ease;\n  width: calc((100% - 100rpx) / 6);\n}\n\n.categories .category-item.active {\n  background: #ff9f0a;\n  transform: scale(1);\n}\n\n.categories .category-item.active .emoji-icon {\n  filter: brightness(1.2);\n}\n\n.categories .category-item .emoji-icon {\n  font-size: 44rpx;\n}\n\n.categories .category-item .label {\n  bottom: -40rpx;\n  color: #2c3e50;\n  font-size: 20rpx;\n  left: -30%;\n  overflow: hidden;\n  padding: 8rpx 0;\n  position: absolute;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 160%;\n}\n\n.time-picker {\n  padding: 40rpx 0;\n  width: 100%;\n}\n\n.time-picker .time-display {\n  align-items: center;\n  display: flex;\n  gap: 20rpx;\n  justify-content: center;\n}\n\n.time-picker .time-display .time {\n  color: #2c3e50;\n  font-size: 72rpx;\n  font-weight: 600;\n}\n\n.time-picker .time-display .period {\n  color: #5c6b7a;\n  font-size: 36rpx;\n}\n\n.save-button {\n  background: #ff9f0a;\n  border-radius: 20rpx;\n  box-shadow: 0 0 15rpx rgba(255, 159, 10, .15);\n  color: #fff;\n  font-size: 32rpx;\n  height: 100rpx;\n  margin-top: 60rpx;\n  width: 100%;\n}\n\n.skip-link {\n  color: #5c6b7a;\n  font-size: 28rpx;\n  margin-top: 30rpx;\n  text-decoration: underline;\n}\n\n.illustration {\n  height: 400rpx;\n  margin-top: 60rpx;\n  width: 400rpx;\n}\n\n.search-box {\n  margin-bottom: 30rpx;\n  padding: 0;\n  width: 100%;\n}\n\n.search-box .search-input {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  color: #2c3e50;\n  font-size: 28rpx;\n  height: 100rpx;\n  padding: 0 30rpx;\n  width: 100%;\n}\n\n.custom-habit {\n  margin: 0 0 30rpx;\n}\n\n.step-category {\n  padding-top: 60rpx;\n}\n\n.step-category .title {\n  margin-bottom: 60rpx;\n}\n\n.search-input {\n  margin-bottom: 0;\n  width: calc(66.66% - 10rpx);\n}\n\n.custom-habit {\n  gap: 20rpx;\n  margin-bottom: 40rpx;\n  padding: 30rpx;\n  width: 100%;\n}\n\n.custom-habit .label {\n  font-size: 32rpx;\n}\n\n.category-group {\n  margin-bottom: 40rpx;\n}\n\n.category-group:last-child {\n  margin-bottom: 0;\n}\n\n.search-row {\n  align-items: center;\n  display: flex;\n  gap: 20rpx;\n  margin-bottom: 40rpx;\n  width: 100%;\n}\n\n.search-input {\n  color: #2c3e50;\n  flex: 1;\n  font-size: 28rpx;\n  padding: 0 30rpx;\n}\n\n.custom-habit, .search-input {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  height: 100rpx;\n}\n\n.custom-habit {\n  align-items: center;\n  display: flex;\n  gap: 10rpx;\n  justify-content: center;\n  padding: 0;\n  width: calc(33.33% - 10rpx);\n}\n\n.custom-habit .icon {\n  font-size: 40rpx;\n}\n\n.custom-habit .label {\n  color: #2c3e50;\n  font-size: 28rpx;\n}\n\n.custom-habit:active {\n  background: #edf0f5;\n}\n\n.category-item:active, .next-button:active, .save-button:active {\n  opacity: .9;\n}\n\n.habit-suggestions {\n  margin: 20rpx 0 40rpx;\n}\n\n.habit-suggestions.theme-suggestions {\n  margin: 10rpx 0 20rpx;\n}\n\n.habit-suggestions.theme-suggestions .suggestion-title {\n  font-size: 26rpx;\n  margin-left: 10rpx;\n}\n\n.habit-suggestions .suggestion-title {\n  color: #5c6b7a;\n  font-size: 28rpx;\n  margin-bottom: 20rpx;\n}\n\n.habit-suggestions .suggestion-scroll {\n  -webkit-overflow-scrolling: touch;\n  white-space: nowrap;\n  width: 100%;\n}\n\n.habit-suggestions .suggestion-scroll ::-webkit-scrollbar {\n  color: transparent;\n  display: none;\n  height: 0;\n  width: 0;\n}\n\n.habit-suggestions .suggestion-cards {\n  display: inline-flex;\n}\n\n.habit-suggestions .suggestion-card {\n  background: #f5f7fa;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, .05), 0 2rpx 8rpx rgba(0, 0, 0, .02);\n  display: inline-block;\n  margin-left: 10rpx;\n  margin-right: 10rpx;\n  padding: 20rpx;\n  transition: all .3s ease;\n  width: 300rpx;\n}\n\n.habit-suggestions .suggestion-card.theme-card {\n  background: #edf0f5;\n  width: 280rpx;\n}\n\n.habit-suggestions .suggestion-card.theme-card.active {\n  background: #ff9f0a;\n  color: #fff;\n  transform: scale(1.02);\n}\n\n.habit-suggestions .suggestion-card.theme-card.active .card-flag, .habit-suggestions .suggestion-card.theme-card.active .card-title {\n  color: #fff;\n}\n\n.habit-suggestions .suggestion-card:active {\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, .03), 0 1rpx 4rpx rgba(0, 0, 0, .01);\n  opacity: .9;\n  transform: scale(.98);\n}\n\n.habit-suggestions .suggestion-card .card-content {\n  display: flex;\n  flex-direction: column;\n  gap: 10rpx;\n}\n\n.habit-suggestions .suggestion-card .card-title {\n  color: #2c3e50;\n  font-size: 28rpx;\n  line-height: 1.4;\n  white-space: normal;\n}\n\n.habit-suggestions .suggestion-card .card-flag {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  line-height: 1.4;\n  white-space: normal;\n}\n\n.input-footer {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20rpx;\n}\n\n.input-footer .counter, .input-footer .input-tip {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.step-header {\n  margin-bottom: 20rpx;\n  position: relative;\n}\n\n.step-header, .step-header .back-button {\n  align-items: center;\n  display: flex;\n}\n\n.step-header .back-button {\n  height: 80rpx;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  width: 80rpx;\n}\n\n.step-header .back-button .back-arrow {\n  color: #2c3e50;\n  font-size: 40rpx;\n}\n\n.step-header .back-button:active {\n  opacity: .9;\n}\n\n.step-header .habit-name {\n  color: #5c6b7a;\n  font-size: 32rpx;\n  text-align: center;\n  width: 100%;\n}\n\n.step-category .title {\n  margin-top: 20rpx;\n}\n\n.matched-emoji {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  display: flex;\n  flex-direction: column;\n  height: 100rpx;\n  justify-content: center;\n  position: relative;\n  transform: scale(.95);\n  transition: all .3s ease;\n  width: 100rpx;\n}\n\n.matched-emoji .emoji {\n  font-size: 44rpx;\n}\n\n.matched-emoji .reset-tip {\n  bottom: -30rpx;\n  color: #5c6b7a;\n  font-size: 20rpx;\n  opacity: 0;\n  position: absolute;\n  text-align: center;\n  transition: opacity .3s;\n  width: 100%;\n}\n\n.matched-emoji:active {\n  background: #ff9f0a;\n  opacity: .9;\n  transform: scale(1);\n}\n\n.matched-emoji:active .emoji {\n  color: #fff;\n  filter: brightness(1.2);\n}\n\n.matched-emoji:active .reset-tip {\n  opacity: 1;\n}\n\n.complete-button {\n  align-items: center;\n  background: #ff9f0a;\n  border-radius: 20rpx;\n  bottom: 30rpx;\n  box-shadow: 0 0 15rpx rgba(255, 159, 10, .15);\n  box-sizing: border-box;\n  color: #fff;\n  display: flex;\n  font-size: 32rpx;\n  height: 100rpx;\n  justify-content: center;\n  left: 0;\n  margin: 30rpx auto;\n  padding: 0 40rpx;\n  position: absolute;\n  width: 100%;\n  z-index: 10;\n}\n\n.complete-button:active {\n  opacity: .9;\n}\n\n.emoji-tip {\n  color: #5c6b7a;\n  font-size: 28rpx;\n  margin-bottom: 30rpx;\n  text-align: center;\n}\n\n.categories-container {\n  flex: 1;\n  width: 100%;\n}\n\n.category-group:first-child .categories .category-item {\n  aspect-ratio: 1;\n  margin-bottom: 60rpx;\n  transform: scale(.95);\n  width: calc((100% - 100rpx) / 6);\n}\n\n.category-group:first-child .categories .category-item.active {\n  transform: scale(1);\n}\n\n.category-group:first-child .categories .category-item .emoji-icon {\n  font-size: 44rpx;\n}\n\n.category-group:first-child .categories .category-item .label {\n  bottom: -40rpx;\n  font-size: 20rpx;\n  left: -30%;\n  width: 160%;\n}\n\n.group-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20rpx;\n  padding-left: 20rpx;\n}\n\n.group-header .group-title {\n  color: #5c6b7a;\n  font-size: 26rpx;\n  margin-left: 10rpx;\n}\n\n.group-header .group-actions, .group-header .group-actions .lucky-button {\n  align-items: center;\n  display: flex;\n}\n\n.group-header .group-actions .lucky-button {\n  background: #f5f7fa;\n  border-radius: 30rpx;\n  gap: 8rpx;\n}\n\n.group-header .group-actions .lucky-button .lucky-text {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-left: 10rpx;\n}\n\n.group-header .group-actions .lucky-button .lucky-icon {\n  animation: spin 2s linear infinite;\n  font-size: 32rpx;\n}\n\n.group-header .group-actions .lucky-button:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n@-webkit-keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(1turn);\n  }\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(1turn);\n  }\n}\n\n.theme-suggestions-container {\n  -webkit-overflow-scrolling: touch;\n  bottom: 200rpx;\n  flex: 1;\n  left: 0;\n  margin-top: 20rpx;\n  overflow-y: auto;\n  position: absolute;\n  right: 0;\n  top: 460rpx;\n  width: 100%;\n}\n\n.theme-suggestions-container::-webkit-scrollbar {\n  display: none;\n  height: 0;\n  width: 0;\n}\n\n.custom-emoji-btn {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  display: flex;\n  gap: 8rpx;\n  height: 100rpx;\n  justify-content: center;\n  padding: 0 20rpx;\n}\n\n.custom-emoji-btn .btn-text {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.custom-emoji-btn .btn-icon {\n  font-size: 32rpx;\n}\n\n.custom-emoji-btn:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.edit-modal {\n  align-items: center;\n  background: rgba(0, 0, 0, .5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1000;\n}\n\n.edit-modal .modal-content {\n  background: #fff;\n  border-radius: 20rpx;\n  max-width: 600rpx;\n  padding: 40rpx;\n  position: relative;\n  width: 80%;\n}\n\n.edit-modal .modal-content .modal-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20rpx;\n}\n\n.edit-modal .modal-content .modal-header .modal-title {\n  color: #2c3e50;\n  font-size: 32rpx;\n  font-weight: 600;\n}\n\n.edit-modal .modal-content .modal-header .close-btn {\n  color: #5c6b7a;\n  cursor: pointer;\n  font-size: 32rpx;\n}\n\n.edit-modal .modal-content .edit-textarea {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  color: #2c3e50;\n  font-size: 28rpx;\n  height: 80rpx;\n  margin-bottom: 20rpx;\n  padding: 20rpx;\n  width: 100%;\n}\n\n.edit-modal .modal-content .modal-footer {\n  align-items: center;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons {\n  display: flex;\n  gap: 20rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons .cancel-btn {\n  background: transparent;\n  border-radius: 20rpx;\n  color: #5c6b7a;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons .save-btn {\n  background: #ff9f0a;\n  border-radius: 20rpx;\n  color: #fff;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.icon-actions {\n  gap: 20rpx;\n}\n\n.color-picker-btn, .icon-actions {\n  display: flex;\n}\n\n.color-picker-btn {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  gap: 12rpx;\n  height: 100rpx;\n  justify-content: center;\n  padding: 0 20rpx;\n}\n\n.color-picker-btn .color-preview {\n  background-color: #f5f7fa; /* 使用默认的浅灰色背景 */\n  border: 2rpx solid #e2e7ed;\n  border-radius: 16rpx;\n  height: 32rpx;\n  width: 32rpx;\n}\n\n.color-picker-btn .btn-text {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.color-picker-btn:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.color-picker-modal {\n  display: none;\n}\n\n.settings-modal {\n  align-items: center;\n  background: rgba(0, 0, 0, .5);\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1000;\n}\n\n.settings-modal .modal-content {\n  background: #fff;\n  border-radius: 20rpx;\n  max-height: 80vh;\n  max-width: 600rpx;\n  overflow-y: auto;\n  padding: 40rpx;\n  width: 90%;\n}\n\n.settings-modal .modal-content .settings-preview {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 40rpx;\n}\n\n.settings-modal .modal-content .settings-preview .preview-box {\n  align-items: center;\n  border: 4rpx solid #e2e7ed;\n  border-radius: 30rpx;\n  display: flex;\n  height: 120rpx;\n  justify-content: center;\n  width: 120rpx;\n}\n\n.settings-modal .modal-content .settings-preview .preview-box .preview-emoji {\n  font-size: 60rpx;\n}\n\n.settings-modal .modal-content .settings-section {\n  margin-bottom: 40rpx;\n}\n\n.settings-modal .modal-content .settings-section .section-title {\n  color: #5c6b7a;\n  font-size: 28rpx;\n  margin-bottom: 20rpx;\n}\n\n.settings-modal .modal-content .settings-section .emoji-input {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  color: #2c3e50;\n  font-size: 28rpx;\n  height: 80rpx;\n  line-height: 1;\n  padding: 20rpx 30rpx;\n  text-align: center;\n  width: 100%;\n}\n\n.settings-modal .modal-content .settings-section .color-input-row {\n  align-items: center;\n  display: flex;\n  gap: 20rpx;\n  margin-bottom: 20rpx;\n}\n\n.settings-modal .modal-content .settings-section .color-input-row .color-input {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  color: #2c3e50;\n  flex: 1;\n  font-size: 28rpx;\n  height: 80rpx;\n  padding: 0 30rpx;\n}\n\n.settings-modal .modal-content .settings-section .color-input-row .custom-color-preview {\n  border: 2rpx solid #e2e7ed;\n  border-radius: 20rpx;\n  flex-shrink: 0;\n  height: 80rpx;\n  transition: all .3s ease;\n  width: 80rpx;\n}\n\n.settings-modal .modal-content .settings-section .color-input-row .custom-color-preview:active {\n  transform: scale(.95);\n}\n\n.settings-modal .modal-content .settings-section .preset-colors {\n  display: grid;\n  gap: 20rpx;\n  grid-template-columns: repeat(4, 1fr);\n}\n\n.settings-modal .modal-content .settings-section .preset-colors .color-item {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  gap: 10rpx;\n}\n\n.settings-modal .modal-content .settings-section .preset-colors .color-item.active .color-preview {\n  box-shadow: 0 0 0 4rpx #ff9f0a;\n  transform: scale(1.1);\n}\n\n.settings-modal .modal-content .settings-section .preset-colors .color-item .color-preview {\n  border: 2rpx solid #e2e7ed;\n  border-radius: 20rpx;\n  height: 80rpx;\n  transition: all .3s ease;\n  width: 80rpx;\n}\n\n.settings-modal .modal-content .settings-section .preset-colors .color-item .color-preview:active {\n  transform: scale(.95);\n}\n\n.settings-modal .modal-content .settings-section .preset-colors .color-item .color-name {\n  color: #5c6b7a;\n  font-size: 20rpx;\n  text-align: center;\n}\n\n.settings-modal .modal-content .modal-footer {\n  align-items: center;\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 30rpx;\n}\n\n.settings-modal .modal-content .modal-footer .modal-buttons {\n  display: flex;\n  gap: 20rpx;\n}\n\n.settings-modal .modal-content .modal-footer .modal-buttons .reset-btn {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  color: #5c6b7a;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.settings-modal .modal-content .modal-footer .modal-buttons .cancel-btn {\n  background: transparent;\n  border-radius: 20rpx;\n  color: #5c6b7a;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.settings-modal .modal-content .modal-footer .modal-buttons .save-btn {\n  background: #ff9f0a;\n  border-radius: 20rpx;\n  color: #fff;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.icon-settings {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  flex-direction: column;\n  gap: 8rpx;\n  height: 100rpx;\n  padding: 0 20rpx;\n}\n\n.icon-settings, .icon-settings .icon-preview {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.icon-settings .icon-preview {\n  border: 2rpx solid #e2e7ed;\n  border-radius: 16rpx;\n  height: 60rpx;\n  width: 60rpx;\n}\n\n.icon-settings .icon-preview .emoji {\n  font-size: 32rpx;\n}\n\n.icon-settings .settings-tip {\n  color: #5c6b7a;\n  font-size: 20rpx;\n}\n\n.icon-settings:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n</style>","import MiniProgramPage from '/Users/linsir/Experiments/uni-app/habit-ai-uniapp/habit-ai-uniapp/pages/add-habit/add-habit.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}