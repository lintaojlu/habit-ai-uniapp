{"version":3,"names":["RewardCard","_objectSpread2","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_sfc_main","common_vendor","defineComponent","components","data","currentTab","weekDays","currentMonth","currentYear","currentStreak","longestStreak","longestStreakDate","completedDays","monthlyChange","habit","calendarDays","last31Days","yearlyHeatmap","yearlyCount","monthlyCount","weeklyCount","streakDateRange","monthlyProgress","yearlyRate","quarterCount","quarterRate","monthlyRate","weeklyRate","longestStreakStartDate","selectedYear","Date","getFullYear","yearBestStreak","yearBestStreakDate","bestMonth","bestMonthCount","bestQuarter","bestQuarterCount","todayCheckCount","retroactiveCheckCount","showRewardCard","rewardTitle","rewardMessage","rewardStats","currentHabitInfo","showEditModal","editingContent","editingNoteIndex","retroactiveInfo","searchQuery","selectedDate","currentDateStr","toISOString","split","currentDateMode","dateModes","label","filteredNotes","yearTotalDays","yearlyExplanation","dateShowTimer","lastClickedCell","computed","sortedNotes","_this","notes","_toConsumableArray2","note","content","toLowerCase","includes","noteDate","timestamp","parseInt","_this$selectedDate$sp","map","num","_this$selectedDate$sp2","_slicedToArray2","year","month","getMonth","getDate","sort","a","b","aTime","saveTimestamp","bTime","onLoad","options","habitId","id","loadHabitData","title","index","setNavigationBarTitle","decodeURIComponent","now","initializeCalendar","calculateStats","calculateAnalytics","methods","switchTab","tab","habits","getStorageSync","find","h","showToast","icon","navigateBack","getCategoryIcon","category","color","getCategoryColor","icons","workout","running","swimming","yoga","diet","water","sleep","outdoor","nutrition","reading","writing","coding","music","language","art","skills","course","cleaning","cooking","plants","finance","eco","photo","meditation","gratitude","social","mood","mindfulness","helping","planning","time","focus","email","project","learning","custom","other","colors","sports","health","work","study","gaming","generateCalendarDays","calculateMonthlyStats","date","getMonthIndex","daysInMonth","firstDayOfMonth","getDay","push","dayNumber","_i","currentDate","getTime","isCompleted","completed","isToday","isFuture","today","currentLongestStreak","longestStreakEndDate","currentStreakStartDate","sortedDates","_i2","nextDate","isConsecutiveDay","toLocaleDateString","day","date1","date2","d1","d2","oneDayInMs","changeMonth","delta","newMonth","yearDelta","newYear","_this2","currentMonthStart","currentMonthEnd","monthCompletions","isCurrentMonth2","isCurrentMonth","checkDate","lastMonthStart","lastMonthEnd","lastMonthCompleted","Math","round","changeYear","realCurrentYear","isYearSwitchDisabled","targetYear","calculateYearlyHeatmap","startOfYear","endOfYear","getCompletedCountBetweenDates","yearDays","floor","calculateYearBestStreak","calculateBestMonth","calculateBestQuarter","calculateMonthlyProgress","startDate","setDate","heatmapData","Array","fill","week","isInSelectedYear","calculateInsights","calculateStreakRange","endDate","_this3","monthCounts","_","startOfMonth","endOfMonth","maxCount","max","apply","count","percentage","isHighProgress","gradient","toggleHabitCompletion","_this4","duration","habitIndex","findIndex","completedIndex","indexOf","isRetroactive","t","setStorageSync","monthNames","monthLabel","name","retroTimestamp","splice","vibrateShort","success","maxStreak","streakStartDate","bestStreakStartDate","yearStart","yearEnd","yearCompletions","_this5","_this6","quarterCounts","quarter","formatDate","format","year2","month2","day2","hours","getHours","toString","padStart","minutes","getMinutes","handleSaveNote","_ref","_this7","newNote","$forceUpdate","editNote","deleteNote","_this8","showModal","confirmColor","res","confirm","noteToDelete","originalNoteIndex","saveEditedNote","_this9","trim","originalNote","noteIndex","lastEditTime","showNoteActionSheet","_this10","showActionSheet","itemList","itemColor","tapIndex","handleFlagLongPress","initPetalsCanvas","_this11","query","createSelectorQuery","in","select","fields","node","size","exec","canvas","__f__","ctx","context","canvasContext","getWindowInfo","pixelRatio","canvasWidth","width","canvasHeight","height","initPetals","startPetalsAnimation","petals","x","random","y","speed","angle","rotationSpeed","getRandomPetalColor","opacity","_this12","animationFrameId","_animate","animate","showPetals","clearRect","allPetalsFallen","petal","sin","PI","save","translate","rotate","globalAlpha","beginPath","fillStyle","drawPetal","restore","setTimeout","moveTo","bezierCurveTo","handleSearch","clearSearch","handleDateChange","e","detail","clearDate","switchDateMode","mode","formatSelectedDate","showCellDate","cellIndex","_this13","showDate","cell","clearTimeout","wx","createPage","MiniProgramPage"],"sources":["habit-stats.vue","habit-stats.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <reward-card v-if=\"showRewardCard\" @saveNote=\"handleSaveNote\" @updateShow=\"handleUpdateShow\"></reward-card>\n    <view class=\"tab-switch\">\n      <text :class=\"['tab-item', activeTab === 'calendar' ? 'active' : '']\" @tap=\"switchTab('calendar')\">æ—¥å†</text>\n      <text :class=\"['tab-item', activeTab === 'notes' ? 'active' : '']\" @tap=\"switchTab('notes')\">å¿ƒå¾—</text>\n      <text :class=\"['tab-item', activeTab === 'analytics' ? 'active' : '']\" @tap=\"switchTab('analytics')\">ç»Ÿè®¡</text>\n    </view>\n    <view class=\"calendar-section\" v-if=\"activeTab === 'calendar'\">\n      <view class=\"month-header\">\n        <text class=\"month-title\">{{ currentMonth }}æœˆ, {{ currentYear }}</text>\n        <view class=\"month-controls\">\n          <text class=\"arrow\" @tap=\"previousMonth\">â†</text>\n          <text class=\"arrow\" @tap=\"nextMonth\">â†’</text>\n        </view>\n      </view>\n      <view class=\"calendar-grid\">\n        <view class=\"weekday-row\">\n          <text class=\"weekday\" v-for=\"day in weekDays\" :key=\"day.id\">{{ day.name }}</text>\n        </view>\n        <view class=\"days-grid\">\n          <view v-for=\"day in calendarDays\" :key=\"day.id\"\n                :class=\"['day-cell', day.className, day.isActive ? 'active' : '']\"\n                @tap=\"handleDayClick(day)\">\n            <text>{{ day.date }}</text>\n          </view>\n        </view>\n      </view>\n      <view class=\"heatmap-section\">\n        <view class=\"stats-grid\">\n          <view class=\"stat-card\">\n            <view class=\"stat-icon\">ğŸ“</view>\n            <view class=\"stat-content\">\n              <text class=\"stat-value\">{{ monthlyStats.totalCount }}æ¬¡</text>\n              <text class=\"stat-label\">{{ currentYear }}å¹´{{ currentMonth }}æœˆå®Œæˆ</text>\n            </view>\n          </view>\n          <view class=\"stat-card\">\n            <view class=\"stat-icon\">âœ…</view>\n            <view class=\"stat-content\">\n              <text class=\"stat-value\">{{ monthlyStats.onTimeCount }}æ¬¡</text>\n              <text class=\"stat-label\">{{ currentYear }}å¹´{{ currentMonth }}æœˆå½“æ—¥å®Œæˆ</text>\n            </view>\n          </view>\n          <view class=\"stat-card\">\n            <view class=\"stat-icon\">ğŸ”„</view>\n            <view class=\"stat-content\">\n              <text class=\"stat-value\">{{ monthlyStats.retroactiveCount }}æ¬¡</text>\n              <text class=\"stat-label\">{{ currentYear }}å¹´{{ currentMonth }}æœˆè¡¥æ‰“å¡</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"analytics-section\" v-if=\"activeTab === 'analytics'\">\n      <view class=\"year-switcher\">\n        <view :class=\"['year-button', isFirstYear ? 'disabled' : '']\" @tap=\"previousYear\">\n          <text class=\"year-button-icon\">â†</text>\n        </view>\n        <view class=\"year-display\">\n          <text class=\"year-number\">{{ selectedYear }}</text>\n          <text class=\"year-label\">å¹´åº¦æ•°æ®</text>\n        </view>\n        <view :class=\"['year-button', isLastYear ? 'disabled' : '']\" @tap=\"nextYear\">\n          <text class=\"year-button-icon\">â†’</text>\n        </view>\n      </view>\n      <view class=\"yearly-section\">\n        <text class=\"section-title\">{{ selectedYear }}å¹´çƒ­åŠ›å›¾</text>\n        <view class=\"yearly-heatmap-container\">\n          <view class=\"yearly-heatmap\">\n            <view class=\"weekday-labels\">\n              <text class=\"weekday-label\" v-for=\"day in weekdayLabels\" :key=\"day.id\">{{ day.name }}</text>\n            </view>\n            <view class=\"heatmap-row\" v-for=\"row in heatmapData\" :key=\"row.id\">\n              <view v-for=\"cell in row.cells\" :key=\"cell.id\"\n                    :class=\"['heatmap-cell', cell.className]\"\n                    :data-date=\"cell.date\"\n                    @tap=\"handleHeatmapCellClick(cell)\"></view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <view class=\"insights-section\">\n        <text class=\"section-title\">{{ selectedYear }}å¹´åº¦æ´å¯Ÿ</text>\n        <view class=\"insights-container\">\n          <view class=\"main-card\">\n            <view class=\"circle-progress\" :style=\"{ '--percentage': yearlyStats.percentage }\">\n              <view class=\"progress-track\"></view>\n              <view class=\"progress-glow\"></view>\n              <view class=\"inner-circle\">\n                <text class=\"insight-number\">{{ yearlyStats.completedCount }}</text>\n                <text class=\"insight-label\">æ¬¡</text>\n              </view>\n            </view>\n            <view class=\"insight-info\">\n              <text class=\"insight-period\">å¹´åº¦å®Œæˆ</text>\n              <text class=\"insight-rate\">{{ yearlyStats.completionRate }}%</text>\n              <view class=\"insight-details\">\n                <text class=\"detail-text\">{{ yearlyStats.completedDays }}å¤© / {{ yearlyStats.totalDays }}å¤©</text>\n                <text class=\"detail-explanation\">{{ yearlyStats.explanation }}</text>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n      <view class=\"monthly-progress\">\n        <text class=\"section-title\">{{ selectedYear }}å¹´æŸ±çŠ¶å›¾</text>\n        <view class=\"months-grid\">\n          <view class=\"month-column\" v-for=\"month in monthlyProgress\" :key=\"month.id\">\n            <view class=\"bar-container\">\n              <view :class=\"['progress-bar',\n                           month.isHighProgress ? 'high-progress' : '',\n                           month.isMediumProgress ? 'medium-progress' : '',\n                           month.isLowProgress ? 'low-progress' : '']\"\n                    :style=\"{ height: month.height, background: month.color }\"\n                    :data-count=\"month.count\">\n                <view class=\"progress-glow\"></view>\n              </view>\n            </view>\n            <text class=\"month-label\" :data-month=\"month.monthNumber\">æœˆ</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"notes-section\" v-if=\"activeTab === 'notes'\">\n      <view class=\"search-section\" v-if=\"showSearch\">\n        <view class=\"date-filter\">\n          <view class=\"date-mode-selector\">\n            <text v-for=\"mode in dateModes\" :key=\"mode.id\"\n                  :class=\"['mode-item', mode.isActive ? 'active' : '']\"\n                  @tap=\"handleDateModeChange(mode)\">{{ mode.name }}\n            </text>\n          </view>\n          <view class=\"date-pickers\">\n            <picker v-if=\"showYearPicker\"\n                    mode=\"date\"\n                    fields=\"year\"\n                    :start=\"1970\"\n                    :end=\"maxYear\"\n                    :value=\"selectedDate.year\"\n                    @change=\"handleYearChange\">\n              <view class=\"date-picker\">\n                <text class=\"date-text\">{{ selectedDate.yearText }}</text>\n                <text class=\"calendar-icon\">ğŸ“…</text>\n              </view>\n            </picker>\n            <picker v-if=\"showMonthPicker\"\n                    mode=\"date\"\n                    fields=\"month\"\n                    start=\"1970-01\"\n                    :end=\"maxYearMonth\"\n                    :value=\"selectedDate.yearMonth\"\n                    @change=\"handleMonthChange\">\n              <view class=\"date-picker\">\n                <text class=\"date-text\">{{ selectedDate.monthText }}</text>\n                <text class=\"calendar-icon\">ğŸ“…</text>\n              </view>\n            </picker>\n            <picker v-if=\"showDayPicker\"\n                    mode=\"date\"\n                    start=\"1970-01-01\"\n                    :end=\"maxDate\"\n                    :value=\"selectedDate.fullDate\"\n                    @change=\"handleDateChange\">\n              <view class=\"date-picker\">\n                <text class=\"date-text\">{{ selectedDate.dateText }}</text>\n                <text class=\"calendar-icon\">ğŸ“…</text>\n              </view>\n            </picker>\n            <text :class=\"['clear-date', showClearDate ? 'active' : '']\"\n                  @tap=\"clearDateFilter\">æ¸…é™¤\n            </text>\n          </view>\n        </view>\n        <view class=\"search-bar\">\n          <text class=\"search-icon\">ğŸ”</text>\n          <input class=\"search-input\"\n                 type=\"text\"\n                 placeholder=\"æœç´¢å¿ƒå¾—...\"\n                 v-model=\"searchQuery\"\n                 @input=\"handleSearch\"/>\n          <text v-if=\"showClearSearch\"\n                class=\"clear-icon\"\n                @tap=\"clearSearch\">Ã—\n          </text>\n        </view>\n      </view>\n      <view class=\"notes-list\" v-if=\"hasNotes\">\n        <view class=\"note-card\" v-for=\"note in filteredNotes\" :key=\"note.id\">\n          <view class=\"note-header\">\n            <view class=\"note-date\">{{ note.formattedDate }}</view>\n            <view class=\"retroactive-badge\" v-if=\"note.isRetroactive\">\n              <text class=\"badge-icon\">ğŸ”„</text>\n              <text class=\"badge-text\">è¡¥{{ note.retroactiveText }}</text>\n            </view>\n            <view class=\"more-actions\" @tap.stop=\"handleNoteAction(note)\">\n              <text class=\"more-icon\">â‹®</text>\n            </view>\n          </view>\n          <view class=\"note-content\">{{ note.content }}</view>\n        </view>\n      </view>\n      <view class=\"empty-notes\" v-else>\n        <text class=\"empty-icon\">ğŸ“</text>\n        <text class=\"empty-message\">è¿˜æ²¡æœ‰è®°å½•å¿ƒå¾—ï¼Œå¿«å»æ‰“å¡æ—¶è®°å½•ä¸€ä¸‹å§ï¼</text>\n      </view>\n      <view class=\"edit-modal\" v-if=\"showEditModal\">\n        <view class=\"modal-content\">\n          <view class=\"modal-header\">\n            <text class=\"modal-title\">ç¼–è¾‘å¿ƒå¾—</text>\n            <text class=\"close-btn\" @tap=\"closeEditModal\">Ã—</text>\n          </view>\n          <textarea v-if=\"true\"\n                    class=\"edit-textarea\"\n                    :maxlength=\"500\"\n                    placeholder=\"å†™ä¸‹ä½ çš„å¿ƒå¾—...\"\n                    v-model=\"editingNote\"\n                    @input=\"handleNoteInput\"></textarea>\n          <view class=\"modal-footer\">\n            <text class=\"counter\">{{ noteLength }}/500</text>\n            <view class=\"modal-buttons\">\n              <text class=\"cancel-btn\" @tap=\"cancelEdit\">å–æ¶ˆ</text>\n              <text class=\"save-btn\" @tap=\"saveNote\">ä¿å­˜</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport RewardCard from \"../../components/reward-card.vue\";\nimport {defineComponent} from 'vue'\n\n// æ·»åŠ è¾…åŠ©å‡½æ•°\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nexport default defineComponent({\n  components: {\n    RewardCard: RewardCard\n  },\n  data() {\n    return {\n      currentTab: \"calendar\",\n      weekDays: [ \"å‘¨æ—¥\", \"å‘¨ä¸€\", \"å‘¨äºŒ\", \"å‘¨ä¸‰\", \"å‘¨å››\", \"å‘¨äº”\", \"å‘¨å…­\" ],\n      currentMonth: \"\",\n      currentYear: \"\",\n      currentStreak: 0,\n      longestStreak: 0,\n      longestStreakDate: \"\",\n      completedDays: 0,\n      monthlyChange: 0,\n      habit: null,\n      calendarDays: [],\n      last31Days: [],\n      yearlyHeatmap: [],\n      yearlyCount: 0,\n      monthlyCount: 0,\n      weeklyCount: 0,\n      streakDateRange: \"\",\n      monthlyProgress: [],\n      yearlyRate: 0,\n      quarterCount: 0,\n      quarterRate: 0,\n      monthlyRate: 0,\n      weeklyRate: 0,\n      longestStreakStartDate: \"\",\n      selectedYear: /*   */ new Date().getFullYear(),\n      yearBestStreak: 0,\n      yearBestStreakDate: \"\",\n      bestMonth: 1,\n      bestMonthCount: 0,\n      bestQuarter: 1,\n      bestQuarterCount: 0,\n      todayCheckCount: 0,\n      retroactiveCheckCount: 0,\n      showRewardCard: false,\n      rewardTitle: \"\",\n      rewardMessage: \"\",\n      rewardStats: null,\n      currentHabitInfo: null,\n      showEditModal: false,\n      editingContent: \"\",\n      editingNoteIndex: -1,\n      retroactiveInfo: null,\n      searchQuery: \"\",\n      selectedDate: \"\",\n      currentDateStr: /*   */ new Date().toISOString().split(\"T\")[0],\n      currentDateMode: \"date\",\n      // é»˜è®¤é€‰æ‹©å¹´æœˆæ—¥\n      dateModes: [ {\n        label: \"å¹´\",\n        value: \"year\"\n      }, {\n        label: \"æœˆ\",\n        value: \"month\"\n      }, {\n        label: \"æ—¥\",\n        value: \"date\"\n      } ],\n      filteredNotes: [],\n      yearTotalDays: 0,\n      yearlyExplanation: \"\",\n      dateShowTimer: null,\n      lastClickedCell: null\n    };\n  },\n  computed: {\n    sortedNotes: function sortedNotes() {\n      var _this = this;\n      if (!this.habit.notes) return [];\n      var notes = _toConsumableArray2(this.habit.notes);\n      if (this.searchQuery) {\n        notes = notes.filter(function(note) {\n          return note.content.toLowerCase().includes(_this.searchQuery.toLowerCase());\n        });\n      }\n      if (this.selectedDate) {\n        notes = notes.filter(function(note) {\n          var noteDate = new Date(note.timestamp);\n          var selectedDate;\n          switch (_this.currentDateMode) {\n            case \"year\":\n              var selectedYear = parseInt(_this.selectedDate.split(\"-\")[0]);\n              return noteDate.getFullYear() === selectedYear;\n\n            case \"month\":\n              var _this$selectedDate$sp = _this.selectedDate.split(\"-\").map(function(num) {\n                return parseInt(num);\n              }), _this$selectedDate$sp2 = _slicedToArray2(_this$selectedDate$sp, 2), year = _this$selectedDate$sp2[0], month = _this$selectedDate$sp2[1];\n              return noteDate.getFullYear() === year && noteDate.getMonth() === month - 1;\n\n            case \"date\":\n              selectedDate = new Date(_this.selectedDate);\n              return noteDate.getFullYear() === selectedDate.getFullYear() && noteDate.getMonth() === selectedDate.getMonth() && noteDate.getDate() === selectedDate.getDate();\n\n            default:\n              return true;\n          }\n        });\n      }\n      notes.sort(function(a, b) {\n        var aTime = a.retroactiveInfo ? a.retroactiveInfo.saveTimestamp : a.saveTimestamp || a.timestamp;\n        var bTime = b.retroactiveInfo ? b.retroactiveInfo.saveTimestamp : b.saveTimestamp || b.timestamp;\n        return bTime - aTime;\n      });\n      return notes;\n    }\n  },\n  onLoad: function onLoad(options) {\n    var habitId = options.id;\n    this.loadHabitData(habitId);\n    if (options.title) {\n      uni.setNavigationBarTitle({\n        title: decodeURIComponent(options.title)\n      });\n    }\n    var now = /*   */ new Date();\n    this.currentYear = now.getFullYear();\n    this.selectedYear = now.getFullYear();\n    this.initializeCalendar();\n    this.calculateStats();\n    this.calculateAnalytics();\n  },\n  methods: {\n    switchTab: function switchTab(tab) {\n      this.currentTab = tab;\n    },\n    loadHabitData: function loadHabitData(habitId) {\n      var habits = uni.getStorageSync(\"habits\") || [];\n      this.habit = habits.find(function(h) {\n        return h.id === habitId;\n      });\n      if (!this.habit) {\n        uni.showToast({\n          title: \"æœªæ‰¾åˆ°ä¹ æƒ¯æ•°æ®\",\n          icon: \"none\"\n        });\n        uni.navigateBack();\n      } else {\n        var icon = this.getCategoryIcon(this.habit.category);\n        this.habit = _objectSpread2(_objectSpread2({}, this.habit), {}, {\n          icon: icon,\n          color: this.getCategoryColor(this.habit.category)\n        });\n        uni.setNavigationBarTitle({\n          title: this.habit.title\n        });\n      }\n    },\n    // æ·»åŠ å›¾æ ‡å’Œé¢œè‰²è·å–æ–¹æ³•\n    getCategoryIcon: function getCategoryIcon(category) {\n      var icons = {\n        workout: \"ğŸƒ\",\n        running: \"ğŸƒâ€â™‚ï¸\",\n        swimming: \"ğŸŠ\",\n        yoga: \"ğŸ§˜\",\n        diet: \"ğŸ¥—\",\n        water: \"ğŸ’§\",\n        sleep: \"ğŸ˜´\",\n        outdoor: \"ğŸŒ³\",\n        nutrition: \"ğŸ’Š\",\n        reading: \"ğŸ“š\",\n        writing: \"âœï¸\",\n        coding: \"ğŸ’»\",\n        music: \"ğŸµ\",\n        language: \"ğŸ—£ï¸\",\n        art: \"ğŸ¨\",\n        skills: \"ğŸ“ˆ\",\n        course: \"ğŸ’¡\",\n        cleaning: \"ğŸ§¹\",\n        cooking: \"ğŸ‘¨â€ğŸ³\",\n        plants: \"ğŸŒ±\",\n        finance: \"ğŸ’°\",\n        eco: \"â™»ï¸\",\n        notes: \"ğŸ“\",\n        photo: \"ğŸ“¸\",\n        meditation: \"ğŸ§˜â€â™€ï¸\",\n        gratitude: \"ğŸ™\",\n        social: \"ğŸ‘¥\",\n        mood: \"ğŸ­\",\n        mindfulness: \"ğŸŒŸ\",\n        helping: \"ğŸ¤\",\n        planning: \"ğŸ“‹\",\n        time: \"â°\",\n        focus: \"ğŸ¯\",\n        email: \"ğŸ“§\",\n        project: \"ğŸ“Š\",\n        learning: \"ğŸ“\",\n        custom: \"âœ¨\",\n        other: \"ğŸ“\"\n      };\n      return icons[category] || \"ğŸ“\";\n    },\n    getCategoryColor: function getCategoryColor(category) {\n      var colors = {\n        sports: \"#FF6B6B\",\n        health: \"#4ECDC4\",\n        work: \"#45B7D1\",\n        study: \"#96CEB4\",\n        meditation: \"#9B89B3\",\n        reading: \"#FFD93D\",\n        sleep: \"#6C5B7B\",\n        diet: \"#95E1D3\",\n        water: \"#87CEEB\",\n        music: \"#FF8C94\",\n        art: \"#F67280\",\n        writing: \"#C06C84\",\n        coding: \"#6C5B7B\",\n        language: \"#355C7D\",\n        finance: \"#2A363B\",\n        social: \"#F8B195\",\n        cleaning: \"#A8E6CF\",\n        gaming: \"#3F72AF\",\n        other: \"#808080\"\n      };\n      return colors[category] || \"$text-color-secondary666\";\n    },\n    initializeCalendar: function initializeCalendar() {\n      var now = /*   */ new Date();\n      this.currentYear = now.getFullYear();\n      this.currentMonth = now.getMonth() + 1;\n      this.generateCalendarDays();\n      this.calculateMonthlyStats();\n    },\n    generateCalendarDays: function generateCalendarDays() {\n      var date = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), 1);\n      var daysInMonth = new Date(this.currentYear, this.getMonthIndex(this.currentMonth) + 1, 0).getDate();\n      var firstDayOfMonth = date.getDay();\n      this.calendarDays = [];\n      for (var i = 0; i < firstDayOfMonth; i++) {\n        this.calendarDays.push({\n          dayNumber: \"\",\n          date: null\n        });\n      }\n      for (var _i = 1; _i <= daysInMonth; _i++) {\n        var currentDate = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), _i);\n        var timestamp = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate()).getTime();\n        var isCompleted = this.habit.completed.includes(timestamp);\n        this.calendarDays.push({\n          dayNumber: _i,\n          date: currentDate,\n          isCompleted: isCompleted,\n          isToday: this.isToday(currentDate),\n          isFuture: currentDate > /*   */ new Date()\n        });\n      }\n    },\n    calculateStats: function calculateStats() {\n      var today = /*   */ new Date();\n      var currentStreak = 0;\n      for (var i = 0; i <= 366; i++) {\n        var date = new Date(today.getFullYear(), today.getMonth(), today.getDate() - i);\n        var timestamp = new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime();\n        if (this.habit.completed.includes(timestamp)) {\n          currentStreak++;\n        } else {\n          break;\n        }\n      }\n      this.currentStreak = currentStreak;\n      var longestStreak = 0;\n      var currentLongestStreak = 0;\n      var longestStreakEndDate = null;\n      var longestStreakStartDate = null;\n      var currentStreakStartDate = null;\n      var sortedDates = _toConsumableArray2(this.habit.completed).sort(function(a, b) {\n        return a - b;\n      });\n      for (var _i2 = 0; _i2 < sortedDates.length; _i2++) {\n        var currentDate = new Date(sortedDates[_i2]);\n        var nextDate = _i2 < sortedDates.length - 1 ? new Date(sortedDates[_i2 + 1]) : null;\n        if (currentLongestStreak === 0) {\n          currentStreakStartDate = currentDate;\n        }\n        if (nextDate && this.isConsecutiveDay(currentDate, nextDate)) {\n          currentLongestStreak++;\n        } else {\n          currentLongestStreak++;\n          if (currentLongestStreak > longestStreak) {\n            longestStreak = currentLongestStreak;\n            longestStreakEndDate = currentDate;\n            longestStreakStartDate = currentStreakStartDate;\n          }\n          currentLongestStreak = 0;\n        }\n      }\n      this.longestStreak = longestStreak;\n      this.longestStreakStartDate = longestStreakStartDate ? longestStreakStartDate.toLocaleDateString(\"zh-CN\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      }) : \"\";\n      this.longestStreakDate = longestStreakEndDate ? \"\".concat(this.longestStreakStartDate, \" - \").concat(longestStreakEndDate.toLocaleDateString(\"zh-CN\", {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\"\n      })) : \"\";\n    },\n    isConsecutiveDay: function isConsecutiveDay(date1, date2) {\n      var d1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()).getTime();\n      var d2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()).getTime();\n      var oneDayInMs = 24 * 60 * 60 * 1e3;\n      return d2 - d1 === oneDayInMs;\n    },\n    // Helper methods\n    isToday: function isToday(date) {\n      var today = /*   */ new Date();\n      return date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear();\n    },\n    changeMonth: function changeMonth(delta) {\n      var newMonth = parseInt(this.currentMonth) + delta;\n      var yearDelta = 0;\n      if (newMonth > 12) {\n        newMonth = 1;\n        yearDelta = 1;\n      } else if (newMonth < 1) {\n        newMonth = 12;\n        yearDelta = -1;\n      }\n      var newYear = this.currentYear + yearDelta;\n      var now = /*   */ new Date();\n      if (newYear > now.getFullYear() || newYear === now.getFullYear() && newMonth > now.getMonth() + 1) {\n        return;\n      }\n      this.currentYear = newYear;\n      this.currentMonth = newMonth;\n      this.generateCalendarDays();\n      this.calculateMonthlyStats();\n      this.calculateStats();\n    },\n    // ä¿®æ”¹calculateMonthlyStatsæ–¹æ³•,ç¡®ä¿åªè®¡ç®—æ—¥å†é¡µé¢æ•°æ®\n    calculateMonthlyStats: function calculateMonthlyStats() {\n      var _this2 = this;\n      var currentMonthStart = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), 1);\n      var currentMonthEnd = new Date(this.currentYear, this.getMonthIndex(this.currentMonth) + 1, 0);\n      var monthCompletions = this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= currentMonthStart && date <= currentMonthEnd;\n      }).sort(function(a, b) {\n        return a - b;\n      });\n      this.completedDays = monthCompletions.length;\n      var isCurrentMonth = this.isCurrentMonth();\n      if (isCurrentMonth) {\n        this.todayCheckCount = this.habit.completed.filter(function(timestamp) {\n          var checkDate = new Date(timestamp);\n          return _this2.isToday(checkDate);\n        }).length;\n        this.retroactiveCheckCount = monthCompletions.length - this.todayCheckCount;\n      } else {\n        this.todayCheckCount = 0;\n        this.retroactiveCheckCount = monthCompletions.length;\n      }\n      var lastMonthStart = new Date(this.currentYear, this.getMonthIndex(this.currentMonth) - 1, 1);\n      var lastMonthEnd = new Date(this.currentYear, this.getMonthIndex(this.currentMonth), 0);\n      var lastMonthCompleted = this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= lastMonthStart && date <= lastMonthEnd;\n      }).length;\n      if (lastMonthCompleted === 0) {\n        this.monthlyChange = this.completedDays > 0 ? 100 : 0;\n      } else {\n        this.monthlyChange = Math.round((this.completedDays - lastMonthCompleted) / lastMonthCompleted * 100);\n      }\n    },\n    isCurrentMonth: function isCurrentMonth() {\n      var today = /*   */ new Date();\n      return this.currentYear === today.getFullYear() && this.getMonthIndex(this.currentMonth) === today.getMonth();\n    },\n    getMonthIndex: function getMonthIndex(month) {\n      return parseInt(month) - 1;\n    },\n    // ä¿®æ”¹changeYearæ–¹æ³•,ç¡®ä¿åªå—å®é™…å½“å‰å¹´ä»½é™åˆ¶\n    changeYear: function changeYear(delta) {\n      var newYear = this.selectedYear + delta;\n      var realCurrentYear = /*   */ new Date().getFullYear();\n      if (newYear < 1970 || newYear > realCurrentYear) {\n        return;\n      }\n      this.selectedYear = newYear;\n      this.calculateAnalytics();\n    },\n    // ä¿®æ”¹å¹´ä»½åˆ‡æ¢å™¨çš„ç¦ç”¨é€»è¾‘\n    isYearSwitchDisabled: function isYearSwitchDisabled(delta) {\n      var targetYear = this.selectedYear + delta;\n      var realCurrentYear = /*   */ new Date().getFullYear();\n      return targetYear < 1970 || targetYear > realCurrentYear;\n    },\n    // ä¿®æ”¹calculateAnalyticsæ–¹æ³•,ç¡®ä¿åªä½¿ç”¨selectedYear\n    calculateAnalytics: function calculateAnalytics() {\n      this.calculateYearlyHeatmap();\n      var today = /*   */ new Date();\n      var startOfYear = new Date(this.selectedYear, 0, 1);\n      var endOfYear = this.selectedYear === today.getFullYear() ? today : new Date(this.selectedYear, 11, 31);\n      this.yearlyCount = this.getCompletedCountBetweenDates(startOfYear, endOfYear);\n      var yearDays = Math.floor((endOfYear - startOfYear) / (24 * 60 * 60 * 1e3)) + 1;\n      this.yearTotalDays = yearDays;\n      this.yearlyRate = Math.round(this.yearlyCount / yearDays * 100);\n      if (this.yearlyCount === 0) {\n        this.yearlyExplanation = \"ä»Šå¹´è¿˜æ²¡æœ‰å®Œæˆè®°å½•ï¼Œå¼€å§‹ç¬¬ä¸€æ¬¡æ‰“å¡å§ï¼\";\n      } else if (this.yearlyRate < 30) {\n        this.yearlyExplanation = \"åšæŒæ˜¯æˆåŠŸçš„å…³é”®ï¼Œç»§ç»­åŠ æ²¹ï¼\";\n      } else if (this.yearlyRate < 60) {\n        this.yearlyExplanation = \"ä¿æŒè‰¯å¥½çš„ä¹ æƒ¯ï¼Œä½ å·²ç»åšå¾—å¾ˆæ£’äº†ï¼\";\n      } else if (this.yearlyRate < 90) {\n        this.yearlyExplanation = \"å‡ºè‰²çš„å®Œæˆåº¦ï¼Œä½ æ˜¯æœ€æ£’çš„ï¼\";\n      } else {\n        this.yearlyExplanation = \"å¤ªå‰å®³äº†ï¼Œä½ çš„æ¯…åŠ›ä»¤äººé’¦ä½©ï¼\";\n      }\n      this.calculateYearBestStreak();\n      this.calculateBestMonth();\n      this.calculateBestQuarter();\n      this.calculateMonthlyProgress();\n    },\n    calculateYearlyHeatmap: function calculateYearlyHeatmap() {\n      var weekDays = [ \"å‘¨ä¸€\", \"å‘¨äºŒ\", \"å‘¨ä¸‰\", \"å‘¨å››\", \"å‘¨äº”\", \"å‘¨å…­\", \"å‘¨æ—¥\" ];\n      var startDate = new Date(this.selectedYear, 0, 1);\n      while (startDate.getDay() !== 1) {\n        startDate.setDate(startDate.getDate() - 1);\n      }\n      var heatmapData = Array(7).fill().map(function() {\n        return [];\n      });\n      for (var week = 0; week < 53; week++) {\n        for (var day = 0; day < 7; day++) {\n          var currentDate = new Date(startDate);\n          currentDate.setDate(startDate.getDate() + week * 7 + day);\n          var timestamp = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate()).getTime();\n          heatmapData[day].push({\n            date: currentDate,\n            isCompleted: this.habit.completed.includes(timestamp),\n            isInSelectedYear: currentDate.getFullYear() === this.selectedYear\n          });\n        }\n      }\n      this.yearlyHeatmap = {\n        weekDays: weekDays,\n        data: heatmapData\n      };\n    },\n    calculateInsights: function calculateInsights() {\n      var today = /*   */ new Date();\n      var startOfYear = new Date(this.selectedYear, 0, 1);\n      var endOfYear = this.selectedYear === this.currentYear ? today : new Date(this.selectedYear, 11, 31);\n      this.yearlyCount = this.getCompletedCountBetweenDates(startOfYear, endOfYear);\n      var yearDays = Math.floor((endOfYear - startOfYear) / (24 * 60 * 60 * 1e3)) + 1;\n      this.yearlyRate = Math.round(this.yearlyCount / yearDays * 100);\n      this.calculateYearBestStreak();\n      this.calculateBestMonth();\n      this.calculateBestQuarter();\n    },\n    calculateStreakRange: function calculateStreakRange() {\n      if (this.currentStreak === 0) {\n        this.streakDateRange = \"æš‚æ— è¿ç»­è®°å½•\";\n        return;\n      }\n      var endDate = this.isCurrentMonth() ? /*   */ new Date() : new Date(this.currentYear, this.getMonthIndex(this.currentMonth) + 1, 0);\n      var startDate = new Date(endDate);\n      startDate.setDate(endDate.getDate() - this.currentStreak + 1);\n      this.streakDateRange = \"\".concat(startDate.toLocaleDateString(), \" - \").concat(endDate.toLocaleDateString());\n    },\n    calculateMonthlyProgress: function calculateMonthlyProgress() {\n      var _this3 = this;\n      var monthCounts = Array(12).fill().map(function(_, index) {\n        var startOfMonth = new Date(_this3.selectedYear, index, 1);\n        var endOfMonth = new Date(_this3.selectedYear, index + 1, 0);\n        return _this3.habit.completed.filter(function(timestamp) {\n          var date = new Date(timestamp);\n          return date >= startOfMonth && date <= endOfMonth;\n        }).length;\n      });\n      var maxCount = Math.max.apply(Math, _toConsumableArray2(monthCounts).concat([ 1 ]));\n      this.monthlyProgress = monthCounts.map(function(count) {\n        var percentage = Math.round(count / maxCount * 100);\n        var isHighProgress = percentage > 80;\n        var gradient = \"linear-gradient(0deg, \".concat(isHighProgress ? \"#FFF4E5\" : \"#FF9F0A\", \" 0%, \").concat(isHighProgress ? \"#FF9F0A\" : \"#F29100\", \" 100%)\");\n        return {\n          count: count,\n          percentage: percentage,\n          gradient: gradient\n        };\n      });\n    },\n    toggleHabitCompletion: function toggleHabitCompletion(day) {\n      var _this4 = this;\n      var timestamp = new Date(day.date.getFullYear(), day.date.getMonth(), day.date.getDate()).getTime();\n      if (day.isFuture) {\n        uni.showToast({\n          title: \"æœªæ¥è¿˜æœªæ¥å“¦~\",\n          icon: \"none\",\n          duration: 1e3\n        });\n        return;\n      }\n      var habits = uni.getStorageSync(\"habits\") || [];\n      var habitIndex = habits.findIndex(function(h) {\n        return h.id === _this4.habit.id;\n      });\n      if (habitIndex === -1) {\n        return;\n      }\n      var completedIndex = habits[habitIndex].completed.indexOf(timestamp);\n      var today = /*   */ new Date();\n      var isRetroactive = !(day.date.getFullYear() === today.getFullYear() && day.date.getMonth() === today.getMonth() && day.date.getDate() === today.getDate());\n      if (completedIndex === -1) {\n        var currentDate = new Date(timestamp);\n        var currentMonthStart = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n        var currentMonthEnd = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);\n        var monthCompletions = this.habit.completed.filter(function(t) {\n          var date = new Date(t);\n          return date >= currentMonthStart && date <= currentMonthEnd;\n        }).length;\n        habits[habitIndex].completed.push(timestamp);\n        uni.setStorageSync(\"habits\", habits);\n        this.habit = habits[habitIndex];\n        this.generateCalendarDays();\n        this.calculateMonthlyStats();\n        this.calculateStats();\n        this.calculateAnalytics();\n        var monthNames = [ \"ä¸€\", \"äºŒ\", \"ä¸‰\", \"å››\", \"äº”\", \"å…­\", \"ä¸ƒ\", \"å…«\", \"ä¹\", \"å\", \"åä¸€\", \"åäºŒ\" ];\n        var monthLabel = monthNames[currentDate.getMonth()] + \"æœˆå®Œæˆ\";\n        if (!isRetroactive) {\n          this.showRewardCard = true;\n          this.rewardTitle = \"ä»Šæ—¥æ‰“å¡æˆåŠŸï¼\";\n          this.rewardMessage = \"\";\n          this.currentHabitInfo = {\n            id: this.habit.id,\n            name: this.habit.title,\n            icon: this.getCategoryIcon(this.habit.category),\n            color: this.getCategoryColor(this.habit.category),\n            timestamp: timestamp\n          };\n          this.rewardStats = {\n            count: monthCompletions,\n            // ä½¿ç”¨æ‰“å¡æœˆä»½çš„å®Œæˆæ¬¡æ•°\n            label: monthLabel\n          };\n        } else {\n          this.showRewardCard = true;\n          this.rewardTitle = \"æ‰“å¡æˆåŠŸï¼\";\n          this.rewardMessage = \"\";\n          this.currentHabitInfo = {\n            id: this.habit.id,\n            name: this.habit.title,\n            icon: this.getCategoryIcon(this.habit.category),\n            color: this.getCategoryColor(this.habit.category),\n            timestamp: timestamp\n          };\n          this.retroactiveInfo = {\n            retroTimestamp: timestamp,\n            saveTimestamp: Date.now()\n          };\n          this.rewardStats = {\n            count: monthCompletions,\n            // ä½¿ç”¨æ‰“å¡æœˆä»½çš„å®Œæˆæ¬¡æ•°\n            label: monthLabel\n          };\n        }\n      } else {\n        habits[habitIndex].completed.splice(completedIndex, 1);\n        uni.setStorageSync(\"habits\", habits);\n        this.habit = habits[habitIndex];\n        this.generateCalendarDays();\n        this.calculateMonthlyStats();\n        this.calculateStats();\n        this.calculateAnalytics();\n      }\n      uni.vibrateShort({\n        success: function success() {}\n      });\n    },\n    getCompletedCountBetweenDates: function getCompletedCountBetweenDates(startDate, endDate) {\n      return this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= startDate && date <= endDate;\n      }).length;\n    },\n    calculateYearBestStreak: function calculateYearBestStreak() {\n      var maxStreak = 0;\n      var currentStreak = 0;\n      var streakStartDate = null;\n      var bestStreakStartDate = null;\n      var yearStart = new Date(this.selectedYear, 0, 1);\n      var yearEnd = this.selectedYear === /*   */ new Date().getFullYear() ? /*   */ new Date() : new Date(this.selectedYear, 11, 31);\n      var yearCompletions = this.habit.completed.filter(function(timestamp) {\n        var date = new Date(timestamp);\n        return date >= yearStart && date <= yearEnd;\n      }).sort(function(a, b) {\n        return a - b;\n      });\n      for (var i = 0; i < yearCompletions.length; i++) {\n        var currentDate = new Date(yearCompletions[i]);\n        var nextDate = i < yearCompletions.length - 1 ? new Date(yearCompletions[i + 1]) : null;\n        if (currentStreak === 0) {\n          streakStartDate = currentDate;\n        }\n        if (nextDate && this.isConsecutiveDay(currentDate, nextDate)) {\n          currentStreak++;\n        } else {\n          currentStreak++;\n          if (currentStreak > maxStreak) {\n            maxStreak = currentStreak;\n            bestStreakStartDate = streakStartDate;\n          }\n          currentStreak = 0;\n        }\n      }\n      this.yearBestStreak = maxStreak;\n      if (bestStreakStartDate) {\n        var endDate = new Date(bestStreakStartDate);\n        endDate.setDate(endDate.getDate() + maxStreak - 1);\n        this.yearBestStreakDate = \"\".concat(bestStreakStartDate.toLocaleDateString(\"zh-CN\", {\n          month: \"long\",\n          day: \"numeric\"\n        }), \" - \").concat(endDate.toLocaleDateString(\"zh-CN\", {\n          month: \"long\",\n          day: \"numeric\"\n        }));\n      } else {\n        this.yearBestStreakDate = \"æš‚æ— è®°å½•\";\n      }\n    },\n    calculateBestMonth: function calculateBestMonth() {\n      var _this5 = this;\n      var monthCounts = Array(12).fill(0);\n      this.habit.completed.forEach(function(timestamp) {\n        var date = new Date(timestamp);\n        if (date.getFullYear() === _this5.selectedYear) {\n          monthCounts[date.getMonth()]++;\n        }\n      });\n      var maxCount = Math.max.apply(Math, _toConsumableArray2(monthCounts));\n      this.bestMonth = monthCounts.indexOf(maxCount) + 1;\n      this.bestMonthCount = maxCount;\n    },\n    calculateBestQuarter: function calculateBestQuarter() {\n      var _this6 = this;\n      var quarterCounts = [ 0, 0, 0, 0 ];\n      this.habit.completed.forEach(function(timestamp) {\n        var date = new Date(timestamp);\n        if (date.getFullYear() === _this6.selectedYear) {\n          var quarter = Math.floor(date.getMonth() / 3);\n          quarterCounts[quarter]++;\n        }\n      });\n      var maxCount = Math.max.apply(Math, quarterCounts);\n      this.bestQuarter = quarterCounts.indexOf(maxCount) + 1;\n      this.bestQuarterCount = maxCount;\n    },\n    formatDate: function formatDate(timestamp) {\n      var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"full\";\n      var date = new Date(timestamp);\n      if (format === \"date\") {\n        var year2 = date.getFullYear();\n        var month2 = date.getMonth() + 1;\n        var day2 = date.getDate();\n        return \"\".concat(year2, \".\").concat(month2, \".\").concat(day2);\n      }\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n      var hours = date.getHours().toString().padStart(2, \"0\");\n      var minutes = date.getMinutes().toString().padStart(2, \"0\");\n      return \"\".concat(year, \"å¹´\").concat(month, \"æœˆ\").concat(day, \"æ—¥ \").concat(hours, \":\").concat(minutes);\n    },\n    handleSaveNote: function handleSaveNote(_ref) {\n      var _this7 = this;\n      var timestamp = _ref.timestamp, content = _ref.content;\n      if (!this.habit.notes) return;\n      var habits = uni.getStorageSync(\"habits\") || [];\n      var habitIndex = habits.findIndex(function(h) {\n        return h.id === _this7.habit.id;\n      });\n      if (habitIndex === -1) return;\n      if (!habits[habitIndex].notes) {\n        habits[habitIndex].notes = [];\n      }\n      var today = /*   */ new Date();\n      var checkDate = new Date(timestamp);\n      var isRetroactive = !(checkDate.getFullYear() === today.getFullYear() && checkDate.getMonth() === today.getMonth() && checkDate.getDate() === today.getDate());\n      var newNote = {\n        timestamp: Date.now(),\n        // ä¿®æ”¹è¿™é‡Œï¼Œä½¿ç”¨å½“å‰æ—¶é—´æˆ³\n        content: content,\n        saveTimestamp: Date.now(),\n        retroactiveInfo: isRetroactive ? {\n          retroTimestamp: timestamp,\n          // ä¿ç•™åŸå§‹æ‰“å¡æ—¥æœŸ\n          saveTimestamp: Date.now()\n        } : null\n      };\n      habits[habitIndex].notes.push(newNote);\n      uni.setStorageSync(\"habits\", habits);\n      this.habit = habits[habitIndex];\n      uni.showToast({\n        title: \"å¿ƒå¾—å·²ä¿å­˜\",\n        icon: \"success\",\n        duration: 2e3\n      });\n      if (this.currentTab === \"notes\") {\n        this.$forceUpdate();\n      }\n    },\n    editNote: function editNote(index) {\n      var note = this.sortedNotes[index];\n      this.editingContent = note.content;\n      this.editingNoteIndex = index;\n      this.showEditModal = true;\n    },\n    deleteNote: function deleteNote(index) {\n      var _this8 = this;\n      uni.showModal({\n        title: \"ç¡®è®¤åˆ é™¤\",\n        content: \"ç¡®å®šè¦åˆ é™¤è¿™æ¡å¿ƒå¾—å—ï¼Ÿ\",\n        confirmColor: \"#FF3B30\",\n        success: function success(res) {\n          if (res.confirm) {\n            var habits = uni.getStorageSync(\"habits\") || [];\n            var habitIndex = habits.findIndex(function(h) {\n              return h.id === _this8.habit.id;\n            });\n            if (habitIndex === -1) return;\n            var noteToDelete = _this8.sortedNotes[index];\n            var originalNoteIndex = habits[habitIndex].notes.findIndex(function(note) {\n              return note.timestamp === noteToDelete.timestamp;\n            });\n            if (originalNoteIndex !== -1) {\n              habits[habitIndex].notes.splice(originalNoteIndex, 1);\n              uni.setStorageSync(\"habits\", habits);\n              _this8.habit = habits[habitIndex];\n              uni.showToast({\n                title: \"å·²åˆ é™¤\",\n                icon: \"success\",\n                duration: 2e3\n              });\n            }\n          }\n        }\n      });\n    },\n    saveEditedNote: function saveEditedNote() {\n      var _this9 = this;\n      if (!this.editingContent.trim()) {\n        uni.showToast({\n          title: \"å¿ƒå¾—å†…å®¹ä¸èƒ½ä¸ºç©º\",\n          icon: \"none\"\n        });\n        return;\n      }\n      var habits = uni.getStorageSync(\"habits\") || [];\n      var habitIndex = habits.findIndex(function(h) {\n        return h.id === _this9.habit.id;\n      });\n      if (habitIndex === -1) return;\n      var originalNote = this.sortedNotes[this.editingNoteIndex];\n      var noteIndex = habits[habitIndex].notes.findIndex(function(note) {\n        return note.timestamp === originalNote.timestamp;\n      });\n      if (noteIndex !== -1) {\n        habits[habitIndex].notes[noteIndex] = _objectSpread2(_objectSpread2({}, originalNote), {}, {\n          content: this.editingContent,\n          lastEditTime: Date.now()\n        });\n        uni.setStorageSync(\"habits\", habits);\n        this.habit = habits[habitIndex];\n        uni.showToast({\n          title: \"å·²ä¿å­˜\",\n          icon: \"success\",\n          duration: 2e3\n        });\n        this.showEditModal = false;\n        this.editingContent = \"\";\n        this.editingNoteIndex = -1;\n      }\n    },\n    showNoteActionSheet: function showNoteActionSheet(index) {\n      var _this10 = this;\n      uni.showActionSheet({\n        itemList: [ \"ç¼–è¾‘\", \"åˆ é™¤\" ],\n        itemColor: \"#007AFF\",\n        success: function success(res) {\n          if (res.tapIndex === 0) {\n            _this10.editNote(index);\n          } else if (res.tapIndex === 1) {\n            _this10.deleteNote(index);\n          }\n        }\n      });\n    },\n    handleFlagLongPress: function handleFlagLongPress() {\n      uni.vibrateShort({\n        success: function success() {}\n      });\n    },\n    initPetalsCanvas: function initPetalsCanvas() {\n      var _this11 = this;\n      var query = uni.createSelectorQuery().in(this);\n      query.select(\"#petalsCanvas\").fields({\n        node: true,\n        size: true\n      }).exec(function(res) {\n        var canvas = res[0];\n        if (!canvas) {\n          uni.__f__(\"error\", \"at pages/habit-stats/habit-stats.vue:1392\", \"Canvas not found\");\n          return;\n        }\n        var ctx = canvas.context;\n        _this11.canvasContext = ctx;\n        uni.getWindowInfo().pixelRatio;\n        _this11.canvasWidth = canvas.width;\n        _this11.canvasHeight = canvas.height;\n        _this11.initPetals();\n        _this11.startPetalsAnimation();\n      });\n    },\n    initPetals: function initPetals() {\n      this.petals = [];\n      for (var i = 0; i < 50; i++) {\n        this.petals.push({\n          x: Math.random() * this.canvasWidth,\n          y: -20 - Math.random() * 100,\n          // ä»å±å¹•ä¸Šæ–¹å¼€å§‹\n          size: 10 + Math.random() * 20,\n          speed: 2 + Math.random() * 3,\n          angle: Math.random() * 360,\n          rotationSpeed: (Math.random() - .5) * 4,\n          color: this.getRandomPetalColor(),\n          opacity: .6 + Math.random() * .4\n        });\n      }\n    },\n    getRandomPetalColor: function getRandomPetalColor() {\n      var colors = [ \"$theme-color\",\n        // ä¸»é¢˜è‰²\n        \"#FFB340\",\n        // æµ…è‰²å˜ä½“\n        \"#FF8500\",\n        // æ·±è‰²å˜ä½“\n        \"#FFCB45\",\n        // é‡‘è‰²\n        \"#FFE4B5\" ];\n      return colors[Math.floor(Math.random() * colors.length)];\n    },\n    startPetalsAnimation: function startPetalsAnimation() {\n      var _this12 = this;\n      if (this.animationFrameId) ;\n      var _animate = function animate() {\n        if (!_this12.showPetals) {\n          return;\n        }\n        _this12.canvasContext.clearRect(0, 0, _this12.canvasWidth, _this12.canvasHeight);\n        var allPetalsFallen = true;\n        _this12.petals.forEach(function(petal) {\n          petal.y += petal.speed;\n          petal.x += Math.sin(petal.angle * Math.PI / 180) * .5;\n          petal.angle += petal.rotationSpeed;\n          _this12.canvasContext.save();\n          _this12.canvasContext.translate(petal.x, petal.y);\n          _this12.canvasContext.rotate(petal.angle * Math.PI / 180);\n          _this12.canvasContext.globalAlpha = petal.opacity;\n          _this12.canvasContext.beginPath();\n          _this12.canvasContext.fillStyle = petal.color;\n          _this12.drawPetal(0, 0, petal.size);\n          _this12.canvasContext.fill();\n          _this12.canvasContext.restore();\n          if (petal.y < _this12.canvasHeight + petal.size) {\n            allPetalsFallen = false;\n          }\n        });\n        if (allPetalsFallen) {\n          _this12.showPetals = false;\n          return;\n        }\n        _this12.animationFrameId = setTimeout(function() {\n          _animate();\n        }, 16);\n      };\n      _animate();\n    },\n    drawPetal: function drawPetal(x, y, size) {\n      this.canvasContext.moveTo(x, y);\n      this.canvasContext.bezierCurveTo(x - size / 2, y - size / 2, x - size, y + size / 3, x, y + size);\n      this.canvasContext.bezierCurveTo(x + size, y + size / 3, x + size / 2, y - size / 2, x, y);\n    },\n    handleSearch: function handleSearch() {},\n    clearSearch: function clearSearch() {\n      this.searchQuery = \"\";\n    },\n    handleDateChange: function handleDateChange(e) {\n      this.selectedDate = e.detail.value;\n    },\n    clearDate: function clearDate() {\n      this.selectedDate = \"\";\n    },\n    switchDateMode: function switchDateMode(mode) {\n      this.currentDateMode = mode;\n      this.selectedDate = \"\";\n    },\n    formatSelectedDate: function formatSelectedDate(mode) {\n      if (!this.selectedDate) {\n        switch (mode) {\n          case \"year\":\n            return \"é€‰æ‹©å¹´ä»½\";\n\n          case \"month\":\n            return \"é€‰æ‹©å¹´æœˆ\";\n\n          case \"date\":\n            return \"é€‰æ‹©æ—¥æœŸ\";\n\n          default:\n            return \"é€‰æ‹©æ—¥æœŸ\";\n        }\n      }\n      var date = new Date(this.selectedDate);\n      switch (mode) {\n        case \"year\":\n          return \"\".concat(date.getFullYear(), \"å¹´\");\n\n        case \"month\":\n          return \"\".concat(date.getFullYear(), \"å¹´\").concat(date.getMonth() + 1, \"æœˆ\");\n\n        case \"date\":\n          return \"\".concat(date.getFullYear(), \"å¹´\").concat(date.getMonth() + 1, \"æœˆ\").concat(date.getDate(), \"æ—¥\");\n\n        default:\n          return this.selectedDate;\n      }\n    },\n    showCellDate: function showCellDate(day, cellIndex) {\n      var _this13 = this;\n      if (this.lastClickedCell) {\n        this.lastClickedCell.showDate = false;\n      }\n      var cell = this.yearlyHeatmap.data[day][cellIndex];\n      cell.showDate = true;\n      this.lastClickedCell = cell;\n      if (this.dateShowTimer) {\n        clearTimeout(this.dateShowTimer);\n      }\n      this.dateShowTimer = setTimeout(function() {\n        cell.showDate = false;\n        _this13.lastClickedCell = null;\n      }, 2e3);\n    }\n  }\n});\n</script>\n<style lang=\"scss\">\n.container {\n  background-color: #fff;\n  box-sizing: border-box;\n  color: #2c3e50;\n  height: auto;\n  padding: 20rpx 40rpx;\n}\n\n.tab-switch {\n  display: flex;\n  gap: 20rpx;\n  justify-content: center;\n  margin: 20rpx 0 30rpx;\n}\n\n.tab-switch .tab-item {\n  background: #edf0f5;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n  padding: 20rpx 40rpx;\n  transition: all .3s ease;\n}\n\n.tab-switch .tab-item.active {\n  background: #ff9f0a;\n  color: #fff;\n}\n\n.calendar-section {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  margin-top: 20rpx;\n  padding: 30rpx;\n}\n\n.calendar-section .month-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 30rpx;\n}\n\n.calendar-section .month-header .month-title {\n  color: #5c6b7a;\n  font-size: 28rpx;\n}\n\n.calendar-section .month-header .month-controls {\n  display: flex;\n  gap: 20rpx;\n}\n\n.calendar-section .month-header .month-controls .arrow {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 30rpx;\n  display: flex;\n  height: 60rpx;\n  justify-content: center;\n  width: 60rpx;\n}\n\n.heatmap-section {\n  margin-top: 30rpx;\n}\n\n.heatmap-section .stats-grid {\n  display: grid;\n  gap: 20rpx;\n  grid-template-columns: 1fr;\n  margin-top: 20rpx;\n}\n\n.heatmap-section .stats-grid .stat-card {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  display: flex;\n  gap: 20rpx;\n  padding: 20rpx;\n  transition: all .2s ease;\n}\n\n.heatmap-section .stats-grid .stat-card:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n  transform: scale(.98);\n}\n\n.heatmap-section .stats-grid .stat-card .stat-icon {\n  align-items: center;\n  background: rgba(255,159,10,.1);\n  border-radius: 40rpx;\n  display: flex;\n  font-size: 32rpx;\n  height: 80rpx;\n  justify-content: center;\n  width: 80rpx;\n}\n\n.heatmap-section .stats-grid .stat-card .stat-content {\n  flex: 1;\n}\n\n.heatmap-section .stats-grid .stat-card .stat-content .stat-value {\n  color: #2c3e50;\n  display: block;\n  font-size: 36rpx;\n  font-weight: 700;\n}\n\n.heatmap-section .stats-grid .stat-card .stat-content .stat-label {\n  color: #5c6b7a;\n  display: block;\n  font-size: 24rpx;\n  margin-top: 4rpx;\n}\n\n.flame-animation {\n  height: 300rpx;\n  margin-top: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.flame-animation .flame-canvas {\n  background: transparent;\n  height: 100%;\n  width: 100%;\n}\n\n.analytics-section {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  margin-top: 20rpx;\n  padding: 30rpx;\n}\n\n.analytics-section .section-title {\n  color: #5c6b7a;\n  font-size: 28rpx;\n}\n\n.analytics-section .card-container,.analytics-section .insights-section .insights-container,.analytics-section .streak-section .streak-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  width: 100%;\n}\n\n.analytics-section .yearly-section {\n  margin-top: 30rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container {\n  -webkit-overflow-scrolling: touch;\n  background: #edf0f5;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  margin-top: 20rpx;\n  overflow-x: auto;\n  padding: 20rpx;\n  transition: all .2s ease;\n  width: 100%;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container::-webkit-scrollbar {\n  height: 6rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container::-webkit-scrollbar-thumb {\n  background: #8c9baa;\n  border-radius: 5rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container::-webkit-scrollbar-track {\n  background: #edf0f5;\n  border-radius: 0 0 20rpx 20rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap {\n  display: grid;\n  gap: 10rpx;\n  grid-template-rows: repeat(7,1fr);\n  height: 240rpx;\n  margin-left: 20rpx;\n  padding-bottom: 10rpx;\n  padding-top: 10rpx;\n  position: relative;\n  scroll-behavior: smooth;\n  touch-action: pan-x;\n  width: 200%;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .weekday-labels {\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 5rpx;\n  height: calc(100% - 6rpx);\n  justify-content: space-around;\n  left: -20rpx;\n  padding: 4rpx 0;\n  position: absolute;\n  top: -4rpx;\n  z-index: 2;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .weekday-labels .weekday-label {\n  color: #5c6b7a;\n  font-size: 20rpx;\n  height: 24rpx;\n  line-height: 20rpx;\n  text-align: center;\n  width: 40rpx;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row {\n  display: flex;\n  gap: 10rpx;\n  padding-left: 30rpx;\n  position: relative;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell {\n  align-items: center;\n  aspect-ratio: 1;\n  background: rgba(255,159,10,.1);\n  border-radius: 4rpx;\n  color: #5c6b7a;\n  display: flex;\n  font-size: 16rpx;\n  justify-content: center;\n  position: relative;\n  transition: transform .2s ease;\n  transition: transform .2s ease,-webkit-transform .2s ease;\n  width: 100%;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell::before {\n  background: #f5f7fa;\n  border-radius: 8rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0,0,0,.1);\n  color: #2c3e50;\n  content: attr(data-date);\n  font-size: 20rpx;\n  left: 50%;\n  opacity: 0;\n  padding: 8rpx 12rpx;\n  pointer-events: none;\n  position: absolute;\n  top: -60rpx;\n  transform: translateX(-50%);\n  transition: opacity .2s ease;\n  white-space: nowrap;\n  z-index: 9999;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.show-date::before {\n  opacity: 1;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell:active {\n  transform: scale(.95);\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.completed {\n  background: #ff9f0a;\n  box-shadow: 0 0 8rpx rgba(255,159,10,.3);\n  color: #fff;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.completed:active {\n  transform: scale(.95);\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.out-of-year {\n  opacity: .5;\n}\n\n.analytics-section .yearly-section .yearly-heatmap-container .yearly-heatmap .heatmap-row .heatmap-cell.first-day::after {\n  content: \"1\";\n  font-size: 16rpx;\n  font-weight: 700;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%,-50%);\n}\n\n.analytics-section .insights-section .insights-container {\n  margin-top: 20rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  display: flex;\n  flex-direction: row;\n  padding: 40rpx;\n  transition: all .2s ease;\n}\n\n.analytics-section .insights-section .insights-container .main-card:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n  transform: scale(.98);\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress {\n  --progress: calc(var(--percentage) * 1%);\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 50%;\n  box-shadow: 0 0 20rpx rgba(255,159,10,.15);\n  display: flex;\n  flex-shrink: 0;\n  height: 160rpx;\n  justify-content: center;\n  margin-right: 40rpx;\n  position: relative;\n  transform: rotate(-90deg);\n  width: 160rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress::before {\n  background: linear-gradient(45deg,transparent,rgba(255,244,229,.1));\n  border-radius: 50%;\n  bottom: -4rpx;\n  content: \"\";\n  filter: blur(4rpx);\n  left: -4rpx;\n  position: absolute;\n  right: -4rpx;\n  top: -4rpx;\n  z-index: -1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress::after {\n  background: conic-gradient(from -90deg,#ff9f0a 0,#ff9f0a var(--progress),rgba(255,159,10,.2) var(--progress),transparent var(--progress));\n  border-radius: 50%;\n  content: \"\";\n  filter: drop-shadow(0 0 8rpx rgba(255,244,229,.6));\n  inset: 0;\n  mask: radial-gradient(farthest-side,transparent calc(100% - 16rpx),#000 calc(100% - 16rpx));\n  position: absolute;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .progress-track {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.3) var(--progress),transparent var(--progress));\n  border-radius: 50%;\n  content: \"\";\n  filter: blur(4rpx);\n  inset: 0;\n  position: absolute;\n  z-index: -1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .progress-glow {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.8) var(--progress),transparent var(--progress));\n  border-radius: 50%;\n  filter: blur(8rpx);\n  inset: -2rpx;\n  opacity: .4;\n  position: absolute;\n  z-index: -1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 50%;\n  box-shadow: inset 0 0 20rpx hsla(0,0%,100%,.3);\n  display: flex;\n  flex-direction: column;\n  height: 120rpx;\n  justify-content: center;\n  position: relative;\n  transform: rotate(90deg);\n  width: 120rpx;\n  z-index: 1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle::before {\n  background: linear-gradient(135deg,#edf0f5,#f5f7fa);\n  border-radius: 50%;\n  content: \"\";\n  inset: 4rpx;\n  position: absolute;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle .insight-number {\n  color: #2c3e50;\n  font-size: 40rpx;\n  font-weight: 700;\n  line-height: 1;\n  position: relative;\n  text-shadow: 0 0 10rpx rgba(255,159,10,.1);\n  z-index: 1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .circle-progress .inner-circle .insight-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 4rpx;\n  position: relative;\n  z-index: 1;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-period {\n  color: #2c3e50;\n  font-size: 32rpx;\n  margin-bottom: 8rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-rate {\n  color: #ff9f0a;\n  font-size: 56rpx;\n  font-weight: 700;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-details {\n  margin-top: 12rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-details .detail-text {\n  color: #5c6b7a;\n  display: block;\n  font-size: 24rpx;\n  margin-bottom: 4rpx;\n}\n\n.analytics-section .insights-section .insights-container .main-card .insight-info .insight-details .detail-explanation {\n  color: #8c9baa;\n  font-size: 22rpx;\n  line-height: 1.4;\n}\n\n.analytics-section .streak-section {\n  margin-bottom: 30rpx;\n}\n\n.analytics-section .streak-section .streak-card .streak-content {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-bottom: 12rpx;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-number {\n  color: #ff9f0a;\n  font-size: 64rpx;\n  font-weight: 700;\n  line-height: 1.2;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-number .streak-unit {\n  font-size: 32rpx;\n  font-weight: 400;\n  margin-left: 8rpx;\n}\n\n.analytics-section .streak-section .streak-card .streak-content .streak-date {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 12rpx;\n}\n\n.analytics-section .monthly-progress .months-grid {\n  align-items: flex-end;\n  background: #edf0f5;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  display: flex;\n  height: 300rpx;\n  justify-content: space-between;\n  margin-top: 20rpx;\n  overflow: hidden;\n  padding: 40rpx 20rpx 80rpx;\n  position: relative;\n  transition: all .2s ease;\n}\n\n.analytics-section .monthly-progress .months-grid:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n}\n\n.analytics-section .monthly-progress .months-grid::before {\n  background: linear-gradient(180deg,#edf0f5,transparent);\n  content: \"\";\n  height: 60rpx;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 1;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column {\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  height: 100%;\n  position: relative;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container {\n  align-items: flex-end;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  padding: 0 4rpx;\n  position: relative;\n  width: 100%;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container::before {\n  background: rgba(255,159,10,.2);\n  border-radius: 2rpx;\n  bottom: 0;\n  content: \"\";\n  height: 4rpx;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n  width: 40rpx;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar {\n  background: var(--bar-gradient);\n  border-radius: 10rpx;\n  box-shadow: 0 0 10rpx rgba(255,159,10,.15);\n  min-height: 4rpx;\n  position: relative;\n  transition: all .3s cubic-bezier(.4,0,.2,1);\n  width: 20rpx;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar::after {\n  color: #2c3e50;\n  content: attr(data-count);\n  font-size: 20rpx;\n  left: 50%;\n  opacity: 0;\n  position: absolute;\n  top: -30rpx;\n  transform: translateX(-50%);\n  transition: all .3s ease;\n  white-space: nowrap;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar:hover::after {\n  opacity: 1;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar .progress-glow {\n  background: linear-gradient(180deg,transparent,rgba(255,159,10,.3));\n  border-radius: 10rpx;\n  bottom: 0;\n  filter: blur(4rpx);\n  height: 60%;\n  left: 0;\n  opacity: 0;\n  position: absolute;\n  right: 0;\n  transition: opacity .3s ease;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.high-progress {\n  box-shadow: 0 0 20rpx rgba(255,244,229,.6);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.high-progress::after {\n  color: #2c3e50;\n  text-shadow: 0 0 8rpx rgba(255,244,229,.5);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.high-progress .progress-glow {\n  background: linear-gradient(180deg,transparent,rgba(255,244,229,.4));\n  opacity: 1;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.medium-progress {\n  box-shadow: 0 0 15rpx rgba(255,159,10,.4);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.medium-progress::after {\n  color: #2c3e50;\n  text-shadow: 0 0 8rpx rgba(255,159,10,.4);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.medium-progress .progress-glow {\n  opacity: .7;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.low-progress::after {\n  color: #2c3e50;\n  text-shadow: 0 0 8rpx rgba(255,159,10,.3);\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .bar-container .progress-bar.low-progress .progress-glow {\n  opacity: .4;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .month-label {\n  align-items: center;\n  bottom: -60rpx;\n  color: #5c6b7a;\n  display: flex;\n  flex-direction: column;\n  font-size: 24rpx;\n  line-height: 1.2;\n  position: absolute;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column .month-label::before {\n  color: #8c9baa;\n  content: attr(data-month);\n  font-size: 26rpx;\n  margin-bottom: 4rpx;\n}\n\n.analytics-section .monthly-progress .months-grid .month-column:hover .progress-bar::after {\n  opacity: 1;\n}\n\n.calendar-grid {\n  background: transparent;\n  border-radius: 0;\n  margin-top: 10rpx;\n  padding: 0;\n}\n\n.calendar-grid .weekday-row {\n  display: grid;\n  gap: 10rpx;\n  grid-template-columns: repeat(7,1fr);\n  margin-bottom: 10rpx;\n  margin-top: -10rpx;\n}\n\n.calendar-grid .weekday-row .weekday {\n  color: #5c6b7a;\n  font-size: 22rpx;\n  padding: 6rpx 4rpx;\n  text-align: center;\n}\n\n.calendar-grid .days-grid {\n  display: grid;\n  gap: 10rpx;\n  grid-template-columns: repeat(7,1fr);\n}\n\n.calendar-grid .days-grid .day-cell {\n  align-items: center;\n  aspect-ratio: 1;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  font-size: 24rpx;\n  justify-content: center;\n  position: relative;\n  transition: all .2s ease;\n}\n\n.calendar-grid .days-grid .day-cell:active {\n  opacity: .8;\n  transform: scale(.95);\n}\n\n.calendar-grid .days-grid .day-cell.completed {\n  animation: complete-animation .5s cubic-bezier(.4,0,.2,1);\n  background: #ff9f0a;\n  box-shadow: 0 0 15rpx rgba(255,159,10,.15);\n  color: #fff;\n}\n\n.calendar-grid .days-grid .day-cell.completed:not(:active) {\n  animation: none;\n}\n\n.calendar-grid .days-grid .day-cell.today {\n  border: 2rpx solid #ff9f0a;\n}\n\n.calendar-grid .days-grid .day-cell.future {\n  opacity: .5;\n  pointer-events: none;\n}\n\n.streak-section {\n  margin-bottom: 30rpx;\n}\n\n.streak-section .streak-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  padding: 30rpx;\n}\n\n.streak-section .streak-card .streak-content {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.streak-section .streak-card .streak-content .streak-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-bottom: 12rpx;\n}\n\n.streak-section .streak-card .streak-content .streak-number {\n  color: #ff9f0a;\n  font-size: 64rpx;\n  font-weight: 700;\n  line-height: 1.2;\n}\n\n.streak-section .streak-card .streak-content .streak-number .streak-unit {\n  font-size: 32rpx;\n  font-weight: 400;\n  margin-left: 8rpx;\n}\n\n.streak-section .streak-card .streak-content .streak-date {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 12rpx;\n}\n\n.calendar-section .month-header {\n  margin-top: 10rpx;\n}\n\n.year-switcher {\n  gap: 40rpx;\n  padding: 20rpx;\n  position: relative;\n}\n\n.year-switcher,.year-switcher .year-button {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.year-switcher .year-button {\n  background: #edf0f5;\n  border-radius: 50%;\n  height: 80rpx;\n  transition: all .2s ease;\n  width: 80rpx;\n}\n\n.year-switcher .year-button:active {\n  opacity: .8;\n  transform: scale(.95);\n}\n\n.year-switcher .year-button .year-button-icon {\n  color: #ff9f0a;\n  font-size: 32rpx;\n}\n\n.year-switcher .year-button.disabled {\n  opacity: .3;\n  pointer-events: none;\n}\n\n.year-switcher .year-display {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  flex-direction: column;\n  min-width: 240rpx;\n  padding: 20rpx 60rpx;\n}\n\n.year-switcher .year-display .year-number {\n  color: #ff9f0a;\n  font-size: 48rpx;\n  font-weight: 700;\n  line-height: 1.2;\n}\n\n.year-switcher .year-display .year-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n  margin-top: 4rpx;\n}\n\n.yearly-best {\n  margin-top: 30rpx;\n}\n\n.yearly-best .section-subtitle {\n  color: #5c6b7a;\n  display: block;\n  font-size: 28rpx;\n  margin-bottom: 20rpx;\n}\n\n.yearly-best .best-grid {\n  display: grid;\n  gap: 20rpx;\n  grid-template-columns: repeat(3,1fr);\n}\n\n.yearly-best .best-grid .best-card {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  display: flex;\n  gap: 16rpx;\n  padding: 20rpx;\n}\n\n.yearly-best .best-grid .best-card .best-icon {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 40rpx;\n  display: flex;\n  font-size: 36rpx;\n  height: 80rpx;\n  justify-content: center;\n  width: 80rpx;\n}\n\n.yearly-best .best-grid .best-card .best-content {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n}\n\n.yearly-best .best-grid .best-card .best-content .best-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.yearly-best .best-grid .best-card .best-content .best-value {\n  color: #ff9f0a;\n  font-size: 32rpx;\n  font-weight: 700;\n  margin: 4rpx 0;\n}\n\n.yearly-best .best-grid .best-card .best-content .best-date {\n  color: #5c6b7a;\n  font-size: 20rpx;\n}\n\n@-webkit-keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n.overall-button {\n  align-items: center;\n  background: #4b9dff;\n  border-radius: 12rpx;\n  color: #2c3e50;\n  display: flex;\n  justify-content: space-between;\n  margin: 20rpx;\n  padding: 20rpx 30rpx;\n}\n\n.button-text {\n  font-size: 28rpx;\n  font-weight: 700;\n}\n\n.button-icon {\n  font-size: 32rpx;\n}\n\n.notes-section {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  margin-top: 20rpx;\n  padding: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.notes-section .notes-list {\n  box-sizing: border-box;\n  margin: 0 auto;\n  width: 100%;\n}\n\n.notes-section .notes-list .note-card {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.05),0 2rpx 8rpx rgba(0,0,0,.02);\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  padding: 30rpx;\n  transition: all .2s ease;\n  width: 100%;\n}\n\n.notes-section .notes-list .note-card:active {\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,.03),0 1rpx 4rpx rgba(0,0,0,.01);\n  transform: scale(.98);\n}\n\n.notes-section .notes-list .note-card .note-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 16rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .note-date {\n  color: #8c9baa;\n  font-size: 24rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .retroactive-badge {\n  align-items: center;\n  background: rgba(255,159,10,.1);\n  border-radius: 8rpx;\n  display: flex;\n  margin-left: 90rpx;\n  padding: 4rpx 12rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .retroactive-badge .badge-icon {\n  font-size: 24rpx;\n  margin-right: 4rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .retroactive-badge .badge-text {\n  color: #ff9f0a;\n  font-size: 20rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .more-actions {\n  padding: 0 10rpx;\n}\n\n.notes-section .notes-list .note-card .note-header .more-actions .more-icon {\n  color: #8c9baa;\n  font-size: 32rpx;\n}\n\n.notes-section .notes-list .note-card .note-content {\n  color: #2c3e50;\n  font-size: 28rpx;\n  line-height: 1.6;\n}\n\n.notes-section .empty-notes {\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  padding: 40rpx;\n  width: 100%;\n}\n\n.notes-section .empty-notes .empty-icon {\n  font-size: 80rpx;\n  margin-bottom: 20rpx;\n}\n\n.notes-section .empty-notes .empty-message {\n  color: rgba(44,62,80,.6);\n  font-size: 28rpx;\n  max-width: 400rpx;\n  text-align: center;\n}\n\n.edit-modal {\n  align-items: center;\n  background: rgba(0,0,0,.4);\n  bottom: 0;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  left: 0;\n  padding: 30rpx;\n  position: fixed;\n  right: 0;\n  top: 0;\n  z-index: 1000;\n}\n\n.edit-modal .modal-content {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-shadow: 0 8rpx 24rpx rgba(255,159,10,.3);\n  max-width: 600rpx;\n  padding: 40rpx;\n  position: relative;\n  transform: translateY(-5%);\n  width: 90%;\n}\n\n.edit-modal .modal-content .modal-header {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 40rpx;\n}\n\n.edit-modal .modal-content .modal-header .modal-title {\n  color: #2c3e50;\n  font-size: 32rpx;\n  font-weight: 600;\n}\n\n.edit-modal .modal-content .modal-header .close-btn {\n  color: #5c6b7a;\n  cursor: pointer;\n  font-size: 32rpx;\n}\n\n.edit-modal .modal-content .edit-textarea {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-sizing: border-box;\n  color: #2c3e50;\n  font-size: 32rpx;\n  height: 360rpx;\n  line-height: 1.6;\n  margin-bottom: 30rpx;\n  padding: 30rpx;\n  width: 100%;\n}\n\n.edit-modal .modal-content .modal-footer {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20rpx;\n}\n\n.edit-modal .modal-content .modal-footer .counter {\n  color: #5c6b7a;\n  font-size: 28rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons {\n  display: flex;\n  gap: 20rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons .cancel-btn {\n  background: transparent;\n  border-radius: 20rpx;\n  color: #5c6b7a;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.edit-modal .modal-content .modal-footer .modal-buttons .save-btn {\n  background: #ff9f0a;\n  border-radius: 20rpx;\n  color: #fff;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.heatmap-cell {\n  align-items: center;\n  aspect-ratio: 1;\n  background: rgba(255,159,10,.1);\n  border-radius: 4rpx;\n  color: #5c6b7a;\n  display: flex;\n  font-size: 16rpx;\n  justify-content: center;\n  position: relative;\n  transition: transform .2s ease;\n  transition: transform .2s ease,-webkit-transform .2s ease;\n  width: 100%;\n}\n\n.heatmap-cell::before {\n  background: #f5f7fa;\n  border-radius: 8rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0,0,0,.1);\n  color: #2c3e50;\n  content: attr(data-date);\n  font-size: 20rpx;\n  left: 50%;\n  opacity: 0;\n  padding: 8rpx 12rpx;\n  pointer-events: none;\n  position: absolute;\n  top: -60rpx;\n  transform: translateX(-50%);\n  transition: opacity .2s ease;\n  white-space: nowrap;\n  z-index: 9999;\n}\n\n.heatmap-cell.show-date::before {\n  opacity: 1;\n}\n\n.heatmap-cell:active {\n  transform: scale(.95);\n}\n\n.heatmap-cell.completed {\n  background: #ff9f0a;\n  box-shadow: 0 0 8rpx rgba(255,159,10,.3);\n  color: #fff;\n}\n\n.heatmap-cell.completed:active {\n  transform: scale(.95);\n}\n\n.heatmap-cell.out-of-year {\n  opacity: .5;\n}\n\n.heatmap-cell.first-day::after {\n  content: \"1\";\n  font-size: 16rpx;\n  font-weight: 700;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  transform: translate(-50%,-50%);\n}\n\n.search-section {\n  margin-bottom: 30rpx;\n}\n\n.search-section .date-filter {\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  gap: 16rpx;\n  margin-bottom: 20rpx;\n  width: 100%;\n}\n\n.search-section .date-filter .date-mode-selector {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  flex: none;\n  padding: 4rpx;\n  width: 30%;\n}\n\n.search-section .date-filter .date-mode-selector .mode-item {\n  border-radius: 12rpx;\n  color: #2c3e50;\n  flex: 1;\n  font-size: 26rpx;\n  padding: 12rpx 0;\n  text-align: center;\n  transition: all .3s ease;\n}\n\n.search-section .date-filter .date-mode-selector .mode-item.active {\n  background: #ff9f0a;\n  color: #fff;\n}\n\n.search-section .date-filter .date-pickers {\n  gap: 16rpx;\n  width: 70%;\n}\n\n.search-section .date-filter .date-pickers,.search-section .date-filter .date-pickers .date-picker {\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n}\n\n.search-section .date-filter .date-pickers .date-picker {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  flex: 1;\n  padding: 10rpx 24rpx;\n}\n\n.search-section .date-filter .date-pickers .date-picker .date-text {\n  color: #2c3e50;\n  font-size: 26rpx;\n}\n\n.search-section .date-filter .date-pickers .date-picker .calendar-icon {\n  font-size: 32rpx;\n}\n\n.search-section .date-filter .date-pickers .clear-date {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  color: #5c6b7a;\n  flex: none;\n  font-size: 26rpx;\n  opacity: .5;\n  padding: 13rpx 24rpx;\n  text-align: center;\n  transition: all .3s ease;\n  width: auto;\n}\n\n.search-section .date-filter .date-pickers .clear-date.active {\n  color: #2c3e50;\n  cursor: pointer;\n  opacity: 1;\n}\n\n.search-section .date-filter .date-pickers .clear-date.active:active {\n  opacity: .8;\n}\n\n.search-section .search-bar {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  display: flex;\n  padding: 10rpx;\n}\n\n.search-section .search-bar .search-icon {\n  font-size: 32rpx;\n  margin-right: 20rpx;\n}\n\n.search-section .search-bar .search-input {\n  background: transparent;\n  color: #2c3e50;\n  flex: 1;\n  font-size: 28rpx;\n  height: 12rpx;\n}\n\n.search-section .search-bar .clear-icon {\n  color: #5c6b7a;\n  font-size: 40rpx;\n  padding: 0 20rpx;\n}\n\n@-webkit-keyframes flame {\n  0% {\n    transform: translateX(-50%) scale(1);\n  }\n\n  100% {\n    transform: translateX(-50%) scale(1.2);\n  }\n}\n\n@keyframes flame {\n  0% {\n    transform: translateX(-50%) scale(1);\n  }\n\n  100% {\n    transform: translateX(-50%) scale(1.2);\n  }\n}\n\n.flag-banner::before {\n  background: linear-gradient(90deg,transparent,#ff9f0a,transparent);\n}\n\n.flag-banner .flag-text {\n  color: #ff9f0a;\n}\n\n.circle-progress::after {\n  background: conic-gradient(from -90deg,#f29100 0,#fff4e5 var(--progress),rgba(255,159,10,.2) var(--progress),transparent var(--progress));\n}\n\n.circle-progress .progress-track {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.3) var(--progress),transparent var(--progress));\n}\n\n.circle-progress .progress-glow {\n  background: conic-gradient(from -90deg,rgba(255,244,229,.8) var(--progress),transparent var(--progress));\n}\n\n.insight-rate {\n  color: #ff9f0a;\n}\n</style>","import MiniProgramPage from '/Users/linsir/Experiments/uni-app/test-3/test-3/pages/habit-stats/habit-stats.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}