{"version":3,"names":["RewardCard","ConvCard","_sfc_main","common_vendor","defineComponent","components","data","nickname","weekDays","habits","currentYear","currentMonth","yearWeek","showRewardCard","rewardTitle","rewardMessage","rewardStats","currentHabit","isNoInteraction","touchStartX","touchStartTime","translateX","isOrderMode","flippedCards","expandedCards","hours","minutes","seconds","timer","showConvCard","aiMessage","content","currentMessageIndex","default_message_list","emoji","userInfo","ai_character_name","computed","getTodayCompletedCount","today","Date","todayYear","getFullYear","todayMonth","getMonth","filter","habit","completed","Array","isArray","some","dateStr","completedDate","getDate","todayDate","length","currentStreak","perfectDays","includes","currentDate","getTime","getTodayCompletionRate","streak","setDate","prevDateStr","watch","handler","newRate","todayStr","push","index","showToast","title","icon","methods","handleAiMessageClick","_this","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","message","res","wrap","_callee$","_context","prev","next","replace","utils_api","apiService","getLastMessage","sent","status","t0","navigateTo","url","loadUserInfo","getStorageSync","error","__f__","map","_objectSpread2","color","isCompletedForDay","dayIndex","targetYear","targetDate","targetMonth","targetDay","isWeekToday","getDayDate","isFutureDay","date","getDateFromDayIndex","monday","getDay","setHours","toggleHabitComplete","_this2","_callee2","weekStart","weekEnd","weekCompletedCount","habitIndex","_callee2$","_context2","getDayTimestamp","count","vibrateShort","id","habit_id","name","findIndex","h","setStorageSync","Error","fill","every","_","_this3","goToStats","concat","encodeURIComponent","diet","water","meditation","running","art","craft","game","time","planning","mood","social","other","workout","sleep","reading","coding","course","cleaning","cooking","finance","plants","music","photo","singing","colors","category","action","_this4","editHabit","toggleOrderMode","deleteHabit","systemInfo","getSystemInfoSync","showActionSheet","itemList","actions","item","itemColor","platform","success","setTimeout","_a2","tapIndex","_a","err","showModal","_success","_callee3","res2","updatedHabits","_callee3$","_context3","confirm","_this5","loadHabits","_x","apply","arguments","_context4","stop","_callee4","updateDateInfo","now","target","UTC","setUTCDate","getUTCDate","getUTCDay","d","firstThursday","firstDay","Math","floor","diff","calcYearWeek","monthWeek","calcMonthWeek","onShareAppMessage","onShareTimeline","handleSaveNote","_ref","_this6","timestamp","currenthabit","notes","noteTimestamp","showFutureToast","handleDayClick","getDaysInMonth","isMonthToday","day","isFutureMonthDay","getMonthCompletionCount","monthStart","monthEnd","daysInMonth","availableDays","formatNumber","num","updateTime","_this7","moveHabitUp","_this8","temp","moveHabitDown","_this9","completeOrder","duration","yesterday","isYesterday","startDate","endDate","diffTime","abs","daysDesc","$set","habitId","getWeekNotes","sunday","note","noteDate","retroactiveInfo","retroTimestamp","sort","a","b","aTime","bTime","timeStr","isToday","weekDay","relative","showBackupOptions","_this10","handleBackupAction","handleExport","handleImport","_this11","_callee5","_callee5$","_context5","confirmText","cancelText","performExport","_this12","_callee6","exportData","jsonStr","fileName","userPath","filePath","fs","_callee6$","_context6","version","exportTime","toISOString","JSON","stringify","formatExportDate","wx$1","env","USER_DATA_PATH","getFileSystemManager","writeFileSync","shareFileMessage","performImport","importData","_this13","_callee7","_callee7$","_context7","modalRes","mergeImportData","overwriteImportData","importedHabits","habitMap","Map","currentHabits","forEach","importedHabit","existingHabit","completedSet","Set","_toConsumableArray2","notesMap","set","flag","mergedHabits","_this14","_callee8","_callee8$","_context8","chooseAndReadFile","_this15","chooseMessageFile","type","tempFilePath","tempFiles","path","encoding","readRes","parse","validateImportData","parseError","isIOS","showCancel","_this16","startClock","initialMessage","_context9","onHide","stopClock","wx","createPage","MiniProgramPage"],"sources":["index.vue","index.vue?type=page"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- æ·»åŠ  conv-card ç»„ä»¶ -->\n    <conv-card\n        v-if=\"showConvCard\"\n        :show=\"showConvCard\"\n        v-model:emoji=\"aiMessage.emoji\"\n        v-model:content=\"aiMessage.content\"\n        @updateShow=\"showConvCard = $event\"\n    />\n    <reward-card\n        v-if=\"showRewardCard\"\n        :title=\"rewardTitle\"\n        :message=\"rewardMessage\"\n        :stats=\"rewardStats\"\n        :habit-info=\"currentHabit\"\n        :show=\"showRewardCard\"\n        @saveNote=\"handleSaveNote\"\n        @updateShow=\"showRewardCard = $event\"\n    />\n    <view class=\"header\">\n      <view class=\"date-info\">\n        <!-- <view class=\"date-content\">\n          <text class=\"year\">{{ currentYear }}å¹´{{ currentMonth }}æœˆç¬¬{{ monthWeek }}å‘¨</text>\n        </view> -->\n        <view class=\"flip-clock\">\n          <text class=\"streak-icon\">ğŸ”¥</text>\n          <text class=\"streak-label\">è¿èƒœ</text>\n          <text class=\"time-unit\">{{ currentStreak }}</text>\n          <text class=\"streak-label\">å¤©</text>\n        </view>\n      </view>\n      <view class=\"header-row\">\n        <view class=\"habit-stats\">\n          <view class=\"progress-bar\">\n            <view \n              class=\"progress-fill\" \n              :style=\"{ width: `${getTodayCompletionRate}%` }\"\n              :class=\"{ 'perfect': getTodayCompletionRate === 100 }\">\n            </view>          \n          </view>\n        </view>\n        <view v-if=\"isOrderMode\" class=\"complete-order-btn\" @tap=\"completeOrder\">å®Œæˆæ’åº</view>\n      </view>\n      <view class=\"ai-message\">\n        <view class=\"ai-message-card\" @tap=\"handleAiMessageClick\">\n          <text class=\"ai-message-icon\">{{ aiMessage.emoji }}</text>\n          <text class=\"ai-message-content\">{{ aiMessage.content }}</text>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"view-container\">\n      <view\n          class=\"view-page habits-list\"\n          :style=\"{ transform: `translateX(${translateX}px)` }\"\n      >\n        <view\n            v-for=\"(habit, index) in habits\"\n            :key=\"habit.habit_id\"\n            class=\"habit-card\"\n            :class=\"{\n            'is-flipped': flippedCards[habit.habit_id],\n            'is-order-mode': isOrderMode,\n            'no-interaction': isOrderMode,\n            [habit.animating]: habit.animating\n          }\"\n            @longpress=\"!isOrderMode && handleCardLongPress(habit)\"\n            @touchend=\"!isOrderMode && handleCardTouchEnd(habit)\"\n        >\n          <!-- å¡ç‰‡æ­£é¢ -->\n          <view class=\"card-face card-front\">\n            <view class=\"habit-header\">\n              <view class=\"title-section\">\n                <view class=\"habit-icon\" :style=\"{ 'background-color': habit.color }\">\n                  <text class=\"emoji-icon\">{{ habit.icon }}</text>\n                </view>\n                <text class=\"habit-title\">{{ habit.title }}</text>\n              </view>\n              <view class=\"more-actions\" @tap.stop=\"showActionSheet(habit)\">\n                <text class=\"more-icon\">â‹®</text>\n              </view>\n            </view>\n\n            <!-- æ’åºæŒ‰é’® -->\n            <view class=\"order-buttons\" v-if=\"isOrderMode\">\n              <view\n                  class=\"order-btn up\"\n                  :class=\"{ disabled: index === 0 }\"\n                  @tap.stop=\"moveHabitUp(index)\"\n              >\n                <text class=\"order-icon\">â†‘</text>\n              </view>\n              <view\n                  class=\"order-btn down\"\n                  :class=\"{ disabled: index === habits.length - 1 }\"\n                  @tap.stop=\"moveHabitDown(index)\"\n              >\n                <text class=\"order-icon\">â†“</text>\n              </view>\n            </view>\n\n            <!-- ä¹ æƒ¯å†…å®¹ -->\n            <view class=\"habit-content\">\n              <view class=\"progress-view\">\n                <view\n                    v-for=\"(day, i) in 7\"\n                    :key=\"i\"\n                    class=\"week-day\"\n                >\n                  <text class=\"day-label\">{{ weekDays[i] }}</text>\n                  <view\n                      class=\"day-box\"\n                      :class=\"{\n                      completed: isCompletedForDay(habit, i),\n                      today: isWeekToday(i),\n                      future: isFutureDay(i)\n                    }\"\n                      @tap.stop=\"handleDayClick(habit, i)\"\n                  >{{ getDayDate(i) }}\n                  </view>\n                </view>\n              </view>\n              <!-- <view class=\"expand-button\" @tap.stop=\"toggleCardExpand(habit.habit_id)\">\n                <text class=\"expand-text\">{{ expandedCards[habit.habit_id] ? 'æ”¶èµ·æ—¥å¿—' : 'æŸ¥çœ‹åŸ¹è‚²æ—¥å¿—' }}</text>\n                <text class=\"expand-icon\">{{ expandedCards[habit.habit_id] ? 'â†‘' : 'â†“' }}</text>\n              </view> -->\n            </view>\n\n            <!-- ç¬”è®°å®¹å™¨ -->\n            <view class=\"notes-container\" v-show=\"expandedCards[habit.habit_id]\">\n              <view class=\"empty-notes\" v-if=\"getWeekNotes(habit).length === 0\">\n                <text>æœ¬å‘¨è¿˜æ²¡æœ‰è®°å½•å†ç¨‹å“¦~</text>\n              </view>\n              <view class=\"notes-list\" v-else>\n                <view\n                    v-for=\"(note, index2) in getWeekNotes(habit)\"\n                    :key=\"index2\"\n                    class=\"note-item\"\n                >\n                  <view class=\"note-time\">\n                    <view class=\"time-left\">\n                      <text class=\"date\">{{ formatNoteTime(note.timestamp).date }}</text>\n                      <text class=\"time\">{{ formatNoteTime(note.timestamp).time }}</text>\n                    </view>\n                    <view class=\"time-right\">{{ formatNoteTime(note.timestamp).relative }}</view>\n                  </view>\n                  <view class=\"note-content\">{{ note.content }}</view>\n                </view>\n              </view>\n            </view>\n          </view>\n\n          <!-- å¡ç‰‡èƒŒé¢ -->\n          <view class=\"card-face card-back\">\n            <view class=\"flag-banner\" v-if=\"habit.flag\">\n              <text class=\"flag-icon\">ğŸ¯</text>\n              <text class=\"flag-text\">{{ habit.flag }}</text>\n            </view>\n            <view class=\"flag-banner\" v-else>\n              <text class=\"flag-icon\">âœ¨</text>\n              <text class=\"flag-text\">ç‚¹å‡»ä¹ æƒ¯å¡ç‰‡å³ä¸Šè§’çš„æŒ‰é’®\\né€‰æ‹©ç¼–è¾‘æ·»åŠ ç›®æ ‡ï¼</text>\n            </view>\n            <view class=\"create-time\">\n              <text class=\"time-label\">åˆ›å»ºäº</text>\n              <text class=\"time-value\">{{ formatCreateTime(habit.createTime) }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n    </view>\n  </view>\n\n  <view class=\"add-button\" v-if=\"!isOrderMode\" @tap=\"addHabit\">\n    <text class=\"plus\">+</text>\n  </view>\n</template>\n\n<script>\nimport {defineComponent} from 'vue'\nimport RewardCard from '@/components/reward-card.vue'\nimport ConvCard from \"@/components/conv-card.vue\";\nimport {apiService} from \"@/utils/api.js\";\n\nexport default defineComponent({\n  components: {\n    ConvCard,\n    RewardCard\n  },\n  data() {\n    return {\n      nickname: '',\n      weekDays: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],\n      habits: [],\n      currentYear: 0,\n      currentMonth: 0,\n      yearWeek: 0,\n      monthWeek: 0,\n      showRewardCard: false,\n      rewardTitle: '',\n      rewardMessage: '',\n      rewardStats: null,\n      currentHabit: null,\n      isNoInteraction: false,\n      touchStartX: 0,\n      touchStartTime: 0,\n      translateX: 0,\n      isOrderMode: false,\n      flippedCards: {},\n      expandedCards: {},\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      timer: null,\n      showConvCard: false,\n      aiMessage: {\n        emoji: 'ğŸ˜†',\n        content: 'æ¬¢è¿æ¥åˆ° Habit AIï¼ç‚¹æˆ‘ï¼Œä¸€èµ·è¾¾æˆç›®æ ‡ï¼'\n      },\n      perfectDays: [], // æ–°å¢ï¼šå®Œå…¨æ‰“å¡æ—¥æœŸåˆ—è¡¨\n      currentMessageIndex: 0,\n      default_message_list: [\n        {\n          get emoji() {\n            const userInfo = uni.getStorageSync('userInfo') || {}\n            switch (userInfo.ai_character_name) {\n              case 'æ¸©æŸ”':\n                return 'ğŸ±'\n              case 'ä¸¥å‰':\n                return 'ğŸ¼'\n              case 'æ¯’èˆŒ':\n                return 'ğŸ˜ˆ'\n              default:\n                return 'ğŸ˜³'\n            }\n          },\n          content: '{nickname} æ¬¢è¿æ¥åˆ° Habit AIï¼ç‚¹æˆ‘çœ‹çœ‹ï¼'\n        },\n        {\n          emoji: 'ğŸ˜¶â€ğŸŒ«ï¸',\n          content: 'æˆ‘æ˜¯ Aibbyï¼Œä¸€ä¸ªåŠªåŠ›ä¸Šè¿›çš„å°AIï¼ä¸è¦é—®æˆ‘MBTIï¼Œæˆ‘ä»¬è¿˜ä¸ç†Ÿã€‚'\n        },\n        {\n          emoji: 'ğŸ¤¨',\n          content: 'åŸæ¥ä½ ä¹Ÿæ˜¯åŠªåŠ›ä¸Šè¿›çš„äººï¼Ÿé‚£å¥½å§ï¼Œä»¥åè¯·å¤šå¤šæŒ‡æ•™ï¼'\n        },\n        {\n          emoji: 'ğŸ¤”',\n          content: 'ä½ å¯ä»¥å‘Šè¯‰æˆ‘ä½ çš„ç›®æ ‡å’Œè®¡åˆ’ï¼Œä¸€èµ·è¿›æ­¥ï¼Œä½ å¯ä¸è¦æ‰é˜Ÿï¼'\n        },\n        {\n          emoji: 'ğŸ˜ ',\n          content: 'è¯´åˆ°åšåˆ°ï¼æˆ‘ä¼šç»å¸¸æ¥æé†’ä½ ï¼Œä¸å‡†å«Œæˆ‘çƒ¦ï¼'\n        },\n        {\n          emoji: 'ğŸ¥º',\n          content: 'è¿›åº¦æ¡ä¼šæ˜¾ç¤ºå½“æ—¥è¿›å±•ï¼Œä¸€å®šè¦å®Œæˆå“¦ï¼'\n        },\n        {\n          emoji: 'ğŸ˜',\n          content: 'å®Œæˆæ‰€æœ‰ä»»åŠ¡ä½ å°†æ”¶è·å®Œç¾ä¸€å¤©ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ä½ èƒ½è¿èƒœå¤šå°‘å¤©ï¼'\n        },\n        {\n          emoji: 'ğŸ˜ˆ',\n          content: 'å¦‚æœæœ‰é—®é¢˜å¯ä»¥éšæ—¶å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¹Ÿä¸æ˜¯ä»€ä¹ˆåäººå‘¢å˜»å˜»ï¼'\n        },\n        {\n          emoji: 'ğŸ™‚â€â†•ï¸',\n          content: 'ç‚¹å‡»ä¸‹æ–¹åŠ å·å¼€å§‹å§ï¼'\n        },\n        {\n          emoji: 'ğŸ«£',\n          content: 'å¼€å§‹å§ï¼æˆ‘è‚¯å®šä¸å·çœ‹ï¼'\n        },\n        {\n          emoji: 'ğŸ«¨',\n          content: 'å•Šå•Šå•Šå¿«å¼€å§‹å§ï¼'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    getTodayCompletedCount() {\n      if (!this.habits || !Array.isArray(this.habits)) return 0\n      \n      const today = new Date()\n      const todayYear = today.getFullYear()\n      const todayMonth = today.getMonth()\n      const todayDate = today.getDate()\n      \n      return this.habits.filter(habit => {\n        // ç¡®ä¿ habit.completed å­˜åœ¨ä¸”æ˜¯æ•°ç»„\n        if (!habit.completed || !Array.isArray(habit.completed)) return false\n        \n        return habit.completed.some(dateStr => {\n          const completedDate = new Date(dateStr)\n          return completedDate.getFullYear() === todayYear &&\n                 completedDate.getMonth() === todayMonth &&\n                 completedDate.getDate() === todayDate\n        })\n      }).length\n    },\n\n    getTodayCompletionRate() {\n      if (this.habits.length === 0) return 0\n      return (this.getTodayCompletedCount / this.habits.length) * 100\n    },\n\n    currentStreak() {\n      if (!this.habits.length) return 0\n\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n      let streak = 0\n      let currentDate = new Date(today)\n\n      while (true) {\n        const dateStr = currentDate.toISOString().split('T')[0]\n        \n        // å¦‚æœæ—¥æœŸä¸åœ¨å®Œç¾æ‰“å¡åˆ—è¡¨ä¸­ï¼Œæ£€æŸ¥æ˜¯å¦æ˜¯ä»Šå¤©\n        if (!this.perfectDays.includes(dateStr)) {\n          // å¦‚æœæ˜¯ä»Šå¤©ï¼Œä¸”æ‰€æœ‰ä¹ æƒ¯éƒ½å·²å®Œæˆï¼Œä»ç„¶è®¡å…¥è¿èƒœ\n          if (currentDate.getTime() === today.getTime() && this.getTodayCompletionRate === 100) {\n            streak++\n          } else {\n            break\n          }\n        } else {\n          streak++\n        }\n\n        // æ£€æŸ¥å‰ä¸€å¤©\n        currentDate.setDate(currentDate.getDate() - 1)\n        \n        // å¦‚æœå‰ä¸€å¤©ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œä¸”ä¸æ˜¯ä»Šå¤©ï¼Œåˆ™é€€å‡ºå¾ªç¯\n        const prevDateStr = currentDate.toISOString().split('T')[0]\n        if (!this.perfectDays.includes(prevDateStr) && \n            currentDate.getTime() !== today.getTime()) {\n          break\n        }\n      }\n\n      return streak\n    },\n  },\n\n  watch: {\n    getTodayCompletionRate: {\n      handler(newRate) {\n        if (newRate === 100) {\n          const today = new Date()\n          const todayStr = today.toISOString().split('T')[0]\n          \n          // æ£€æŸ¥æ˜¯å¦å·²ç»è®°å½•è¿‡ä»Šå¤©\n          if (!this.perfectDays.includes(todayStr)) {\n            this.perfectDays.push(todayStr)\n            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨\n            uni.setStorageSync('perfectDays', this.perfectDays)\n            \n            // æ˜¾ç¤ºç¥è´ºæ¶ˆæ¯\n            uni.showToast({\n              title: 'èµï¼ä»Šæ—¥å·²å®Œæˆæ‰€æœ‰ä»»åŠ¡ğŸ‰',\n              icon: 'none',\n              duration: 2000\n            })\n          }\n        }\n      },\n      immediate: true\n    }\n  },\n\n\n  methods: {    \n    async handleAiMessageClick() {\n      if (this.habits.length === 0) {\n        // å¦‚æœæ²¡æœ‰ä¹ æƒ¯ï¼Œæ˜¾ç¤ºå¼•å¯¼æ¶ˆæ¯\n        if (this.currentMessageIndex < this.default_message_list.length - 1) {\n          this.currentMessageIndex++\n          const message = this.default_message_list[this.currentMessageIndex]\n          this.aiMessage = {\n            emoji: message.emoji,\n            content: message.content.replace('{nickname}', this.nickname)\n          }\n        }\n      } else {\n        // å¦‚æœæœ‰ä¹ æƒ¯ï¼Œè°ƒç”¨ API è·å–å»ºè®®\n        try {\n          const res = await apiService.getLastMessage()\n          if (res.status === 'success' && res.data) {\n            this.aiMessage = {\n              emoji: res.data.emoji || this.default_message_list[0].emoji,\n              content: res.data.content || this.default_message_list[0].content\n            }\n          }\n        } catch (error) {\n          this.aiMessage.emoji = \"ğŸ’¼\"\n          this.aiMessage.content = \"åŠ æ²¹\" + this.nickname + \"æˆ‘å»ä¸Šç­å•¦ï¼\"\n        }\n      }\n    },\n\n    addHabit() {\n      uni.navigateTo({\n        url: '/pages/add-habit/add-habit'\n      })\n    },\n\n    loadUserInfo() {\n      try {\n        const userInfo = uni.getStorageSync('userInfo')\n        if (userInfo) {\n          this.nickname = userInfo.nickname || 'æœ‹å‹'\n        } else {\n          this.nickname = 'æœ‹å‹'\n        }\n      } catch (error) {\n        console.error('è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:', error)\n        this.nickname = 'æœ‹å‹'\n      }\n    },\n\n    loadHabits() {\n      const habits = uni.getStorageSync('habits') || []\n      this.habits = habits.map(habit => ({\n        ...habit,\n        icon: habit.icon || \"âœ¨\",\n        color: habit.color || '#fff'\n      }))\n      console.log(\"get habits from storage\", habits)\n      // åŠ è½½å®Œå…¨æ‰“å¡æ—¥æœŸåˆ—è¡¨\n      this.perfectDays = uni.getStorageSync('perfectDays') || []\n      console.log(\"get perfectDays from storage\", this.perfectDays)\n    },\n\n\n    isCompletedForDay(habit, dayIndex) {\n      if (!habit || !habit.completed || !Array.isArray(habit.completed)) {\n        return false;\n      }\n      \n      const targetDate = this.getDateFromDayIndex(dayIndex)\n      const targetYear = targetDate.getFullYear()\n      const targetMonth = targetDate.getMonth()\n      const targetDay = targetDate.getDate()\n      \n      return habit.completed.some(dateStr => {\n        const completedDate = dateStr.includes('T') \n          ? new Date(dateStr)\n          : new Date(dateStr.replace(/(\\d{4})-(\\d{2})-(\\d{2})/, '$1/$2/$3'))\n        return completedDate.getFullYear() === targetYear &&\n               completedDate.getMonth() === targetMonth &&\n               completedDate.getDate() === targetDay\n      })\n    },\n\n    isWeekToday(dayIndex) {\n      const today = new Date()\n      const targetDate = this.getDayDate(dayIndex)\n      return today.getDate() === targetDate\n    },\n\n    isFutureDay(dayIndex) {\n      const today = new Date()\n      const targetDate = this.getDateFromDayIndex(dayIndex)\n      const todayDate = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n      const targetDateOnly = new Date(targetDate.getFullYear(), targetDate.getMonth(), targetDate.getDate())\n      return targetDateOnly > todayDate\n    },\n\n    getDayDate(dayIndex) {\n      const date = this.getDateFromDayIndex(dayIndex)\n      return date.getDate()\n    },\n\n    getDateFromDayIndex(dayIndex) {\n      const today = new Date()\n      const monday = new Date()\n      monday.setDate(today.getDate() - (today.getDay() === 0 ? 6 : today.getDay() - 1))\n      const targetDate = new Date(monday)\n      targetDate.setDate(monday.getDate() + dayIndex)\n      return targetDate\n    },\n\n    getDayTimestamp(dayIndex) {\n      const date = this.getDateFromDayIndex(dayIndex)\n      date.setHours(0, 0, 0, 0)\n      return date.toISOString()\n    },\n\n    async toggleHabitComplete(habit, dayIndex) {\n      const timestamp = this.getDayTimestamp(dayIndex)\n      const today = new Date()\n      const targetDate = this.getDateFromDayIndex(dayIndex)\n\n      if (targetDate > today) {\n        uni.showToast({\n          title: 'æœªæ¥è¿˜æœªæ¥å“¦~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n\n      if (targetDate.getDate() !== today.getDate() ||\n          targetDate.getMonth() !== today.getMonth() ||\n          targetDate.getFullYear() !== today.getFullYear()\n      ) {\n        uni.showToast({\n          title: 'è¡¥æ‰“å¡æœºåˆ¶è¿˜æœªå®ç°ï¼Œæ•¬è¯·æœŸå¾…~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n\n      // æ£€æŸ¥æ˜¯å¦å·²ç»æ‰“å¡\n      if (this.isCompletedForDay(habit, dayIndex)) {\n        // å¦‚æœå·²ç»æ‰“å¡ï¼Œæç¤ºå·²ç»æ‰“è¿‡å¡\n        uni.showToast({\n          title: 'å·²ç»æ‰“è¿‡å¡äº†å“¦~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n\n      // è®¡ç®—æœ¬å‘¨å®Œæˆæ¬¡æ•°\n      const weekStart = this.getDateFromDayIndex(0)\n      const weekEnd = this.getDateFromDayIndex(6)\n      weekStart.setHours(0, 0, 0, 0)\n      weekEnd.setHours(23, 59, 59, 999)\n\n      const weekCompletedCount = habit.completed.filter(dateStr => {\n        const date = new Date(dateStr)\n        return date >= weekStart && date <= weekEnd\n      }).length\n\n      this.rewardStats = {\n        count: weekCompletedCount,\n        label: 'æœ¬å‘¨å·²å®Œæˆ'\n      }\n\n      uni.vibrateShort()\n      // æ˜¾ç¤ºæ‰“å¡æˆåŠŸå¡ç‰‡\n      this.showRewardCard = true\n      this.rewardTitle = 'æ‰“å¡æˆåŠŸï¼'\n      this.rewardMessage = ''\n      this.currentHabit = {\n        id: habit.habit_id,\n        name: habit.title,\n        icon: habit.icon,\n        color: habit.color\n      }\n\n      try {\n        // è°ƒç”¨æ‰“å¡ API\n        const res = await apiService.recordHabit(habit.habit_id)\n\n        if (res.status === 'success') {\n          // æ›´æ–°æœ¬åœ°å­˜å‚¨ä¸­å¯¹åº”ä¹ æƒ¯çš„æ‰“å¡è®°å½•\n          const habits = uni.getStorageSync('habits') || []\n          const habitIndex = habits.findIndex(h => h.habit_id === habit.habit_id)\n          console.log(\"record response\", res)\n\n          if (habitIndex !== -1) {\n            habits[habitIndex].completed = res.data.completed\n            habits[habitIndex].streak = res.data.streak\n            this.habits = habits\n            uni.setStorageSync('habits', habits)\n          }\n\n          // æ›´æ–° AI æ¶ˆæ¯\n          this.aiMessage = {\n            emoji: res.data.emoji,\n            content: res.data.content\n          }\n\n        } else {\n          throw new Error(res.message || 'æ‰“å¡å¤±è´¥')\n        }\n      } catch (error) {\n        uni.showToast({\n          title: error.message || 'æ‰“å¡å¤±è´¥',\n          icon: 'none'\n        })\n      }\n    },\n\n    // æ£€æŸ¥æœ¬å‘¨æ˜¯å¦å…¨éƒ¨å®Œæˆ\n    checkWeekCompletion(habit) {\n      return Array(7).fill().every((_, index) => this.isCompletedForDay(habit, index))\n    },\n\n    goToStats(habit) {\n      uni.navigateTo({\n        url: `/pages/habit-stats/habit-stats?habit_id=${habit.habit_id}&title=${encodeURIComponent(habit.title)}`\n      })\n    },\n\n    getCategoryIcon(category) {\n      const icons = {\n        workout: 'ğŸƒ',\n        diet: 'ğŸ¥—',\n        water: 'ğŸ’§',\n        sleep: 'ğŸ˜´',\n        meditation: 'ğŸ§˜',\n        running: 'âš½',\n        reading: 'ğŸ“š',\n        coding: 'ğŸ’»',\n        course: 'ğŸ“',\n        cleaning: 'ğŸ§¹',\n        cooking: 'ğŸ³',\n        finance: 'ğŸ’°',\n        plants: 'ğŸŒ±',\n        music: 'ğŸ¸',\n        art: 'ğŸ¨',\n        craft: 'ğŸ­',\n        photo: 'ğŸ“¸',\n        singing: 'ğŸ¤',\n        game: 'ğŸ®',\n        time: 'â°',\n        planning: 'ğŸ“Š',\n        mood: 'ğŸŒˆ',\n        social: 'ğŸ‘¥',\n        notes: 'ğŸ“',\n        writing: 'âœï¸',\n        custom: 'âœ¨',\n        other: 'ğŸ¯'\n      }\n      return icons[category] || 'ğŸ¯'\n    },\n\n    getCategoryColor(category) {\n      const colors = {\n        // å¥åº·ç»„\n        workout: '#FF6B6B',\n        diet: '#95E1D3',\n        water: '#87CEEB',\n        sleep: '#6C5B7B',\n        meditation: '#9B89B3',\n        running: '#FF6B6B',\n        // å­¦ä¹ ç»„\n        reading: '#FFD93D',\n        coding: '#6C5B7B',\n        course: '#96CEB4',\n        // ç”Ÿæ´»ç»„\n        cleaning: '#A8E6CF',\n        cooking: '#F8B195',\n        finance: '#2A363B',\n        plants: '#4ECDC4',\n        // å…´è¶£ç»„\n        music: '#FF8C94',\n        art: '#F67280',\n        craft: '#C06C84',\n        photo: '#355C7D',\n        singing: '#FF8C94',\n        game: '#3F72AF',\n        // æˆé•¿ç»„\n        time: '#45B7D1',\n        planning: '#96CEB4',\n        mood: '#9B89B3',\n        social: '#F8B195'\n      }\n      return colors[category] || '$theme-color'\n    },\n\n    showActionSheet(habit) {\n      const actions = [\n        {\n          name: 'ç¼–è¾‘ä¹ æƒ¯',\n          action: () => this.editHabit(habit)\n        },\n        {\n          name: 'è°ƒæ•´é¡ºåº',\n          action: () => this.toggleOrderMode()\n        },\n        {\n          name: 'åˆ é™¤ä¹ æƒ¯',\n          action: () => this.deleteHabit(habit)\n        }\n      ]\n\n      const systemInfo = uni.getSystemInfoSync()\n      uni.showActionSheet({\n        itemList: actions.map(item => item.name),\n        itemColor: systemInfo.platform === 'ios' ? '#007AFF' : '#2d8cf0',\n        success: (res) => {\n          if (systemInfo.platform === 'ios') {\n            setTimeout(() => {\n              actions[res.tapIndex]?.action()\n            }, 100)\n          } else {\n            actions[res.tapIndex]?.action()\n          }\n        },\n        fail: (err) => {\n          console.log('ActionSheet å…³é—­', err)\n        }\n      })\n    },\n\n    editHabit(habit) {\n      uni.navigateTo({\n        url: `/pages/add-habit/add-habit?habit_id=${habit.habit_id}`\n      })\n    },\n\n    async deleteHabit(habit) {\n      uni.showModal({\n        title: 'ç¡®è®¤åˆ é™¤',\n        content: 'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¹ æƒ¯å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚',\n        confirmColor: '#FF3B30',\n        success: async (res) => {\n          if (res.confirm) {\n            try {\n              // è°ƒç”¨åˆ é™¤ API\n              const res = await apiService.deleteHabit(habit.habit_id)\n              \n              if (res.status === 'success') {\n                // API åˆ é™¤æˆåŠŸåï¼Œæ›´æ–°æœ¬åœ°å­˜å‚¨\n                const habits = uni.getStorageSync('habits') || []\n                const updatedHabits = habits.filter(h => h.habit_id !== habit.habit_id)\n                uni.setStorageSync('habits', updatedHabits)\n                this.loadHabits()\n                uni.showToast({\n                  title: 'åˆ é™¤æˆåŠŸ',\n                  icon: 'success'\n                })\n              } else {\n                throw new Error(res.message || 'åˆ é™¤å¤±è´¥')\n              }\n            } catch (error) {\n              uni.showToast({\n                title: error.message || 'åˆ é™¤å¤±è´¥',\n                icon: 'none'\n              })\n            }\n          }\n        }\n      })\n    },\n\n    updateDateInfo() {\n      const now = new Date()\n      this.currentYear = now.getFullYear()\n      this.currentMonth = now.getMonth() + 1\n\n      const calcYearWeek = (date) => {\n        const target = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()))\n        target.setUTCDate(target.getUTCDate() + 3 - (target.getUTCDay() || 7))\n        const yearStart = new Date(Date.UTC(target.getUTCFullYear(), 0, 1))\n        return Math.ceil(((target - yearStart) / 86400000 + 1) / 7)\n      }\n\n      const calcMonthWeek = (date) => {\n        const d = new Date(date.getTime())\n        d.setHours(0, 0, 0, 0)\n        const firstDay = new Date(d.getFullYear(), d.getMonth(), 1)\n        const firstThursday = new Date(firstDay)\n        firstThursday.setDate(firstDay.getDate() + (11 - firstDay.getDay()) % 7 - 3)\n        const diff = d - firstThursday\n        return Math.floor(diff / 604800000) + 1\n      }\n\n      this.yearWeek = calcYearWeek(now)\n      this.monthWeek = calcMonthWeek(now)\n    },\n\n    onShareAppMessage() {\n      return {\n        title: 'ä¹ æƒ¯è¿½è¸ªå™¨',\n        path: '/pages/index/index'\n      }\n    },\n\n    onShareTimeline() {\n      return {\n        title: 'ä¹ æƒ¯è¿½è¸ªå™¨'\n      }\n    },\n\n    handleSaveNote({timestamp, content}) {\n      const noteTimestamp = Date.now()\n      const habits = uni.getStorageSync('habits') || []\n      const habitIndex = habits.findIndex(h => h.habit_id === this.currenthabit.habit_id)\n\n      habits[habitIndex].notes.push({\n        timestamp: noteTimestamp,\n        content: content\n      })\n\n      uni.setStorageSync('habits', habits)\n      this.loadHabits()\n    },\n\n    showFutureToast() {\n      uni.showToast({\n        title: 'æœªæ¥è¿˜æœªæ¥å“¦~',\n        icon: 'none',\n        duration: 1000\n      })\n    },\n\n    handleDayClick(habit, dayIndex) {\n      if (this.isFutureDay(dayIndex)) {\n        uni.showToast({\n          title: 'æœªæ¥è¿˜æœªæ¥å“¦~',\n          icon: 'none',\n          duration: 1000\n        })\n        return\n      }\n      this.toggleHabitComplete(habit, dayIndex)\n    },\n\n    handleCardLongPress(habit) {\n      this.flippedCards[habit.habit_id] = true\n    },\n\n    handleCardTouchEnd(habit) {\n      this.flippedCards[habit.habit_id] = false\n    },\n\n\n    getDaysInMonth() {\n      const date = new Date(this.currentYear, this.currentMonth - 1, 1)\n      return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate()\n    },\n\n\n    isMonthToday(day) {\n      const today = new Date()\n      return today.getDate() === day &&\n          today.getMonth() === this.currentMonth - 1 &&\n          today.getFullYear() === this.currentYear\n    },\n\n    isFutureMonthDay(day) {\n      const today = new Date()\n      const targetDate = new Date(this.currentYear, this.currentMonth - 1, day)\n      return targetDate > today\n    },\n\n    getMonthCompletionCount(habit) {\n      const monthStart = new Date(this.currentYear, this.currentMonth - 1, 1)\n      const monthEnd = new Date(this.currentYear, this.currentMonth, 0)\n      return habit.completed.filter(timestamp => {\n        const date = new Date(timestamp)\n        return date >= monthStart && date <= monthEnd\n      }).length\n    },\n\n    getMonthCompletionRate(habit) {\n      const daysInMonth = this.getDaysInMonth()\n      const completedDays = this.getMonthCompletionCount(habit)\n      const today = new Date()\n      let availableDays\n\n      if (today.getMonth() === this.currentMonth - 1 && today.getFullYear() === this.currentYear) {\n        availableDays = today.getDate()\n      } else {\n        availableDays = daysInMonth\n      }\n      return Math.round(completedDays / availableDays * 100)\n    },\n\n    formatNumber(num) {\n      return num < 10 ? `0${num}` : num\n    },\n\n    updateTime() {\n      const now = new Date()\n      this.hours = now.getHours()\n      this.minutes = now.getMinutes()\n      this.seconds = now.getSeconds()\n    },\n\n    startClock() {\n      this.updateTime()\n      this.timer = setInterval(() => {\n        this.updateTime()\n      }, 1000)\n    },\n\n    stopClock() {\n      if (this.timer) {\n        clearInterval(this.timer)\n        this.timer = null\n      }\n    },\n\n    toggleOrderMode() {\n      this.isOrderMode = !this.isOrderMode\n      if (this.isOrderMode) {\n        uni.showToast({\n          title: 'è¿›å…¥æ’åºæ¨¡å¼',\n          icon: 'none',\n          duration: 1500\n        })\n      }\n    },\n\n    moveHabitUp(index) {\n      if (index > 0) {\n        this.$set(this.habits[index], 'animating', 'moving-up')\n        this.$set(this.habits[index - 1], 'animating', 'moving-down')\n        setTimeout(() => {\n          const habits = [...this.habits]\n          const temp = habits[index]\n          habits[index] = habits[index - 1]\n          habits[index - 1] = temp\n          habits[index].animating = ''\n          habits[index - 1].animating = ''\n          this.habits = habits\n          uni.setStorageSync('habits', habits)\n        }, 300)\n      }\n    },\n\n    moveHabitDown(index) {\n      if (index < this.habits.length - 1) {\n        this.$set(this.habits[index], 'animating', 'moving-down')\n        this.$set(this.habits[index + 1], 'animating', 'moving-up')\n        setTimeout(() => {\n          const habits = [...this.habits]\n          const temp = habits[index]\n          habits[index] = habits[index + 1]\n          habits[index + 1] = temp\n          habits[index].animating = ''\n          habits[index + 1].animating = ''\n          this.habits = habits\n          uni.setStorageSync('habits', habits)\n        }, 300)\n      }\n    },\n\n    completeOrder() {\n      this.isOrderMode = false\n      uni.showToast({\n        title: 'æ’åºå·²ä¿å­˜',\n        icon: 'success',\n        duration: 1500\n      })\n    },\n\n    formatCreateTime(timestamp) {\n      if (!timestamp) return 'æœªçŸ¥æ—¶é—´'\n      const date = new Date(timestamp)\n      const now = new Date()\n      const isToday = date.getFullYear() === now.getFullYear() &&\n          date.getMonth() === now.getMonth() &&\n          date.getDate() === now.getDate()\n\n      const yesterday = new Date(now)\n      yesterday.setDate(yesterday.getDate() - 1)\n      const isYesterday = date.getFullYear() === yesterday.getFullYear() &&\n          date.getMonth() === yesterday.getMonth() &&\n          date.getDate() === yesterday.getDate()\n\n      const startDate = new Date(date.getFullYear(), date.getMonth(), date.getDate())\n      const endDate = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n      const diffTime = Math.abs(endDate - startDate)\n      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24))\n\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      let daysDesc\n\n      if (isToday) {\n        daysDesc = 'ä»Šå¤©åˆ›å»º'\n      } else if (isYesterday) {\n        daysDesc = 'æ˜¨å¤©åˆ›å»º'\n      } else {\n        daysDesc = `å·²åˆ›å»º${diffDays}å¤©`\n      }\n\n      return `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥ ${hours}:${minutes} Â· ${daysDesc}`\n    },\n\n    toggleCardExpand(habitId) {\n      this.$set(this.expandedCards, habitId, !this.expandedCards[habitId])\n    },\n\n    getWeekNotes(habit) {\n      if (!habit.notes) return []\n      const now = new Date()\n      const monday = new Date(now)\n      monday.setDate(now.getDate() - (now.getDay() === 0 ? 6 : now.getDay() - 1))\n      const sunday = new Date(monday)\n      sunday.setDate(monday.getDate() + 6)\n\n      const weekStart = new Date(monday.getFullYear(), monday.getMonth(), monday.getDate())\n      const weekEnd = new Date(sunday.getFullYear(), sunday.getMonth(), sunday.getDate(), 23, 59, 59, 999)\n\n      return habit.notes\n          .filter(note => {\n            const noteDate = new Date(note.retroactiveInfo ? note.retroactiveInfo.retroTimestamp : note.timestamp)\n            return noteDate >= weekStart && noteDate <= weekEnd\n          })\n          .sort((a, b) => {\n            const aTime = a.retroactiveInfo ? a.retroactiveInfo.retroTimestamp : a.timestamp\n            const bTime = b.retroactiveInfo ? b.retroactiveInfo.retroTimestamp : b.timestamp\n            return bTime - aTime\n          })\n    },\n\n    formatNoteTime(timestamp) {\n      const date = new Date(timestamp)\n      const now = new Date()\n      const weekDays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­']\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      const timeStr = `${hours}:${minutes}`\n\n      const isToday = date.getDate() === now.getDate() &&\n          date.getMonth() === now.getMonth() &&\n          date.getFullYear() === now.getFullYear()\n\n      const yesterday = new Date(now)\n      yesterday.setDate(yesterday.getDate() - 1)\n      const isYesterday = date.getDate() === yesterday.getDate() &&\n          date.getMonth() === yesterday.getMonth() &&\n          date.getFullYear() === yesterday.getFullYear()\n\n      const weekDay = weekDays[date.getDay()]\n      const dateStr = `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`\n\n      return {\n        date: `${dateStr} ${weekDay}`,\n        time: timeStr,\n        relative: isToday ? 'ä»Šå¤©' : isYesterday ? 'æ˜¨å¤©' : dateStr\n      }\n    },\n\n    showBackupOptions() {\n      const systemInfo = uni.getSystemInfoSync()\n      uni.showActionSheet({\n        itemList: ['å¯¼å‡ºæ•°æ®', 'å¯¼å…¥æ•°æ®'],\n        itemColor: systemInfo?.platform === 'ios' ? '#007AFF' : '#2d8cf0',\n        success: (res) => {\n          if (systemInfo?.platform === 'ios') {\n            setTimeout(() => {\n              this.handleBackupAction(res.tapIndex)\n            }, 100)\n          } else {\n            this.handleBackupAction(res.tapIndex)\n          }\n        }\n      })\n    },\n\n    handleBackupAction(tapIndex) {\n      if (tapIndex === 0) {\n        this.handleExport()\n      } else if (tapIndex === 1) {\n        this.handleImport()\n      }\n    },\n\n    async handleExport() {\n      uni.showModal({\n        title: 'å¯¼å‡ºè¯´æ˜',\n        content: 'ç”±äºå¾®ä¿¡å°ç¨‹åºçš„é™åˆ¶ï¼Œå¯¼å‡ºæ•°æ®å°†é€šè¿‡åˆ†äº«åŠŸèƒ½å®ç°ã€‚å¯¼å‡ºåæ‚¨å¯ä»¥é€‰æ‹©å°†æ–‡ä»¶ä¿å­˜åˆ°æ‰‹æœºè¿›è¡Œå¤‡ä»½ã€‚',\n        confirmText: 'ç»§ç»­å¯¼å‡º',\n        cancelText: 'å–æ¶ˆ',\n        success: (res) => {\n          if (res.confirm) {\n            this.performExport()\n          }\n        }\n      })\n    },\n\n    async performExport() {\n      try {\n        const habits = uni.getStorageSync('habits') || []\n        const exportData = {\n          version: '1.0',\n          exportTime: new Date().toISOString(),\n          data: habits\n        }\n\n        const jsonStr = JSON.stringify(exportData, null, 2)\n        const fileName = `habits_backup_${this.formatExportDate(new Date())}.json`\n\n        try {\n          const userPath = wx.env.USER_DATA_PATH\n          const filePath = `${userPath}/${fileName}`\n          const fs = wx.getFileSystemManager()\n          fs.writeFileSync(filePath, jsonStr, 'utf8')\n\n          wx.shareFileMessage({\n            filePath: filePath,\n            success: () => {\n              uni.showToast({\n                title: 'æ•°æ®å·²å¯¼å‡ºï¼Œè¯·ç¡®ä¿ä»ä½ åˆ†äº«çš„å¯¹è¯ä¸­é€‰æ‹©è¯¥æ•°æ®æ–‡ä»¶ä¿å­˜åˆ°æ‰‹æœº',\n                icon: 'none',\n                duration: 3000\n              })\n            },\n            fail: (err) => {\n              console.error('Share file error:', err)\n              uni.showToast({\n                title: 'å¯¼å‡ºå¤±è´¥',\n                icon: 'none'\n              })\n            }\n          })\n        } catch (err) {\n          console.error('File operation error:', err)\n          uni.showToast({\n            title: 'å¯¼å‡ºå¤±è´¥',\n            icon: 'none'\n          })\n        }\n      } catch (error) {\n        console.error('Export error:', error)\n        uni.showToast({\n          title: 'å¯¼å‡ºå¤±è´¥',\n          icon: 'none'\n        })\n      }\n    },\n\n    formatExportDate(date) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      const seconds = String(date.getSeconds()).padStart(2, '0')\n      return `${year}${month}${day}_${hours}${minutes}${seconds}`\n    },\n\n    async performImport(importData) {\n      try {\n        uni.showActionSheet({\n          itemList: ['åˆå¹¶æ•°æ®', 'å®Œå…¨è¦†ç›–'],\n          success: (res) => {\n            if (res.tapIndex === 0) {\n              uni.showModal({\n                title: 'ç¡®è®¤åˆå¹¶',\n                content: 'åˆå¹¶å°†ä¿ç•™ç°æœ‰æ•°æ®ï¼Œå¹¶æ·»åŠ æ–°æ•°æ®ã€‚ç¡®å®šç»§ç»­å—ï¼Ÿ',\n                success: (modalRes) => {\n                  if (modalRes.confirm) {\n                    this.mergeImportData(importData.data)\n                  }\n                }\n              })\n            } else {\n              uni.showModal({\n                title: 'ç¡®è®¤è¦†ç›–',\n                content: 'æ­¤æ“ä½œå°†å®Œå…¨è¦†ç›–ç°æœ‰æ•°æ®ï¼Œç¡®å®šç»§ç»­å—ï¼Ÿ',\n                success: (modalRes) => {\n                  if (modalRes.confirm) {\n                    this.overwriteImportData(importData.data)\n                  }\n                }\n              })\n            }\n          }\n        })\n      } catch (error) {\n        console.error('Import error:', error)\n        uni.showToast({\n          title: 'å¯¼å…¥å¤±è´¥',\n          icon: 'none'\n        })\n      }\n    },\n\n    mergeImportData(importedHabits) {\n      try {\n        const currentHabits = uni.getStorageSync('habits') || []\n        const habitMap = new Map(currentHabits.map(habit => [habit.habit_id, habit]))\n\n        importedHabits.forEach(importedHabit => {\n          const existingHabit = habitMap.get(importedhabit.habit_id)\n          if (existingHabit) {\n            const completedSet = new Set([...existingHabit.completed, ...importedHabit.completed])\n            existingHabit.completed = Array.from(completedSet)\n\n            const notesMap = new Map()\n            existingHabit.notes.forEach(note => {\n              notesMap.set(note.timestamp, note)\n            })\n            importedHabit.notes.forEach(note => {\n              notesMap.set(note.timestamp, note)\n            })\n            existingHabit.notes = Array.from(notesMap.values())\n                .sort((a, b) => b.timestamp - a.timestamp)\n\n            existingHabit.title = importedHabit.title\n            existingHabit.icon = importedHabit.icon\n            existingHabit.color = importedHabit.color\n            existingHabit.flag = importedHabit.flag\n          } else {\n            habitMap.set(importedhabit.habit_id, importedHabit)\n          }\n        })\n\n        const mergedHabits = Array.from(habitMap.values())\n        uni.setStorageSync('habits', mergedHabits)\n        this.loadHabits()\n        uni.showToast({\n          title: 'æ•°æ®å·²åˆå¹¶',\n          icon: 'success'\n        })\n      } catch (error) {\n        console.error('Merge error:', error)\n        uni.showToast({\n          title: 'åˆå¹¶å¤±è´¥',\n          icon: 'none'\n        })\n      }\n    },\n\n    overwriteImportData(importedHabits) {\n      try {\n        uni.setStorageSync('habits', importedHabits)\n        this.loadHabits()\n        uni.showToast({\n          title: 'å¯¼å…¥æˆåŠŸ',\n          icon: 'success'\n        })\n      } catch (error) {\n        console.error('Overwrite error:', error)\n        uni.showToast({\n          title: 'å¯¼å…¥å¤±è´¥',\n          icon: 'none'\n        })\n      }\n    },\n\n    async handleImport() {\n      uni.showModal({\n        title: 'å¯¼å…¥è¯´æ˜',\n        content: 'è¯·ç¡®ä¿ï¼š\\n1. é€‰æ‹©çš„æ˜¯.jsonæ ¼å¼çš„å¤‡ä»½æ–‡ä»¶\\n2. æ–‡ä»¶æ˜¯ä»æœ¬åº”ç”¨å¯¼å‡ºçš„æœ‰æ•ˆæ–‡ä»¶\\n3. èŠå¤©è®°å½•ä¸­å­˜åœ¨è¯¥æ–‡ä»¶',\n        confirmText: 'å¼€å§‹å¯¼å…¥',\n        success: (res) => {\n          if (res.confirm) {\n            this.chooseAndReadFile()\n          }\n        }\n      })\n    },\n\n    chooseAndReadFile() {\n      wx.chooseMessageFile({\n        count: 1,\n        type: 'all', // ä¿®æ”¹ä¸º 'all' è€Œä¸æ˜¯ 'file'\n        success: (res) => {\n          const tempFilePath = res.tempFiles[0].path\n          if (!tempFilePath.toLowerCase().endsWith('.json')) {\n            uni.showToast({\n              title: 'è¯·é€‰æ‹©JSONæ ¼å¼æ–‡ä»¶',\n              icon: 'none',\n              duration: 2000\n            })\n            return\n          }\n\n          const fs = wx.getFileSystemManager()\n          fs.readFile({\n            filePath: tempFilePath,\n            encoding: 'utf8',\n            success: (readRes) => {\n              try {\n                const importData = JSON.parse(readRes.data)\n                if (!this.validateImportData(importData)) {\n                  uni.showToast({\n                    title: 'å¯¼å…¥æ–‡ä»¶æ ¼å¼é”™è¯¯',\n                    icon: 'none'\n                  })\n                  return\n                }\n                this.performImport(importData)\n              } catch (parseError) {\n                console.error('Parse error:', parseError)\n                uni.showToast({\n                  title: 'æ–‡ä»¶æ ¼å¼é”™è¯¯',\n                  icon: 'none'\n                })\n              }\n            },\n            fail: (err) => {\n              console.error('Read file error:', err)\n              uni.showToast({\n                title: 'è¯»å–æ–‡ä»¶å¤±è´¥',\n                icon: 'none'\n              })\n            }\n          })\n        },\n        fail: (err) => {\n          console.error('Choose file error:', err)\n          const systemInfo = uni.getSystemInfoSync()\n          const isIOS = systemInfo.platform === 'ios'\n          if (isIOS) {\n            uni.showModal({\n              title: 'é€‰æ‹©æ–‡ä»¶å¤±è´¥',\n              content: 'è¯·ç¡®ä¿:\\n1. é€‰æ‹©æ­£ç¡®çš„JSONæ–‡ä»¶\\n2. å¦‚æœçœ‹ä¸åˆ°æ–‡ä»¶ï¼Œè¯·é‡æ–°å‘é€åˆ°èŠå¤©\\n3. æˆ–å…ˆä¿å­˜åˆ°\"æ–‡ä»¶\"åº”ç”¨å†é€‰æ‹©',\n              showCancel: false\n            })\n          } else {\n            uni.showToast({\n              title: 'é€‰æ‹©æ–‡ä»¶å¤±è´¥',\n              icon: 'none',\n              duration: 2000\n            })\n          }\n        }\n      })\n    }\n  },\n\n  async onShow() {\n    // å…ˆè·å–ç”¨æˆ·ä¿¡æ¯\n    this.loadUserInfo()\n\n    // åŠ è½½ä¹ æƒ¯æ•°æ®\n    this.loadHabits()\n    this.updateDateInfo()\n    this.startClock()\n    \n    // åŠ è½½AIæ¶ˆæ¯\n    if (this.habits.length === 0) {\n      const initialMessage = this.default_message_list[0]\n      this.aiMessage = {\n        emoji: initialMessage.emoji,\n        content: initialMessage.content.replace('{nickname}', this.nickname)\n      }\n    } else {\n      try {\n        const res = await apiService.getLastMessage()\n        if (res.status === 'success' && res.data) {\n          this.aiMessage = {\n            emoji: res.data.emoji || this.default_message_list[0].emoji,\n            content: res.data.content || this.default_message_list[0].content\n          }\n        }\n      } catch (error) {\n          this.aiMessage.emoji = \"ğŸ’¼\"\n          this.aiMessage.content = \"åŠ æ²¹\" + this.nickname + \"æˆ‘å»ä¸Šç­å•¦ï¼\"\n      }\n    }\n  },\n\n  onHide() {\n    this.stopClock()\n  },\n\n  onUnload() {\n    this.stopClock()\n  }\n})\n</script>\n\n<style>\n.container {\n  background-color: #fff;\n  color: #2c3e50;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  padding: 20rpx 40rpx;\n}\n\n.ai-message {\n  background: #fff;\n  left: 0;\n  padding: 20rpx 0;\n  display: flex;\n  right: 0;\n  width: 100%;\n  z-index: 100;\n  box-sizing: border-box;\n}\n\n.ai-message .ai-message-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, .05), 0 2rpx 8rpx rgba(0, 0, 0, .02);\n  padding: 30rpx;\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n  transition: all 0.3s ease;\n  width: 100%; /* æ·»åŠ è¿™è¡Œ */\n  box-sizing: border-box; /* æ·»åŠ è¿™è¡Œ */\n}\n\n.ai-message .ai-message-card:active {\n  opacity: 0.9;\n  transform: scale(0.98);\n}\n\n.ai-message .ai-message-card .ai-message-icon {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 12rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 55rpx;\n  flex-shrink: 0;\n}\n\n.ai-message .ai-message-card .ai-message-content {\n  position: relative;\n  background: #fff;\n  border-radius: 12rpx;\n  padding: 20rpx 24rpx;\n  color: #2c3e50;\n  font-size: 28rpx;\n  line-height: 1.5;\n  max-width: 80%;\n}\n\n/* æ·»åŠ æ°”æ³¡å°–è§’ */\n.ai-message .ai-message-card .ai-message-content::before {\n  content: '';\n  position: absolute;\n  left: -16rpx;\n  top: 24rpx;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 16rpx 16rpx 16rpx 0;\n  border-color: transparent #fff transparent transparent;\n}\n\n.container, .header {\n  box-sizing: border-box;\n}\n\n.header {\n  background: #fff;\n  left: 0;\n  padding: 20rpx 40rpx 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: 100%;\n  z-index: 100;\n}\n\n.date-info {\n  align-items: center;\n  display: flex;\n  gap: 20rpx;\n  justify-content: space-between;\n}\n\n.date-info .date-content {\n  display: flex;\n  flex-direction: column;\n  gap: 10rpx;\n}\n\n.date-info .date-content .year {\n  color: #2c3e50;\n  font-size: 32rpx;\n  font-weight: 400;\n}\n\n.date-info .date-content .month-week {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.date-info .flip-clock {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, .1);\n  display: flex;\n  height: 100%;\n  padding: 12rpx 24rpx;\n  gap: 8rpx;\n}\n\n.date-info .flip-clock .streak-icon {\n  font-size: 32rpx;\n  animation: flame 1.5s ease-in-out infinite;\n}\n\n.date-info .flip-clock .time-unit {\n  background: #edf0f5;\n  border-radius: 8rpx;\n  color: #2c3e50;\n  font-size: 36rpx;\n  font-weight: 500;\n  min-width: 52rpx;\n  padding: 8rpx 12rpx;\n  position: relative;\n  text-align: center;\n  transition: all .3s ease;\n}\n\n.date-info .flip-clock .streak-label {\n  color: #2c3e50;\n  font-size: 28rpx;\n  font-weight: 500;\n}\n\n@keyframes flame {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n.habit-stats, .header-row {\n  display: flex;\n}\n\n.habit-stats {\n  gap: 40rpx;\n  width: 100%;\n  margin-top: 20rpx;\n  margin-bottom: 20rpx;\n}\n\n.header-row {\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 10rpx;\n}\n\n.habit-stats .progress-bar {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  height: 12rpx;\n  width: 100%;\n  overflow: hidden;\n}\n\n.habit-stats .progress-bar .progress-fill {\n  background: var(--theme-color);\n  border-radius: 16rpx;\n  height: 100%;\n  transition: width 0.3s ease;\n  width: 0;\n}\n\n.progress-fill.perfect {\n  animation: perfect-pulse 2s infinite;\n}\n\n@keyframes perfect-pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.7;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n.habits-list {\n  perspective: 1000px;\n}\n\n.habits-list .habit-card {\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, .05), 0 2rpx 8rpx rgba(0, 0, 0, .02);\n  margin-bottom: 20rpx;\n  min-height: 250rpx;\n  position: relative;\n  transform-style: preserve-3d;\n  transition: transform .6s cubic-bezier(.4, 0, .2, 1);\n  transition: transform .6s cubic-bezier(.4, 0, .2, 1), -webkit-transform .6s cubic-bezier(.4, 0, .2, 1);\n}\n\n.habits-list .habit-card.is-flipped {\n  transform: rotateY(180deg);\n}\n\n.habits-list .habit-card:active:not(.is-flipped) {\n  opacity: .9;\n  transform: scale(.98);\n}\n\n.habits-list .habit-card .card-face {\n  backface-visibility: hidden;\n  background: #f5f7fa;\n  border-radius: 20rpx;\n  box-sizing: border-box;\n  padding: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.habits-list .habit-card .card-face.card-front {\n  transform: rotateY(0deg);\n  z-index: 2;\n}\n\n.habits-list .habit-card .card-face.card-back {\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  transform: rotateY(180deg);\n  z-index: 1;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner {\n  align-items: center;\n  background: linear-gradient(180deg, #fff4e5, var(--theme-color));\n  border: 2rpx solid #e2e7ed;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(255, 159, 10, .15);\n  box-sizing: border-box;\n  display: flex;\n  gap: 20rpx;\n  overflow: hidden;\n  padding: 30rpx;\n  position: relative;\n  width: 100%;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner::before {\n  background: linear-gradient(180deg, transparent, rgba(255, 159, 10, .08));\n  content: \"\";\n  height: 2rpx;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner .flag-icon {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 40rpx;\n  display: flex;\n  flex-shrink: 0;\n  font-size: 48rpx;\n  height: 80rpx;\n  justify-content: center;\n  width: 80rpx;\n}\n\n.habits-list .habit-card .card-face.card-back .flag-banner .flag-text {\n  color: #2c3e50;\n  flex: 1;\n  font-size: 32rpx;\n  font-weight: 500;\n  line-height: 1.5;\n  padding: 0 20rpx;\n}\n\n.habits-list .habit-card .card-face.card-back .create-time {\n  align-items: center;\n  bottom: 20rpx;\n  display: flex;\n  gap: 10rpx;\n  justify-content: center;\n  left: 0;\n  padding: 0 30rpx;\n  position: absolute;\n  right: 0;\n}\n\n.habits-list .habit-card .card-face.card-back .create-time .time-label {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.habits-list .habit-card .card-face.card-back .create-time .time-value {\n  color: #2c3e50;\n  font-size: 24rpx;\n}\n\n.habits-list .habit-card .habit-header {\n  display: flex;\n  justify-content: space-between;\n}\n\n.habits-list .habit-card .habit-header .title-section {\n  align-items: center;\n  border-radius: 16rpx;\n  display: flex;\n  flex: 1;\n  padding: 10rpx;\n}\n\n.habits-list .habit-card .habit-header .title-section .habit-icon {\n  align-items: center;\n  background-color: var(--theme-color);\n  border-radius: 16rpx;\n  display: flex;\n  height: 70rpx;\n  justify-content: center;\n  overflow: hidden;\n  width: 70rpx;\n}\n\n.habits-list .habit-card .habit-header .title-section .habit-icon .emoji-icon {\n  align-items: center;\n  color: #fff;\n  display: flex;\n  font-size: 40rpx;\n  height: 100%;\n  justify-content: center;\n  width: 100%;\n}\n\n.habits-list .habit-card .habit-header .title-section .habit-title {\n  color: #2c3e50;\n  font-size: 28rpx;\n  margin-left: 20rpx;\n}\n\n.habits-list .habit-card .habit-header .more-actions {\n  align-items: center;\n  display: flex;\n  height: 60rpx;\n  justify-content: center;\n  padding: 10rpx;\n  width: 60rpx;\n}\n\n.habits-list .habit-card .habit-header .more-actions .more-icon {\n  color: #5c6b7a;\n  font-size: 32rpx;\n  font-weight: 700;\n}\n\n.habits-list .habit-card .habit-content {\n  position: relative;\n  z-index: 1;\n}\n\n.progress-view {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 30rpx;\n}\n\n.progress-view .week-day {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n}\n\n.progress-view .week-day .day-label {\n  color: #5c6b7a;\n  font-size: 22rpx;\n  margin-bottom: 10rpx;\n}\n\n.progress-view .week-day .day-box {\n  align-items: center;\n  background: #edf0f5;\n  border-radius: 16rpx;\n  color: #2c3e50;\n  display: flex;\n  font-size: 24rpx;\n  height: 70rpx;\n  justify-content: center;\n  position: relative;\n  transition: all .2s ease;\n  width: 70rpx;\n}\n\n.progress-view .week-day .day-box:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.progress-view .week-day .day-box.today {\n  border: 2rpx solid var(--theme-color) !important;\n}\n\n.progress-view .week-day .day-box.today::after {\n  background-color: var(--theme-color);\n  border-radius: 50%;\n  bottom: -20rpx;\n  content: \"\";\n  height: 8rpx;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n  width: 8rpx;\n  z-index: 1;\n}\n\n.progress-view .week-day .day-box.completed {\n  animation: complete-animation .5s cubic-bezier(.4, 0, .2, 1);\n  background: var(--theme-color) !important;\n  box-shadow: 0 0 15rpx rgba(255, 159, 10, .15);\n  color: #fff !important;\n}\n\n.progress-view .week-day .day-box.completed:not(:active) {\n  animation: none;\n}\n\n.progress-view .week-day .day-box.today.completed {\n  background: var(--theme-color) !important;\n  border-color: #fff !important;\n  color: #fff !important;\n}\n\n.progress-view .week-day .day-box.today.completed::after {\n  background-color: var(--theme-color);\n  border-radius: 50%;\n  bottom: -20rpx;\n  content: \"\";\n  height: 8rpx;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%);\n  width: 8rpx;\n  z-index: 1;\n}\n\n.progress-view .week-day .day-box.future {\n  opacity: .5;\n}\n\n.add-button {\n  position: fixed;\n  bottom: 40rpx; /* ä¿®æ”¹ï¼šå¢åŠ åº•éƒ¨è·ç¦» */\n  right: 40rpx; /* ä¿®æ”¹ï¼šå¢åŠ å³ä¾§è·ç¦» */\n  width: 100rpx;\n  height: 100rpx;\n  background: var(--theme-color);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4rpx 12rpx rgba(255, 159, 10, .15);\n  z-index: 999; /* ä¿®æ”¹ï¼šå¢åŠ  z-index ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */\n}\n\n.add-button .plus {\n  color: #fff;\n  font-size: 50rpx;\n  font-weight: 300;\n}\n\n.add-button:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.empty-state {\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: -200rpx;\n  padding: 40rpx;\n}\n\n.empty-state .empty-icon {\n  font-size: 120rpx;\n  margin-bottom: 30rpx;\n}\n\n.empty-state .empty-title {\n  color: #2c3e50;\n  font-size: 32rpx;\n  margin-bottom: 16rpx;\n}\n\n.empty-state .empty-desc {\n  color: #5c6b7a;\n  font-size: 28rpx;\n  line-height: 1.5;\n  text-align: center;\n}\n\n@-webkit-keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes complete-animation {\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(1.2);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n\n.view-container {\n  height: calc(100vh - 220rpx);\n  margin-top: 350rpx;\n  overflow-y: auto;\n  position: relative;\n}\n\n.view-container .view-page {\n  width: 100%;\n  will-change: transform;\n}\n\n.view-container .view-page, .view-container .view-page.slide-left-enter-active, .view-container .view-page.slide-right-enter-active {\n  transition: transform .3s ease-out;\n  transition: transform .3s ease-out, -webkit-transform .3s ease-out;\n}\n\n.view-container .view-page.slide-left-enter-from {\n  transform: translateX(100%);\n}\n\n.view-container .view-page.slide-right-enter-from {\n  transform: translateX(-100%);\n}\n\n.view-container .view-page.slide-left-enter-to, .view-container .view-page.slide-right-enter-to {\n  transform: translateX(0);\n}\n\n@-webkit-keyframes blink {\n  0%, 100% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: .5;\n  }\n}\n\n@keyframes blink {\n  0%, 100% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: .5;\n  }\n}\n\n.complete-order-btn {\n  background: var(--theme-color);\n  border-radius: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, .1);\n  color: #fff;\n  font-size: 28rpx;\n  padding: 10rpx 30rpx;\n}\n\n.complete-order-btn:active {\n  opacity: .9;\n  transform: scale(.95);\n}\n\n.habit-card {\n  position: relative;\n  transform-origin: center center;\n  transition: all .3s linear;\n}\n\n.habit-card.is-order-mode {\n  padding-right: 100rpx;\n  transform: translateX(-60rpx);\n}\n\n.habit-card.moving-up {\n  animation: moveUp .3s linear;\n}\n\n.habit-card.moving-down {\n  animation: moveDown .3s linear;\n}\n\n.habit-card.no-interaction, .habit-card.no-interaction .habit-content, .habit-card.no-interaction .more-actions {\n  pointer-events: none;\n}\n\n.habit-card.no-interaction .order-buttons {\n  pointer-events: auto;\n}\n\n.habit-card .order-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 20rpx;\n  position: absolute;\n  right: -70rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 10;\n}\n\n.habit-card .order-buttons .order-btn {\n  align-items: center;\n  background: #f5f7fa;\n  border-radius: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, .1);\n  display: flex;\n  height: 60rpx;\n  justify-content: center;\n  width: 60rpx;\n}\n\n.habit-card .order-buttons .order-btn.disabled {\n  opacity: .5;\n  pointer-events: none;\n}\n\n.habit-card .order-buttons .order-btn:active {\n  opacity: .9;\n  transform: scale(.9);\n}\n\n.habit-card .order-buttons .order-btn .order-icon {\n  color: #2c3e50;\n  font-size: 32rpx;\n  font-weight: 700;\n}\n\n.habit-card .order-buttons .order-btn.up {\n  background: var(--theme-color);\n}\n\n.habit-card .order-buttons .order-btn.up .order-icon {\n  color: #fff;\n}\n\n.habit-card .order-buttons .order-btn.down {\n  background: #edf0f5;\n}\n\n.month-habit-card.no-interaction {\n  pointer-events: none;\n}\n\n@-webkit-keyframes moveUp {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(-240rpx);\n  }\n}\n\n@keyframes moveUp {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(-240rpx);\n  }\n}\n\n@-webkit-keyframes moveDown {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(240rpx);\n  }\n}\n\n@keyframes moveDown {\n  0% {\n    transform: translateX(-60rpx) translateY(0);\n  }\n\n  100% {\n    transform: translateX(-60rpx) translateY(240rpx);\n  }\n}\n\n.expand-button {\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  gap: 10rpx;\n  justify-content: center;\n  padding: 20rpx 0 10rpx;\n}\n\n.expand-button .expand-icon, .expand-button .expand-text {\n  color: #5c6b7a;\n  font-size: 24rpx;\n}\n\n.expand-button .expand-icon {\n  transition: transform .3s ease;\n  transition: transform .3s ease, -webkit-transform .3s ease;\n}\n\n.expand-button:active {\n  opacity: .9;\n}\n\n.notes-container {\n  border-top: 2rpx solid #edf0f5;\n  margin-top: 20rpx;\n  padding-top: 20rpx;\n  position: relative;\n  z-index: 1;\n}\n\n.notes-container .empty-notes {\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: center;\n  padding: 30rpx;\n  width: 100%;\n}\n\n.notes-container .empty-notes text {\n  color: rgba(44, 62, 80, .6);\n  font-size: 28rpx;\n  text-align: center;\n}\n\n.notes-container .notes-list {\n  box-sizing: border-box;\n  margin: 0 auto;\n  max-height: 400rpx;\n  overflow-y: auto;\n  width: 100%;\n}\n\n.notes-container .notes-list .note-item {\n  background: #edf0f5;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, .05), 0 2rpx 8rpx rgba(0, 0, 0, .02);\n  box-sizing: border-box;\n  margin-bottom: 20rpx;\n  padding: 30rpx;\n  transition: all .2s ease;\n  width: 100%;\n}\n\n.notes-container .notes-list .note-item:active {\n  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, .03), 0 1rpx 4rpx rgba(0, 0, 0, .01);\n  transform: scale(.98);\n}\n\n.notes-container .notes-list .note-item .note-time {\n  align-items: center;\n  color: #8c9baa;\n  display: flex;\n  font-size: 24rpx;\n  justify-content: space-between;\n  margin-bottom: 16rpx;\n  padding-bottom: 12rpx;\n}\n\n.notes-container .notes-list .note-item .note-time .time-left {\n  align-items: center;\n  display: flex;\n  gap: 8rpx;\n}\n\n.notes-container .notes-list .note-item .note-time .time-left .date {\n  color: #5c6b7a;\n}\n\n.notes-container .notes-list .note-item .note-time .time-left .time {\n  color: #8c9baa;\n}\n\n.notes-container .notes-list .note-item .note-time .time-right {\n  color: #8c9baa;\n  font-size: 22rpx;\n  opacity: .8;\n}\n\n.notes-container .notes-list .note-item .note-content {\n  color: #2c3e50;\n  font-size: 28rpx;\n  line-height: 1.6;\n  padding-top: 4rpx;\n}\n\n.backup-actions .backup-btn {\n  align-items: center;\n  background: transparent;\n  border: none;\n  display: flex;\n  justify-content: center;\n  margin: 0;\n  padding: 10rpx;\n}\n\n.backup-actions .backup-btn::after {\n  border: none;\n}\n\n.backup-actions .backup-btn .icon {\n  font-size: 40rpx;\n}\n\n.backup-actions .backup-btn:active {\n  opacity: .7;\n}\n</style>","import MiniProgramPage from '/Users/linsir/Experiments/uni-app/habit-ai-uniapp/habit-ai-uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}